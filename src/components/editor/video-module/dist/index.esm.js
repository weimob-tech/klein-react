import{i18nAddResources as t,DomEditor as e,genModalInputElems as r,t as n,genModalButtonElems as o,createUploader as i}from"@klein-editor/core";import{Transforms as u,Range as a}from"slate";import{jsx as c,h as f}from"snabbdom";import s,{append as l,on as p,focus as d,attr as v,val as h,html as y,parent as g,hasClass as m,empty as b}from"dom7";import{nanoid as w}from"nanoid";t("en",{videoModule:{delete:"Delete",uploadVideo:"Upload video",insertVideo:"Insert video",videoSrc:"Video source",videoSrcPlaceHolder:"Video file url, or third-party <iframe>",videoPoster:"Video poster",videoPosterPlaceHolder:"Poster image url",ok:"Ok",editSize:"Edit size",width:"Width",height:"Height"}}),t("zh-CN",{videoModule:{delete:"删除视频",uploadVideo:"上传视频",insertVideo:"插入视频",videoSrc:"视频地址",videoSrcPlaceHolder:"视频文件 url 或第三方 <iframe>",videoPoster:"视频封面",videoPosterPlaceHolder:"封面图片 url",ok:"确定",editSize:"修改尺寸",width:"宽度",height:"高度"}});var x="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function S(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function O(t){var e={exports:{}};return t(e,e.exports),e.exports}var j,E,P=function(t){return t&&t.Math==Math&&t},T=P("object"==typeof globalThis&&globalThis)||P("object"==typeof window&&window)||P("object"==typeof self&&self)||P("object"==typeof x&&x)||function(){return this}()||Function("return this")(),k=function(t){try{return!!t()}catch(t){return!0}},I=!k((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),A=I,M=Function.prototype,_=M.apply,R=M.call,C="object"==typeof Reflect&&Reflect.apply||(A?R.bind(_):function(){return R.apply(_,arguments)}),L=Function.prototype,N=L.bind,F=L.call,D=A&&N.bind(F,F),z=A?function(t){return t&&D(t)}:function(t){return t&&function(){return F.apply(t,arguments)}},V=!k((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),$=Function.prototype.call,G=A?$.bind($):function(){return $.apply($,arguments)},U={}.propertyIsEnumerable,H=Object.getOwnPropertyDescriptor,B={f:H&&!U.call({1:2},1)?function(t){var e=H(this,t);return!!e&&e.enumerable}:U},W=z,K=W({}.toString),Y=W("".slice),X=function(t){return Y(K(t),8,-1)},J=Object,q=W("".split),Q=k((function(){return!J("z").propertyIsEnumerable(0)}))?function(t){return"String"==X(t)?q(t,""):J(t)}:J,Z=function(t){return null==t},tt=TypeError,et=Q,rt=function(t){if(Z(t))throw tt("Can't call method on "+t);return t},nt=function(t){return"function"==typeof t},ot="object"==typeof document&&document.all,it=void 0===ot&&void 0!==ot?function(t){return"object"==typeof t?null!==t:nt(t)||t===ot}:function(t){return"object"==typeof t?null!==t:nt(t)},ut={},at=T,ct=function(t){return nt(t)?t:void 0},ft=W({}.isPrototypeOf),st=function(t,e){return arguments.length<2?ct(ut[t])||ct(at[t]):ut[t]&&ut[t][e]||at[t]&&at[t][e]},lt=st("navigator","userAgent")||"",pt=at.process,dt=at.Deno,vt=pt&&pt.versions||dt&&dt.version,ht=vt&&vt.v8;ht&&(E=(j=ht.split("."))[0]>0&&j[0]<4?1:+(j[0]+j[1])),!E&&lt&&(!(j=lt.match(/Edge\/(\d+)/))||j[1]>=74)&&(j=lt.match(/Chrome\/(\d+)/))&&(E=+j[1]);var yt=E,gt=!!Object.getOwnPropertySymbols&&!k((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&yt&&yt<41})),mt=gt,bt=mt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,wt=ft,xt=bt,St=Object,Ot=xt?function(t){return"symbol"==typeof t}:function(t){var e=st("Symbol");return nt(e)&&wt(e.prototype,St(t))},jt=String,Et=function(t){try{return jt(t)}catch(t){return"Object"}},Pt=TypeError,Tt=function(t){if(nt(t))return t;throw Pt(Et(t)+" is not a function")},kt=G,It=it,At=TypeError,Mt=Object.defineProperty,_t=function(t,e){try{Mt(at,t,{value:e,configurable:!0,writable:!0})}catch(r){at[t]=e}return e},Rt=at["__core-js_shared__"]||_t("__core-js_shared__",{}),Ct=Rt,Lt=O((function(t){(t.exports=function(t,e){return Ct[t]||(Ct[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.25.1",mode:"pure",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.1/LICENSE",source:"https://github.com/zloirock/core-js"})})),Nt=Object,Ft=function(t){return Nt(rt(t))},Dt=W({}.hasOwnProperty),zt=Object.hasOwn||function(t,e){return Dt(Ft(t),e)},Vt=0,$t=Math.random(),Gt=W(1..toString),Ut=Lt,Ht=zt,Bt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+Gt(++Vt+$t,36)},Wt=Ut("wks"),Kt=at.Symbol,Yt=Kt&&Kt.for,Xt=xt?Kt:Kt&&Kt.withoutSetter||Bt,Jt=Ot,qt=function(t,e){var r=t[e];return Z(r)?void 0:Tt(r)},Qt=function(t,e){var r,n;if("string"===e&&nt(r=t.toString)&&!It(n=kt(r,t)))return n;if(nt(r=t.valueOf)&&!It(n=kt(r,t)))return n;if("string"!==e&&nt(r=t.toString)&&!It(n=kt(r,t)))return n;throw At("Can't convert object to primitive value")},Zt=function(t){if(!Ht(Wt,t)||!mt&&"string"!=typeof Wt[t]){var e="Symbol."+t;mt&&Ht(Kt,t)?Wt[t]=Kt[t]:Wt[t]=xt&&Yt?Yt(e):Xt(e)}return Wt[t]},te=TypeError,ee=Zt("toPrimitive"),re=function(t,e){if(!It(t)||Jt(t))return t;var r,n=qt(t,ee);if(n){if(void 0===e&&(e="default"),r=kt(n,t,e),!It(r)||Jt(r))return r;throw te("Can't convert object to primitive value")}return void 0===e&&(e="number"),Qt(t,e)},ne=at.document,oe=It(ne)&&It(ne.createElement),ie=V,ue=function(t){return oe?ne.createElement(t):{}},ae=!ie&&!k((function(){return 7!=Object.defineProperty(ue("div"),"a",{get:function(){return 7}}).a})),ce=B,fe=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},se=function(t){return et(rt(t))},le=function(t){var e=re(t,"string");return Jt(e)?e:e+""},pe=ae,de=Object.getOwnPropertyDescriptor,ve={f:ie?de:function(t,e){if(t=se(t),e=le(e),pe)try{return de(t,e)}catch(t){}if(Ht(t,e))return fe(!kt(ce.f,t,e),t[e])}},he=/#|\.prototype\./,ye=function(t,e){var r=me[ge(t)];return r==we||r!=be&&(nt(e)?k(e):!!e)},ge=ye.normalize=function(t){return String(t).replace(he,".").toLowerCase()},me=ye.data={},be=ye.NATIVE="N",we=ye.POLYFILL="P",xe=ye,Se=W(W.bind),Oe=ie&&k((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),je=String,Ee=TypeError,Pe=Oe,Te=function(t){if(It(t))return t;throw Ee(je(t)+" is not an object")},ke=TypeError,Ie=Object.defineProperty,Ae=Object.getOwnPropertyDescriptor,Me={f:ie?Pe?function(t,e,r){if(Te(t),e=le(e),Te(r),"function"==typeof t&&"prototype"===e&&"value"in r&&"writable"in r&&!r.writable){var n=Ae(t,e);n&&n.writable&&(t[e]=r.value,r={configurable:"configurable"in r?r.configurable:n.configurable,enumerable:"enumerable"in r?r.enumerable:n.enumerable,writable:!1})}return Ie(t,e,r)}:Ie:function(t,e,r){if(Te(t),e=le(e),Te(r),pe)try{return Ie(t,e,r)}catch(t){}if("get"in r||"set"in r)throw ke("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},_e=C,Re=ve,Ce=xe,Le=function(t,e){return Tt(t),void 0===e?t:A?Se(t,e):function(){return t.apply(e,arguments)}},Ne=ie?function(t,e,r){return Me.f(t,e,fe(1,r))}:function(t,e,r){return t[e]=r,t},Fe=Re.f,De=function(t){var e=function(r,n,o){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(r);case 2:return new t(r,n)}return new t(r,n,o)}return _e(t,this,arguments)};return e.prototype=t.prototype,e},ze=Array.isArray||function(t){return"Array"==X(t)},Ve=function(t,e){var r,n,o,i,u,a,c,f,s=t.target,l=t.global,p=t.stat,d=t.proto,v=l?at:p?at[s]:(at[s]||{}).prototype,h=l?ut:ut[s]||Ne(ut,s,{})[s],y=h.prototype;for(o in e)r=!Ce(l?o:s+(p?".":"#")+o,t.forced)&&v&&Ht(v,o),u=h[o],r&&(a=t.dontCallGetSet?(f=Fe(v,o))&&f.value:v[o]),i=r&&a?a:e[o],r&&typeof u==typeof i||(c=t.bind&&r?Le(i,at):t.wrap&&r?De(i):d&&nt(i)?W(i):i,(t.sham||i&&i.sham||u&&u.sham)&&Ne(c,"sham",!0),Ne(h,o,c),d&&(Ht(ut,n=s+"Prototype")||Ne(ut,n,{}),Ne(ut[n],o,i),t.real&&y&&!y[o]&&Ne(y,o,i)))},$e=ze;Ve({target:"Array",stat:!0},{isArray:$e});var Ge=ut.Array.isArray,Ue=O((function(t){t.exports=function(t){if(Ge(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports})),He=Math.ceil,Be=Math.floor,We=Math.trunc||function(t){var e=+t;return(e>0?Be:He)(e)},Ke=function(t){var e=+t;return e!=e||0===e?0:We(e)},Ye=Math.min,Xe=function(t){return t>0?Ye(Ke(t),9007199254740991):0},Je=TypeError,qe={};qe[Zt("toStringTag")]="z";var Qe="[object z]"===String(qe),Ze=Zt("toStringTag"),tr=Object,er="Arguments"==X(function(){return arguments}()),rr=Qe?X:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=tr(t),Ze))?r:er?X(e):"Object"==(n=X(e))&&nt(e.callee)?"Arguments":n},nr=W(Function.toString);nt(Ct.inspectSource)||(Ct.inspectSource=function(t){return nr(t)});var or=Ct.inspectSource,ir=rr,ur=or,ar=function(){},cr=[],fr=st("Reflect","construct"),sr=/^\s*(?:class|function)\b/,lr=W(sr.exec),pr=!sr.exec(ar),dr=function(t){if(!nt(t))return!1;try{return fr(ar,cr,t),!0}catch(t){return!1}},vr=function(t){if(!nt(t))return!1;switch(ir(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return pr||!!lr(sr,ur(t))}catch(t){return!0}};vr.sham=!0;var hr=!fr||k((function(){var t;return dr(dr.call)||!dr(Object)||!dr((function(){t=!0}))||t}))?vr:dr,yr=hr,gr=Zt("species"),mr=Array,br=function(t){var e;return $e(t)&&(e=t.constructor,(yr(e)&&(e===mr||$e(e.prototype))||It(e)&&null===(e=e[gr]))&&(e=void 0)),void 0===e?mr:e},wr=Zt("species"),xr=function(t){return Xe(t.length)},Sr=function(t){if(t>9007199254740991)throw Je("Maximum allowed index exceeded");return t},Or=function(t,e,r){var n=le(e);n in t?Me.f(t,n,fe(0,r)):t[n]=r},jr=function(t,e){return new(br(t))(0===e?0:e)},Er=function(t){return yt>=51||!k((function(){var e=[];return(e.constructor={})[wr]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Pr=Zt("isConcatSpreadable"),Tr=yt>=51||!k((function(){var t=[];return t[Pr]=!1,t.concat()[0]!==t})),kr=Er("concat"),Ir=function(t){if(!It(t))return!1;var e=t[Pr];return void 0!==e?!!e:$e(t)};Ve({target:"Array",proto:!0,arity:1,forced:!Tr||!kr},{concat:function(t){var e,r,n,o,i,u=Ft(this),a=jr(u,0),c=0;for(e=-1,n=arguments.length;e<n;e++)if(Ir(i=-1===e?u:arguments[e]))for(o=xr(i),Sr(c+o),r=0;r<o;r++,c++)r in i&&Or(a,c,i[r]);else Sr(c+1),Or(a,c++,i);return a.length=c,a}});var Ar,Mr=String,_r=Math.max,Rr=Math.min,Cr=function(t,e){var r=Ke(t);return r<0?_r(r+e,0):Rr(r,e)},Lr=function(t){return function(e,r,n){var o,i=se(e),u=xr(i),a=Cr(n,u);if(t&&r!=r){for(;u>a;)if((o=i[a++])!=o)return!0}else for(;u>a;a++)if((t||a in i)&&i[a]===r)return t||a||0;return!t&&-1}},Nr={includes:Lr(!0),indexOf:Lr(!1)},Fr={},Dr=Nr.indexOf,zr=W([].push),Vr=function(t,e){var r,n=se(t),o=0,i=[];for(r in n)!Ht(Fr,r)&&Ht(n,r)&&zr(i,r);for(;e.length>o;)Ht(n,r=e[o++])&&(~Dr(i,r)||zr(i,r));return i},$r=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Gr=Object.keys||function(t){return Vr(t,$r)},Ur=ie&&!Pe?Object.defineProperties:function(t,e){Te(t);for(var r,n=se(e),o=Gr(e),i=o.length,u=0;i>u;)Me.f(t,r=o[u++],n[r]);return t},Hr={f:Ur},Br=st("document","documentElement"),Wr=Ut("keys"),Kr=Hr,Yr=Br,Xr=function(t){return Wr[t]||(Wr[t]=Bt(t))},Jr=Xr("IE_PROTO"),qr=function(){},Qr=function(t){return"<script>"+t+"<\/script>"},Zr=function(t){t.write(Qr("")),t.close();var e=t.parentWindow.Object;return t=null,e},tn=function(){try{Ar=new ActiveXObject("htmlfile")}catch(t){}var t,e;tn="undefined"!=typeof document?document.domain&&Ar?Zr(Ar):((e=ue("iframe")).style.display="none",Yr.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Qr("document.F=Object")),t.close(),t.F):Zr(Ar);for(var r=$r.length;r--;)delete tn.prototype[$r[r]];return tn()};Fr[Jr]=!0;var en,rn,nn,on=Object.create||function(t,e){var r;return null!==t?(qr.prototype=Te(t),r=new qr,qr.prototype=null,r[Jr]=t):r=tn(),void 0===e?r:Kr.f(r,e)},un=$r.concat("length","prototype"),an={f:Object.getOwnPropertyNames||function(t){return Vr(t,un)}},cn=Array,fn=Math.max,sn=an,ln=function(t,e,r){for(var n=xr(t),o=Cr(e,n),i=Cr(void 0===r?n:r,n),u=cn(fn(i-o,0)),a=0;o<i;o++,a++)Or(u,a,t[o]);return u.length=a,u},pn=sn.f,dn="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],vn={f:function(t){return dn&&"Window"==X(t)?function(t){try{return pn(t)}catch(t){return ln(dn)}}(t):pn(se(t))}},hn={f:Object.getOwnPropertySymbols},yn={f:Zt},gn=Me.f,mn=function(t,e,r,n){return n&&n.enumerable?t[e]=r:Ne(t,e,r),t},bn=Qe?{}.toString:function(){return"[object "+ir(this)+"]"},wn=Me.f,xn=Zt("toStringTag"),Sn=at.WeakMap,On=nt(Sn)&&/native code/.test(String(Sn)),jn=at.TypeError,En=at.WeakMap;if(On||Ct.state){var Pn=Ct.state||(Ct.state=new En),Tn=W(Pn.get),kn=W(Pn.has),In=W(Pn.set);en=function(t,e){if(kn(Pn,t))throw jn("Object already initialized");return e.facade=t,In(Pn,t,e),e},rn=function(t){return Tn(Pn,t)||{}},nn=function(t){return kn(Pn,t)}}else{var An=Xr("state");Fr[An]=!0,en=function(t,e){if(Ht(t,An))throw jn("Object already initialized");return e.facade=t,Ne(t,An,e),e},rn=function(t){return Ht(t,An)?t[An]:{}},nn=function(t){return Ht(t,An)}}var Mn={set:en,get:rn,has:nn,enforce:function(t){return nn(t)?rn(t):en(t,{})},getterFor:function(t){return function(e){var r;if(!It(e)||(r=rn(e)).type!==t)throw jn("Incompatible receiver, "+t+" required");return r}}},_n=W([].push),Rn=function(t){var e=1==t,r=2==t,n=3==t,o=4==t,i=6==t,u=7==t,a=5==t||i;return function(c,f,s,l){for(var p,d,v=Ft(c),h=et(v),y=Le(f,s),g=xr(h),m=0,b=l||jr,w=e?b(c,g):r||u?b(c,0):void 0;g>m;m++)if((a||m in h)&&(d=y(p=h[m],m,v),t))if(e)w[m]=d;else if(d)switch(t){case 3:return!0;case 5:return p;case 6:return m;case 2:_n(w,p)}else switch(t){case 4:return!1;case 7:_n(w,p)}return i?-1:n||o?o:w}},Cn={forEach:Rn(0),map:Rn(1),filter:Rn(2),some:Rn(3),every:Rn(4),find:Rn(5),findIndex:Rn(6),filterReject:Rn(7)},Ln=function(t){if("Symbol"===ir(t))throw TypeError("Cannot convert a Symbol value to a string");return Mr(t)},Nn=on,Fn=vn,Dn=hn,zn=function(t){var e=ut.Symbol||(ut.Symbol={});Ht(e,t)||gn(e,t,{value:yn.f(t)})},Vn=function(){var t=st("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,n=Zt("toPrimitive");e&&!e[n]&&mn(e,n,(function(t){return kt(r,this)}),{arity:1})},$n=function(t,e,r,n){if(t){var o=r?t:t.prototype;Ht(o,xn)||wn(o,xn,{configurable:!0,value:e}),n&&!Qe&&Ne(o,"toString",bn)}},Gn=Mn,Un=Cn,Hn=Un.forEach,Bn=Xr("hidden"),Wn=Gn.set,Kn=Gn.getterFor("Symbol"),Yn=Object.prototype,Xn=at.Symbol,Jn=Xn&&Xn.prototype,qn=at.TypeError,Qn=at.QObject,Zn=Re.f,to=Me.f,eo=Fn.f,ro=ce.f,no=W([].push),oo=Ut("symbols"),io=Ut("op-symbols"),uo=Ut("wks"),ao=!Qn||!Qn.prototype||!Qn.prototype.findChild,co=ie&&k((function(){return 7!=Nn(to({},"a",{get:function(){return to(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=Zn(Yn,e);n&&delete Yn[e],to(t,e,r),n&&t!==Yn&&to(Yn,e,n)}:to,fo=function(t,e){var r=oo[t]=Nn(Jn);return Wn(r,{type:"Symbol",tag:t,description:e}),ie||(r.description=e),r},so=function(t,e,r){t===Yn&&so(io,e,r),Te(t);var n=le(e);return Te(r),Ht(oo,n)?(r.enumerable?(Ht(t,Bn)&&t[Bn][n]&&(t[Bn][n]=!1),r=Nn(r,{enumerable:fe(0,!1)})):(Ht(t,Bn)||to(t,Bn,fe(1,{})),t[Bn][n]=!0),co(t,n,r)):to(t,n,r)},lo=function(t,e){Te(t);var r=se(e),n=Gr(r).concat(yo(r));return Hn(n,(function(e){ie&&!kt(po,r,e)||so(t,e,r[e])})),t},po=function(t){var e=le(t),r=kt(ro,this,e);return!(this===Yn&&Ht(oo,e)&&!Ht(io,e))&&(!(r||!Ht(this,e)||!Ht(oo,e)||Ht(this,Bn)&&this[Bn][e])||r)},vo=function(t,e){var r=se(t),n=le(e);if(r!==Yn||!Ht(oo,n)||Ht(io,n)){var o=Zn(r,n);return!o||!Ht(oo,n)||Ht(r,Bn)&&r[Bn][n]||(o.enumerable=!0),o}},ho=function(t){var e=eo(se(t)),r=[];return Hn(e,(function(t){Ht(oo,t)||Ht(Fr,t)||no(r,t)})),r},yo=function(t){var e=t===Yn,r=eo(e?io:se(t)),n=[];return Hn(r,(function(t){!Ht(oo,t)||e&&!Ht(Yn,t)||no(n,oo[t])})),n};mt||(Jn=(Xn=function(){if(wt(Jn,this))throw qn("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?Ln(arguments[0]):void 0,e=Bt(t),r=function(t){this===Yn&&kt(r,io,t),Ht(this,Bn)&&Ht(this[Bn],e)&&(this[Bn][e]=!1),co(this,e,fe(1,t))};return ie&&ao&&co(Yn,e,{configurable:!0,set:r}),fo(e,t)}).prototype,mn(Jn,"toString",(function(){return Kn(this).tag})),mn(Xn,"withoutSetter",(function(t){return fo(Bt(t),t)})),ce.f=po,Me.f=so,Kr.f=lo,Re.f=vo,sn.f=Fn.f=ho,Dn.f=yo,yn.f=function(t){return fo(Zt(t),t)},ie&&to(Jn,"description",{configurable:!0,get:function(){return Kn(this).description}})),Ve({global:!0,constructor:!0,wrap:!0,forced:!mt,sham:!mt},{Symbol:Xn}),Hn(Gr(uo),(function(t){zn(t)})),Ve({target:"Symbol",stat:!0,forced:!mt},{useSetter:function(){ao=!0},useSimple:function(){ao=!1}}),Ve({target:"Object",stat:!0,forced:!mt,sham:!ie},{create:function(t,e){return void 0===e?Nn(t):lo(Nn(t),e)},defineProperty:so,defineProperties:lo,getOwnPropertyDescriptor:vo}),Ve({target:"Object",stat:!0,forced:!mt},{getOwnPropertyNames:ho}),Vn(),$n(Xn,"Symbol"),Fr[Bn]=!0;var go=mt&&!!Symbol.for&&!!Symbol.keyFor,mo=Ut("string-to-symbol-registry"),bo=Ut("symbol-to-string-registry");Ve({target:"Symbol",stat:!0,forced:!go},{for:function(t){var e=Ln(t);if(Ht(mo,e))return mo[e];var r=st("Symbol")(e);return mo[e]=r,bo[r]=e,r}});var wo=Ut("symbol-to-string-registry");Ve({target:"Symbol",stat:!0,forced:!go},{keyFor:function(t){if(!Jt(t))throw TypeError(Et(t)+" is not a symbol");if(Ht(wo,t))return wo[t]}});var xo=W([].slice),So=st("JSON","stringify"),Oo=W(/./.exec),jo=W("".charAt),Eo=W("".charCodeAt),Po=W("".replace),To=W(1..toString),ko=/[\uD800-\uDFFF]/g,Io=/^[\uD800-\uDBFF]$/,Ao=/^[\uDC00-\uDFFF]$/,Mo=!mt||k((function(){var t=st("Symbol")();return"[null]"!=So([t])||"{}"!=So({a:t})||"{}"!=So(Object(t))})),_o=k((function(){return'"\\udf06\\ud834"'!==So("\udf06\ud834")||'"\\udead"'!==So("\udead")})),Ro=function(t,e){var r=xo(arguments),n=e;if((It(e)||void 0!==t)&&!Jt(t))return $e(e)||(e=function(t,e){if(nt(n)&&(e=kt(n,this,t,e)),!Jt(e))return e}),r[1]=e,_e(So,null,r)},Co=function(t,e,r){var n=jo(r,e-1),o=jo(r,e+1);return Oo(Io,t)&&!Oo(Ao,o)||Oo(Ao,t)&&!Oo(Io,n)?"\\u"+To(Eo(t,0),16):t};So&&Ve({target:"JSON",stat:!0,arity:3,forced:Mo||_o},{stringify:function(t,e,r){var n=xo(arguments),o=_e(Mo?Ro:So,null,n);return _o&&"string"==typeof o?Po(o,ko,Co):o}});var Lo=!mt||k((function(){Dn.f(1)}));Ve({target:"Object",stat:!0,forced:Lo},{getOwnPropertySymbols:function(t){var e=Dn.f;return e?e(Ft(t)):[]}}),zn("asyncIterator"),zn("hasInstance"),zn("isConcatSpreadable"),zn("iterator"),zn("match"),zn("matchAll"),zn("replace"),zn("search"),zn("species"),zn("split"),zn("toPrimitive"),Vn(),zn("toStringTag"),$n(st("Symbol"),"Symbol"),zn("unscopables"),$n(at.JSON,"JSON",!0);var No,Fo,Do,zo=ut.Symbol,Vo=Function.prototype,$o=ie&&Object.getOwnPropertyDescriptor,Go=Ht(Vo,"name"),Uo={EXISTS:Go,PROPER:Go&&"something"===function(){}.name,CONFIGURABLE:Go&&(!ie||ie&&$o(Vo,"name").configurable)},Ho=!k((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Bo=Xr("IE_PROTO"),Wo=Object,Ko=Wo.prototype,Yo=Ho?Wo.getPrototypeOf:function(t){var e=Ft(t);if(Ht(e,Bo))return e[Bo];var r=e.constructor;return nt(r)&&e instanceof r?r.prototype:e instanceof Wo?Ko:null},Xo=Zt("iterator"),Jo=!1;[].keys&&("next"in(Do=[].keys())?(Fo=Yo(Yo(Do)))!==Object.prototype&&(No=Fo):Jo=!0);var qo=!It(No)||k((function(){var t={};return No[Xo].call(t)!==t}));No=qo?{}:Nn(No),nt(No[Xo])||mn(No,Xo,(function(){return this}));var Qo={IteratorPrototype:No,BUGGY_SAFARI_ITERATORS:Jo},Zo={},ti=Qo.IteratorPrototype,ei=function(){return this},ri=String,ni=TypeError,oi=function(t){if("object"==typeof t||nt(t))return t;throw ni("Can't set "+ri(t)+" as a prototype")},ii=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=W(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return Te(r),oi(n),e?t(r,n):r.__proto__=n,r}}():void 0),ui=Uo,ai=function(t,e,r,n){var o=e+" Iterator";return t.prototype=Nn(ti,{next:fe(+!n,r)}),$n(t,o,!1,!0),Zo[o]=ei,t},ci=ii,fi=ui.PROPER,si=Qo.BUGGY_SAFARI_ITERATORS,li=Zt("iterator"),pi=function(){return this},di=function(){},vi=function(t,e,r,n,o,i,u){ai(r,e,n);var a,c,f,s=function(t){if(t===o&&h)return h;if(!si&&t in d)return d[t];switch(t){case"keys":case"values":case"entries":return function(){return new r(this,t)}}return function(){return new r(this)}},l=e+" Iterator",p=!1,d=t.prototype,v=d[li]||d["@@iterator"]||o&&d[o],h=!si&&v||s(o),y="Array"==e&&d.entries||v;if(y&&(a=Yo(y.call(new t)))!==Object.prototype&&a.next&&($n(a,l,!0,!0),Zo[l]=pi),fi&&"values"==o&&v&&"values"!==v.name&&(p=!0,h=function(){return kt(v,this)}),o)if(c={values:s("values"),keys:i?h:s("keys"),entries:s("entries")},u)for(f in c)(si||p||!(f in d))&&mn(d,f,c[f]);else Ve({target:e,proto:!0,forced:si||p},c);return u&&d[li]!==h&&mn(d,li,h,{name:o}),Zo[e]=h,c},hi=function(t,e){return{value:t,done:e}},yi=(Me.f,Gn.set),gi=Gn.getterFor("Array Iterator");vi(Array,"Array",(function(t,e){yi(this,{type:"Array Iterator",target:se(t),index:0,kind:e})}),(function(){var t=gi(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,hi(void 0,!0)):hi("keys"==r?n:"values"==r?e[n]:[n,e[n]],!1)}),"values");Zo.Arguments=Zo.Array;di(),di(),di();var mi={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},bi=Zt("toStringTag");for(var wi in mi){var xi=at[wi],Si=xi&&xi.prototype;Si&&ir(Si)!==bi&&Ne(Si,bi,wi),Zo[wi]=Zo.Array}var Oi=zo,ji=Oi;zn("asyncDispose"),zn("dispose"),zn("matcher"),zn("metadataKey"),zn("observable"),zn("metadata"),zn("patternMatch"),zn("replaceAll");var Ei=ji,Pi=W("".charAt),Ti=W("".charCodeAt),ki=W("".slice),Ii=function(t){return function(e,r){var n,o,i=Ln(rt(e)),u=Ke(r),a=i.length;return u<0||u>=a?t?"":void 0:(n=Ti(i,u))<55296||n>56319||u+1===a||(o=Ti(i,u+1))<56320||o>57343?t?Pi(i,u):n:t?ki(i,u,u+2):o-56320+(n-55296<<10)+65536}},Ai={codeAt:Ii(!1),charAt:Ii(!0)}.charAt,Mi=Gn.set,_i=Gn.getterFor("String Iterator");vi(String,"String",(function(t){Mi(this,{type:"String Iterator",string:Ln(t),index:0})}),(function(){var t,e=_i(this),r=e.string,n=e.index;return n>=r.length?hi(void 0,!0):(t=Ai(r,n),e.index+=t.length,hi(t,!1))}));var Ri=Zt("iterator"),Ci=function(t){if(!Z(t))return qt(t,Ri)||qt(t,"@@iterator")||Zo[ir(t)]},Li=Ci,Ni=O((function(t){t.exports=function(t,e){var r=null==t?null:void 0!==Ei&&Li(t)||t["@@iterator"];if(null!=r){var n,o,i=[],u=!0,a=!1;try{for(r=r.call(t);!(u=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}},t.exports.__esModule=!0,t.exports.default=t.exports})),Fi=Er("slice"),Di=Zt("species"),zi=Array,Vi=Math.max;Ve({target:"Array",proto:!0,forced:!Fi},{slice:function(t,e){var r,n,o,i=se(this),u=xr(i),a=Cr(t,u),c=Cr(void 0===e?u:e,u);if($e(i)&&(r=i.constructor,(yr(r)&&(r===zi||$e(r.prototype))||It(r)&&null===(r=r[Di]))&&(r=void 0),r===zi||void 0===r))return xo(i,a,c);for(n=new(void 0===r?zi:r)(Vi(c-a,0)),o=0;a<c;a++,o++)a in i&&Or(n,o,i[a]);return n.length=o,n}});var $i=function(t){return ut[t+"Prototype"]},Gi=$i("Array").slice,Ui=Array.prototype,Hi=function(t){var e=t.slice;return t===Ui||wt(Ui,t)&&e===Ui.slice?Gi:e},Bi=Hi,Wi=function(t,e,r){var n,o;Te(t);try{if(!(n=qt(t,"return"))){if("throw"===e)throw r;return r}n=kt(n,t)}catch(t){o=!0,n=t}if("throw"===e)throw r;if(o)throw n;return Te(n),r},Ki=Zt("iterator"),Yi=Array.prototype,Xi=TypeError,Ji=function(t,e,r,n){try{return n?e(Te(r)[0],r[1]):e(r)}catch(e){Wi(t,"throw",e)}},qi=function(t){return void 0!==t&&(Zo.Array===t||Yi[Ki]===t)},Qi=function(t,e){var r=arguments.length<2?Ci(t):e;if(Tt(r))return Te(kt(r,t));throw Xi(Et(t)+" is not iterable")},Zi=Array,tu=Zt("iterator"),eu=!1;try{var ru=0,nu={next:function(){return{done:!!ru++}},return:function(){eu=!0}};nu[tu]=function(){return this},Array.from(nu,(function(){throw 2}))}catch(t){}var ou=function(t){var e=Ft(t),r=yr(this),n=arguments.length,o=n>1?arguments[1]:void 0,i=void 0!==o;i&&(o=Le(o,n>2?arguments[2]:void 0));var u,a,c,f,s,l,p=Ci(e),d=0;if(!p||this===Zi&&qi(p))for(u=xr(e),a=r?new this(u):Zi(u);u>d;d++)l=i?o(e[d],d):e[d],Or(a,d,l);else for(s=(f=Qi(e,p)).next,a=r?new this:[];!(c=kt(s,f)).done;d++)l=i?Ji(f,o,[c.value,d],!0):c.value,Or(a,d,l);return a.length=d,a},iu=function(t,e){if(!e&&!eu)return!1;var r=!1;try{var n={};n[tu]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r},uu=!iu((function(t){Array.from(t)}));Ve({target:"Array",stat:!0,forced:uu},{from:ou});var au=ut.Array.from,cu=O((function(t){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n},t.exports.__esModule=!0,t.exports.default=t.exports})),fu=O((function(t){t.exports=function(t,e){var r;if(t){if("string"==typeof t)return cu(t,e);var n=Bi(r=Object.prototype.toString.call(t)).call(r,8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?au(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cu(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports})),su=O((function(t){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports})),lu=S(O((function(t){t.exports=function(t,e){return Ue(t)||Ni(t,e)||fu(t,e)||su()},t.exports.__esModule=!0,t.exports.default=t.exports})));var pu,du,vu=function(t){return t&&t.Math==Math&&t},hu=vu("object"==typeof globalThis&&globalThis)||vu("object"==typeof window&&window)||vu("object"==typeof self&&self)||vu("object"==typeof x&&x)||function(){return this}()||Function("return this")(),yu=function(t){try{return!!t()}catch(t){return!0}},gu=!yu((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),mu=!yu((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),bu=Function.prototype.call,wu=mu?bu.bind(bu):function(){return bu.apply(bu,arguments)},xu={}.propertyIsEnumerable,Su=Object.getOwnPropertyDescriptor,Ou={f:Su&&!xu.call({1:2},1)?function(t){var e=Su(this,t);return!!e&&e.enumerable}:xu},ju=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},Eu=Function.prototype,Pu=Eu.bind,Tu=Eu.call,ku=mu&&Pu.bind(Tu,Tu),Iu=mu?function(t){return t&&ku(t)}:function(t){return t&&function(){return Tu.apply(t,arguments)}},Au=Iu({}.toString),Mu=Iu("".slice),_u=function(t){return Mu(Au(t),8,-1)},Ru=Object,Cu=Iu("".split),Lu=yu((function(){return!Ru("z").propertyIsEnumerable(0)}))?function(t){return"String"==_u(t)?Cu(t,""):Ru(t)}:Ru,Nu=function(t){return null==t},Fu=TypeError,Du=function(t){if(Nu(t))throw Fu("Can't call method on "+t);return t},zu=function(t){return Lu(Du(t))},Vu=function(t){return"function"==typeof t},$u="object"==typeof document&&document.all,Gu=void 0===$u&&void 0!==$u?function(t){return"object"==typeof t?null!==t:Vu(t)||t===$u}:function(t){return"object"==typeof t?null!==t:Vu(t)},Uu=function(t){return Vu(t)?t:void 0},Hu=function(t,e){return arguments.length<2?Uu(hu[t]):hu[t]&&hu[t][e]},Bu=Iu({}.isPrototypeOf),Wu=Hu("navigator","userAgent")||"",Ku=hu.process,Yu=hu.Deno,Xu=Ku&&Ku.versions||Yu&&Yu.version,Ju=Xu&&Xu.v8;Ju&&(du=(pu=Ju.split("."))[0]>0&&pu[0]<4?1:+(pu[0]+pu[1])),!du&&Wu&&(!(pu=Wu.match(/Edge\/(\d+)/))||pu[1]>=74)&&(pu=Wu.match(/Chrome\/(\d+)/))&&(du=+pu[1]);var qu=du,Qu=!!Object.getOwnPropertySymbols&&!yu((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&qu&&qu<41})),Zu=Qu&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ta=Object,ea=Zu?function(t){return"symbol"==typeof t}:function(t){var e=Hu("Symbol");return Vu(e)&&Bu(e.prototype,ta(t))},ra=String,na=TypeError,oa=function(t){if(Vu(t))return t;throw na(function(t){try{return ra(t)}catch(t){return"Object"}}(t)+" is not a function")},ia=function(t,e){var r=t[e];return Nu(r)?void 0:oa(r)},ua=TypeError,aa=Object.defineProperty,ca=function(t,e){try{aa(hu,t,{value:e,configurable:!0,writable:!0})}catch(r){hu[t]=e}return e},fa=hu["__core-js_shared__"]||ca("__core-js_shared__",{}),sa=O((function(t){(t.exports=function(t,e){return fa[t]||(fa[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.25.1",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.1/LICENSE",source:"https://github.com/zloirock/core-js"})})),la=Object,pa=function(t){return la(Du(t))},da=Iu({}.hasOwnProperty),va=Object.hasOwn||function(t,e){return da(pa(t),e)},ha=0,ya=Math.random(),ga=Iu(1..toString),ma=function(t){return"Symbol("+(void 0===t?"":t)+")_"+ga(++ha+ya,36)},ba=sa("wks"),wa=hu.Symbol,xa=wa&&wa.for,Sa=Zu?wa:wa&&wa.withoutSetter||ma,Oa=function(t){if(!va(ba,t)||!Qu&&"string"!=typeof ba[t]){var e="Symbol."+t;Qu&&va(wa,t)?ba[t]=wa[t]:ba[t]=Zu&&xa?xa(e):Sa(e)}return ba[t]},ja=TypeError,Ea=Oa("toPrimitive"),Pa=function(t,e){if(!Gu(t)||ea(t))return t;var r,n=ia(t,Ea);if(n){if(void 0===e&&(e="default"),r=wu(n,t,e),!Gu(r)||ea(r))return r;throw ja("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var r,n;if("string"===e&&Vu(r=t.toString)&&!Gu(n=wu(r,t)))return n;if(Vu(r=t.valueOf)&&!Gu(n=wu(r,t)))return n;if("string"!==e&&Vu(r=t.toString)&&!Gu(n=wu(r,t)))return n;throw ua("Can't convert object to primitive value")}(t,e)},Ta=function(t){var e=Pa(t,"string");return ea(e)?e:e+""},ka=hu.document,Ia=Gu(ka)&&Gu(ka.createElement),Aa=function(t){return Ia?ka.createElement(t):{}},Ma=!gu&&!yu((function(){return 7!=Object.defineProperty(Aa("div"),"a",{get:function(){return 7}}).a})),_a=Object.getOwnPropertyDescriptor,Ra={f:gu?_a:function(t,e){if(t=zu(t),e=Ta(e),Ma)try{return _a(t,e)}catch(t){}if(va(t,e))return ju(!wu(Ou.f,t,e),t[e])}},Ca=gu&&yu((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),La=String,Na=TypeError,Fa=function(t){if(Gu(t))return t;throw Na(La(t)+" is not an object")},Da=TypeError,za=Object.defineProperty,Va=Object.getOwnPropertyDescriptor,$a={f:gu?Ca?function(t,e,r){if(Fa(t),e=Ta(e),Fa(r),"function"==typeof t&&"prototype"===e&&"value"in r&&"writable"in r&&!r.writable){var n=Va(t,e);n&&n.writable&&(t[e]=r.value,r={configurable:"configurable"in r?r.configurable:n.configurable,enumerable:"enumerable"in r?r.enumerable:n.enumerable,writable:!1})}return za(t,e,r)}:za:function(t,e,r){if(Fa(t),e=Ta(e),Fa(r),Ma)try{return za(t,e,r)}catch(t){}if("get"in r||"set"in r)throw Da("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},Ga=gu?function(t,e,r){return $a.f(t,e,ju(1,r))}:function(t,e,r){return t[e]=r,t},Ua=Function.prototype,Ha=gu&&Object.getOwnPropertyDescriptor,Ba=va(Ua,"name"),Wa={EXISTS:Ba,PROPER:Ba&&"something"===function(){}.name,CONFIGURABLE:Ba&&(!gu||gu&&Ha(Ua,"name").configurable)},Ka=Iu(Function.toString);Vu(fa.inspectSource)||(fa.inspectSource=function(t){return Ka(t)});var Ya,Xa,Ja,qa=fa.inspectSource,Qa=hu.WeakMap,Za=Vu(Qa)&&/native code/.test(String(Qa)),tc=sa("keys"),ec=function(t){return tc[t]||(tc[t]=ma(t))},rc={},nc=hu.TypeError,oc=hu.WeakMap;if(Za||fa.state){var ic=fa.state||(fa.state=new oc),uc=Iu(ic.get),ac=Iu(ic.has),cc=Iu(ic.set);Ya=function(t,e){if(ac(ic,t))throw nc("Object already initialized");return e.facade=t,cc(ic,t,e),e},Xa=function(t){return uc(ic,t)||{}},Ja=function(t){return ac(ic,t)}}else{var fc=ec("state");rc[fc]=!0,Ya=function(t,e){if(va(t,fc))throw nc("Object already initialized");return e.facade=t,Ga(t,fc,e),e},Xa=function(t){return va(t,fc)?t[fc]:{}},Ja=function(t){return va(t,fc)}}var sc={set:Ya,get:Xa,has:Ja,enforce:function(t){return Ja(t)?Xa(t):Ya(t,{})},getterFor:function(t){return function(e){var r;if(!Gu(e)||(r=Xa(e)).type!==t)throw nc("Incompatible receiver, "+t+" required");return r}}},lc=O((function(t){var e=Wa.CONFIGURABLE,r=sc.enforce,n=sc.get,o=Object.defineProperty,i=gu&&!yu((function(){return 8!==o((function(){}),"length",{value:8}).length})),u=String(String).split("String"),a=t.exports=function(t,n,a){"Symbol("===String(n).slice(0,7)&&(n="["+String(n).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),a&&a.getter&&(n="get "+n),a&&a.setter&&(n="set "+n),(!va(t,"name")||e&&t.name!==n)&&(gu?o(t,"name",{value:n,configurable:!0}):t.name=n),i&&a&&va(a,"arity")&&t.length!==a.arity&&o(t,"length",{value:a.arity});try{a&&va(a,"constructor")&&a.constructor?gu&&o(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var c=r(t);return va(c,"source")||(c.source=u.join("string"==typeof n?n:"")),t};Function.prototype.toString=a((function(){return Vu(this)&&n(this).source||qa(this)}),"toString")})),pc=function(t,e,r,n){n||(n={});var o=n.enumerable,i=void 0!==n.name?n.name:e;if(Vu(r)&&lc(r,i,n),n.global)o?t[e]=r:ca(e,r);else{try{n.unsafe?t[e]&&(o=!0):delete t[e]}catch(t){}o?t[e]=r:$a.f(t,e,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return t},dc=Math.ceil,vc=Math.floor,hc=Math.trunc||function(t){var e=+t;return(e>0?vc:dc)(e)},yc=function(t){var e=+t;return e!=e||0===e?0:hc(e)},gc=Math.max,mc=Math.min,bc=Math.min,wc=function(t){return t>0?bc(yc(t),9007199254740991):0},xc=function(t){return function(e,r,n){var o,i=zu(e),u=wc(i.length),a=function(t,e){var r=yc(t);return r<0?gc(r+e,0):mc(r,e)}(n,u);if(t&&r!=r){for(;u>a;)if((o=i[a++])!=o)return!0}else for(;u>a;a++)if((t||a in i)&&i[a]===r)return t||a||0;return!t&&-1}},Sc={includes:xc(!0),indexOf:xc(!1)}.indexOf,Oc=Iu([].push),jc=function(t,e){var r,n=zu(t),o=0,i=[];for(r in n)!va(rc,r)&&va(n,r)&&Oc(i,r);for(;e.length>o;)va(n,r=e[o++])&&(~Sc(i,r)||Oc(i,r));return i},Ec=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Pc=Ec.concat("length","prototype"),Tc={f:Object.getOwnPropertyNames||function(t){return jc(t,Pc)}},kc={f:Object.getOwnPropertySymbols},Ic=Iu([].concat),Ac=Hu("Reflect","ownKeys")||function(t){var e=Tc.f(Fa(t)),r=kc.f;return r?Ic(e,r(t)):e},Mc=function(t,e,r){for(var n=Ac(e),o=$a.f,i=Ra.f,u=0;u<n.length;u++){var a=n[u];va(t,a)||r&&va(r,a)||o(t,a,i(e,a))}},_c=/#|\.prototype\./,Rc=function(t,e){var r=Lc[Cc(t)];return r==Fc||r!=Nc&&(Vu(e)?yu(e):!!e)},Cc=Rc.normalize=function(t){return String(t).replace(_c,".").toLowerCase()},Lc=Rc.data={},Nc=Rc.NATIVE="N",Fc=Rc.POLYFILL="P",Dc=Rc,zc=Ra.f,Vc=function(t,e){var r,n,o,i,u,a=t.target,c=t.global,f=t.stat;if(r=c?hu:f?hu[a]||ca(a,{}):(hu[a]||{}).prototype)for(n in e){if(i=e[n],o=t.dontCallGetSet?(u=zc(r,n))&&u.value:r[n],!Dc(c?n:a+(f?".":"#")+n,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;Mc(i,o)}(t.sham||o&&o.sham)&&Ga(i,"sham",!0),pc(r,n,i,t)}},$c={};$c[Oa("toStringTag")]="z";var Gc,Uc="[object z]"===String($c),Hc=Oa("toStringTag"),Bc=Object,Wc="Arguments"==_u(function(){return arguments}()),Kc=Uc?_u:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Bc(t),Hc))?r:Wc?_u(e):"Object"==(n=_u(e))&&Vu(e.callee)?"Arguments":n},Yc=String,Xc=function(t){if("Symbol"===Kc(t))throw TypeError("Cannot convert a Symbol value to a string");return Yc(t)},Jc=function(){var t=Fa(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},qc=hu.RegExp,Qc=yu((function(){var t=qc("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),Zc=Qc||yu((function(){return!qc("a","y").sticky})),tf={BROKEN_CARET:Qc||yu((function(){var t=qc("^r","gy");return t.lastIndex=2,null!=t.exec("str")})),MISSED_STICKY:Zc,UNSUPPORTED_Y:Qc},ef=Object.keys||function(t){return jc(t,Ec)},rf=gu&&!Ca?Object.defineProperties:function(t,e){Fa(t);for(var r,n=zu(e),o=ef(e),i=o.length,u=0;i>u;)$a.f(t,r=o[u++],n[r]);return t},nf={f:rf},of=Hu("document","documentElement"),uf=ec("IE_PROTO"),af=function(){},cf=function(t){return"<script>"+t+"<\/script>"},ff=function(t){t.write(cf("")),t.close();var e=t.parentWindow.Object;return t=null,e},sf=function(){try{Gc=new ActiveXObject("htmlfile")}catch(t){}var t,e;sf="undefined"!=typeof document?document.domain&&Gc?ff(Gc):((e=Aa("iframe")).style.display="none",of.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(cf("document.F=Object")),t.close(),t.F):ff(Gc);for(var r=Ec.length;r--;)delete sf.prototype[Ec[r]];return sf()};rc[uf]=!0;var lf,pf,df=Object.create||function(t,e){var r;return null!==t?(af.prototype=Fa(t),r=new af,af.prototype=null,r[uf]=t):r=sf(),void 0===e?r:nf.f(r,e)},vf=hu.RegExp,hf=yu((function(){var t=vf(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)})),yf=hu.RegExp,gf=yu((function(){var t=yf("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})),mf=sc.get,bf=sa("native-string-replace",String.prototype.replace),wf=RegExp.prototype.exec,xf=wf,Sf=Iu("".charAt),Of=Iu("".indexOf),jf=Iu("".replace),Ef=Iu("".slice),Pf=(pf=/b*/g,wu(wf,lf=/a/,"a"),wu(wf,pf,"a"),0!==lf.lastIndex||0!==pf.lastIndex),Tf=tf.BROKEN_CARET,kf=void 0!==/()??/.exec("")[1];(Pf||kf||Tf||hf||gf)&&(xf=function(t){var e,r,n,o,i,u,a,c=this,f=mf(c),s=Xc(t),l=f.raw;if(l)return l.lastIndex=c.lastIndex,e=wu(xf,l,s),c.lastIndex=l.lastIndex,e;var p=f.groups,d=Tf&&c.sticky,v=wu(Jc,c),h=c.source,y=0,g=s;if(d&&(v=jf(v,"y",""),-1===Of(v,"g")&&(v+="g"),g=Ef(s,c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==Sf(s,c.lastIndex-1))&&(h="(?: "+h+")",g=" "+g,y++),r=new RegExp("^(?:"+h+")",v)),kf&&(r=new RegExp("^"+h+"$(?!\\s)",v)),Pf&&(n=c.lastIndex),o=wu(wf,d?r:c,g),d?o?(o.input=Ef(o.input,y),o[0]=Ef(o[0],y),o.index=c.lastIndex,c.lastIndex+=o[0].length):c.lastIndex=0:Pf&&o&&(c.lastIndex=c.global?o.index+o[0].length:n),kf&&o&&o.length>1&&wu(bf,o[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o&&p)for(o.groups=u=df(null),i=0;i<p.length;i++)u[(a=p[i])[0]]=o[a[1]];return o});var If=xf;Vc({target:"RegExp",proto:!0,forced:/./.exec!==If},{exec:If});var Af=function(t,e){var r=[][t];return!!r&&k((function(){r.call(null,e||function(){return 1},1)}))},Mf=Nr.indexOf,_f=W([].indexOf),Rf=!!_f&&1/_f([1],1,-0)<0,Cf=Af("indexOf");Ve({target:"Array",proto:!0,forced:Rf||!Cf},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return Rf?_f(this,t,e)||0:Mf(this,t,e)}});var Lf=$i("Array").indexOf,Nf=Array.prototype,Ff=function(t){var e=t.indexOf;return t===Nf||wt(Nf,t)&&e===Nf.indexOf?Lf:e},Df="\t\n\v\f\r                　\u2028\u2029\ufeff",zf=W("".replace),Vf="["+Df+"]",$f=RegExp("^"+Vf+Vf+"*"),Gf=RegExp(Vf+Vf+"*$"),Uf=function(t){return function(e){var r=Ln(rt(e));return 1&t&&(r=zf(r,$f,"")),2&t&&(r=zf(r,Gf,"")),r}},Hf={start:Uf(1),end:Uf(2),trim:Uf(3)},Bf=ui.PROPER,Wf=Hf,Kf=Wf.trim;Ve({target:"String",proto:!0,forced:function(t){return k((function(){return!!Df[t]()||"​᠎"!=="​᠎"[t]()||Bf&&Df[t].name!==t}))}("trim")},{trim:function(){return Kf(this)}});var Yf=$i("String").trim,Xf=String.prototype,Jf=function(t){var e=t.trim;return"string"==typeof t||t===Xf||wt(Xf,t)&&e===Xf.trim?Yf:e};Ve({global:!0,forced:at.globalThis!==at},{globalThis:at});var qf=at;function Qf(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto",n=s(t);return n.attr("width",e),n.attr("height",r),n.css("width",""),n.css("height",""),n[0].outerHTML}function Zf(t,e){for(var r="",n=(t.attr("style")||"").split(";"),o=n.length,i=0;i<o;i++){var u=n[i];if(u){var a,c,f=u.split(":");if(Jf(a=f[0]).call(a)===e)r=Jf(c=f[1]).call(c)}}return r}l&&(s.fn.append=l),p&&(s.fn.on=p),d&&(s.fn.focus=d),v&&(s.fn.attr=v),h&&(s.fn.val=h),y&&(s.fn.html=y),g&&(s.fn.parent=g),m&&(s.fn.hasClass=m),b&&(s.fn.empty=b),qf.Node,qf.Comment,qf.Element,qf.Text,qf.Range,qf.Selection,qf.StaticRange;var ts={type:"video",renderElem:function(t,r,n){var o,i,u=t.src,a=void 0===u?"":u,s=t.poster,l=void 0===s?"":s,p=t.width,d=void 0===p?"100%":p,v=t.height,h=void 0===v?"100%":v,y=e.isNodeSelected(n,t);if(0===Ff(o=Jf(a).call(a)).call(o,"<iframe ")){var g=Qf(a,d,h);i=c("div",{className:"k-e-textarea-video-container",style:{width:d,height:h},"data-selected":y?"true":"",innerHTML:g})}else{var m={width:/^\d+%$/.test(d)?d:"".concat(d,"px"),height:/^\d+%$/.test(h)?h:"".concat(h,"px")},b=c("video",{"data-k-e-type":"video",poster:l,controls:!0,style:m},c("source",{src:a,type:"video/mp4"}),"Sorry, your browser doesn't support embedded videos.\n 抱歉，浏览器不支持 video 视频");i=c("div",{className:"k-e-textarea-video-container","data-selected":y?"true":""},b)}return f("div",{props:{contentEditable:!1},on:{mousedown:function(t){return t.preventDefault()}}},i),i}},es=$i("Array").concat,rs=Array.prototype,ns=function(t){var e=t.concat;return t===rs||wt(rs,t)&&e===rs.concat?es:e};var os={type:"video",elemToHtml:function(t,e){var r,n,o,i,u=t.src,a=void 0===u?"":u,c=t.poster,f=void 0===c?"":c,s=t.width,l=void 0===s?"100%":s,p=t.height,d=void 0===p?"100%":p,v="";return 0===Ff(r=Jf(a).call(a)).call(r,"<iframe ")?v+=Qf(a,l,d):v+=ns(n=ns(o=ns(i='<video poster="'.concat(f,'" controls="true" width="')).call(i,l,'" height="')).call(o,d,'"><source src="')).call(n,a,'" type="video/mp4"/></video>'),console.log(v,"$video"),v}},is=Un.find,us=!0;"find"in[]&&Array(1).find((function(){us=!1})),Ve({target:"Array",proto:!0,forced:us},{find:function(t){return is(this,t,arguments.length>1?arguments[1]:void 0)}}),di();var as=$i("Array").find,cs=Array.prototype,fs=function(t){var e=t.find;return t===cs||wt(cs,t)&&e===cs.find?as:e};function ss(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"100%",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"100%";return{type:"video",src:t,poster:e,width:r,height:n,children:[{text:""}]}}var ls={selector:"iframe",parseElemHtml:function(t,e,r){var n="",o="100%",i="100%",u=s(t);return u.length>0?(o=u.attr("width")||Zf(u,"width")||"100%",i=u.attr("height")||Zf(u,"height")||"100%",ss(n=u[0].outerHTML,"",o,i)):ss(n,"",o,i)}},ps={selector:"video",parseElemHtml:function(t,e,r){var n,o,i=s(t),u="";return u=i.attr("src")||"",console.log(i.attr("width"),i.attr("height"),"$video"),u||i.length>0&&(u=fs(i).call(i,"source").attr("src")||""),n=i.attr("width")||Zf(i,"width")||"100%",o=i.attr("height")||Zf(i,"width")||"100%",ss(u,i.attr("poster")||"",n,o)}},ds=W([].concat),vs=st("Reflect","ownKeys")||function(t){var e=sn.f(Te(t)),r=Dn.f;return r?ds(e,r(t)):e},hs=vs,ys=Error,gs=W("".replace),ms=String(ys("zxcasd").stack),bs=/\n\s*at [^:]*:[^\n]*/,ws=bs.test(ms),xs=TypeError,Ss=function(t,e){this.stopped=t,this.result=e},Os=Ss.prototype,js=!k((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",fe(1,7)),7!==t.stack)})),Es=function(t,e,r){for(var n=hs(e),o=Me.f,i=Re.f,u=0;u<n.length;u++){var a=n[u];Ht(t,a)||r&&Ht(r,a)||o(t,a,i(e,a))}},Ps=function(t,e){if(ws&&"string"==typeof t&&!ys.prepareStackTrace)for(;e--;)t=gs(t,bs,"");return t},Ts=function(t,e){It(e)&&"cause"in e&&Ne(t,"cause",e.cause)},ks=function(t,e,r){var n,o,i,u,a,c,f,s=r&&r.that,l=!(!r||!r.AS_ENTRIES),p=!(!r||!r.IS_RECORD),d=!(!r||!r.IS_ITERATOR),v=!(!r||!r.INTERRUPTED),h=Le(e,s),y=function(t){return n&&Wi(n,"normal",t),new Ss(!0,t)},g=function(t){return l?(Te(t),v?h(t[0],t[1],y):h(t[0],t[1])):v?h(t,y):h(t)};if(p)n=t.iterator;else if(d)n=t;else{if(!(o=Ci(t)))throw xs(Et(t)+" is not iterable");if(qi(o)){for(i=0,u=xr(t);u>i;i++)if((a=g(t[i]))&&wt(Os,a))return a;return new Ss(!1)}n=Qi(t,o)}for(c=p?t.next:n.next;!(f=kt(c,n)).done;){try{a=g(f.value)}catch(t){Wi(n,"throw",t)}if("object"==typeof a&&a&&wt(Os,a))return a}return new Ss(!1)},Is=function(t,e){return void 0===t?arguments.length<2?"":e:Ln(t)},As=js,Ms=Zt("toStringTag"),_s=Error,Rs=[].push,Cs=function(t,e){var r,n=arguments.length>2?arguments[2]:void 0,o=wt(Ls,this);ci?r=ci(_s(),o?Yo(this):Ls):(r=o?this:Nn(Ls),Ne(r,Ms,"Error")),void 0!==e&&Ne(r,"message",Is(e)),As&&Ne(r,"stack",Ps(r.stack,1)),Ts(r,n);var i=[];return ks(t,Rs,{that:i}),Ne(r,"errors",i),r};ci?ci(Cs,_s):Es(Cs,_s,{name:!0});var Ls=Cs.prototype=Nn(_s.prototype,{constructor:fe(1,Cs),message:fe(1,""),name:fe(1,"AggregateError")});Ve({global:!0,constructor:!0,arity:2},{AggregateError:Cs});var Ns,Fs,Ds,zs,Vs="process"==X(at.process),$s=Zt("species"),Gs=TypeError,Us=TypeError,Hs=function(t){if(yr(t))return t;throw Us(Et(t)+" is not a constructor")},Bs=Zt("species"),Ws=TypeError,Ks=/(?:ipad|iphone|ipod).*applewebkit/i.test(lt),Ys=function(t,e){if(t<e)throw Ws("Not enough arguments");return t},Xs=Ks,Js=Vs,qs=at.setImmediate,Qs=at.clearImmediate,Zs=at.process,tl=at.Dispatch,el=at.Function,rl=at.MessageChannel,nl=at.String,ol=0,il={};try{Ns=at.location}catch(t){}var ul=function(t){if(Ht(il,t)){var e=il[t];delete il[t],e()}},al=function(t){return function(){ul(t)}},cl=function(t){ul(t.data)},fl=function(t){at.postMessage(nl(t),Ns.protocol+"//"+Ns.host)};qs&&Qs||(qs=function(t){Ys(arguments.length,1);var e=nt(t)?t:el(t),r=xo(arguments,1);return il[++ol]=function(){_e(e,void 0,r)},Fs(ol),ol},Qs=function(t){delete il[t]},Js?Fs=function(t){Zs.nextTick(al(t))}:tl&&tl.now?Fs=function(t){tl.now(al(t))}:rl&&!Xs?(zs=(Ds=new rl).port2,Ds.port1.onmessage=cl,Fs=Le(zs.postMessage,zs)):at.addEventListener&&nt(at.postMessage)&&!at.importScripts&&Ns&&"file:"!==Ns.protocol&&!k(fl)?(Fs=fl,at.addEventListener("message",cl,!1)):Fs="onreadystatechange"in ue("script")?function(t){Yr.appendChild(ue("script")).onreadystatechange=function(){Yr.removeChild(this),ul(t)}}:function(t){setTimeout(al(t),0)});var sl,ll,pl,dl,vl,hl,yl,gl,ml={set:qs,clear:Qs},bl=/ipad|iphone|ipod/i.test(lt)&&void 0!==at.Pebble,wl=/web0s(?!.*chrome)/i.test(lt),xl=Re.f,Sl=ml.set,Ol=at.MutationObserver||at.WebKitMutationObserver,jl=at.document,El=at.process,Pl=at.Promise,Tl=xl(at,"queueMicrotask"),kl=Tl&&Tl.value;kl||(sl=function(){var t,e;for(Js&&(t=El.domain)&&t.exit();ll;){e=ll.fn,ll=ll.next;try{e()}catch(t){throw ll?dl():pl=void 0,t}}pl=void 0,t&&t.enter()},Xs||Js||wl||!Ol||!jl?!bl&&Pl&&Pl.resolve?((yl=Pl.resolve(void 0)).constructor=Pl,gl=Le(yl.then,yl),dl=function(){gl(sl)}):Js?dl=function(){El.nextTick(sl)}:(Sl=Le(Sl,at),dl=function(){Sl(sl)}):(vl=!0,hl=jl.createTextNode(""),new Ol(sl).observe(hl,{characterData:!0}),dl=function(){hl.data=vl=!vl}));var Il=kl||function(t){var e={fn:t,next:void 0};pl&&(pl.next=e),ll||(ll=e,dl()),pl=e},Al=function(){this.head=null,this.tail=null};Al.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}};var Ml,_l,Rl=Al,Cl=at.Promise,Ll="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,Nl=!Ll&&!Js&&"object"==typeof window&&"object"==typeof document,Fl=Cl,Dl=Nl,zl=Fl&&Fl.prototype,Vl=Zt("species"),$l=!1,Gl=nt(at.PromiseRejectionEvent),Ul=Ce("Promise",(function(){var t=ur(Fl),e=t!==String(Fl);if(!e&&66===yt)return!0;if(!zl.catch||!zl.finally)return!0;if(!yt||yt<51||!/native code/.test(t)){var r=new Fl((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};if((r.constructor={})[Vl]=n,!($l=r.then((function(){}))instanceof n))return!0}return!e&&(Dl||Ll)&&!Gl})),Hl=TypeError,Bl=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw Hl("Bad Promise constructor");e=t,r=n})),this.resolve=Tt(e),this.reject=Tt(r)},Wl=function(t){var e=st(t),r=Me.f;ie&&e&&!e[$s]&&r(e,$s,{configurable:!0,get:function(){return this}})},Kl=function(t,e){if(wt(e,t))return t;throw Gs("Incorrect invocation")},Yl=function(t,e){var r,n=Te(t).constructor;return void 0===n||Z(r=Te(n)[Bs])?e:Hs(r)},Xl=Il,Jl=function(t,e){var r=at.console;r&&r.error&&(1==arguments.length?r.error(t):r.error(t,e))},ql=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Ql=Rl,Zl={CONSTRUCTOR:Ul,REJECTION_EVENT:Gl,SUBCLASSING:$l},tp={f:function(t){return new Bl(t)}},ep=ml.set,rp=Zl.CONSTRUCTOR,np=Zl.REJECTION_EVENT,op=Gn.getterFor("Promise"),ip=Gn.set,up=Fl&&Fl.prototype,ap=Fl,cp=up,fp=at.TypeError,sp=at.document,lp=at.process,pp=tp.f,dp=pp,vp=!!(sp&&sp.createEvent&&at.dispatchEvent),hp=function(t){var e;return!(!It(t)||!nt(e=t.then))&&e},yp=function(t,e){var r,n,o,i=e.value,u=1==e.state,a=u?t.ok:t.fail,c=t.resolve,f=t.reject,s=t.domain;try{a?(u||(2===e.rejection&&xp(e),e.rejection=1),!0===a?r=i:(s&&s.enter(),r=a(i),s&&(s.exit(),o=!0)),r===t.promise?f(fp("Promise-chain cycle")):(n=hp(r))?kt(n,r,c,f):c(r)):f(i)}catch(t){s&&!o&&s.exit(),f(t)}},gp=function(t,e){t.notified||(t.notified=!0,Xl((function(){for(var r,n=t.reactions;r=n.get();)yp(r,t);t.notified=!1,e&&!t.rejection&&bp(t)})))},mp=function(t,e,r){var n,o;vp?((n=sp.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),at.dispatchEvent(n)):n={promise:e,reason:r},!np&&(o=at["on"+t])?o(n):"unhandledrejection"===t&&Jl("Unhandled promise rejection",r)},bp=function(t){kt(ep,at,(function(){var e,r=t.facade,n=t.value;if(wp(t)&&(e=ql((function(){Js?lp.emit("unhandledRejection",n,r):mp("unhandledrejection",r,n)})),t.rejection=Js||wp(t)?2:1,e.error))throw e.value}))},wp=function(t){return 1!==t.rejection&&!t.parent},xp=function(t){kt(ep,at,(function(){var e=t.facade;Js?lp.emit("rejectionHandled",e):mp("rejectionhandled",e,t.value)}))},Sp=function(t,e,r){return function(n){t(e,n,r)}},Op=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,gp(t,!0))},jp=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw fp("Promise can't be resolved itself");var n=hp(e);n?Xl((function(){var r={done:!1};try{kt(n,e,Sp(jp,r,t),Sp(Op,r,t))}catch(e){Op(r,e,t)}})):(t.value=e,t.state=1,gp(t,!1))}catch(e){Op({done:!1},e,t)}}};rp&&(cp=(ap=function(t){Kl(this,cp),Tt(t),kt(Ml,this);var e=op(this);try{t(Sp(jp,e),Sp(Op,e))}catch(t){Op(e,t)}}).prototype,(Ml=function(t){ip(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new Ql,rejection:!1,state:0,value:void 0})}).prototype=mn(cp,"then",(function(t,e){var r=op(this),n=pp(Yl(this,ap));return r.parent=!0,n.ok=!nt(t)||t,n.fail=nt(e)&&e,n.domain=Js?lp.domain:void 0,0==r.state?r.reactions.add(n):Xl((function(){yp(n,r)})),n.promise})),_l=function(){var t=new Ml,e=op(t);this.promise=t,this.resolve=Sp(jp,e),this.reject=Sp(Op,e)},tp.f=pp=function(t){return t===ap||undefined===t?new _l(t):dp(t)}),Ve({global:!0,constructor:!0,wrap:!0,forced:rp},{Promise:ap}),$n(ap,"Promise",!1,!0),Wl("Promise");var Ep=Zl.CONSTRUCTOR||!iu((function(t){Fl.all(t).then(void 0,(function(){}))}));Ve({target:"Promise",stat:!0,forced:Ep},{all:function(t){var e=this,r=tp.f(e),n=r.resolve,o=r.reject,i=ql((function(){var r=Tt(e.resolve),i=[],u=0,a=1;ks(t,(function(t){var c=u++,f=!1;a++,kt(r,e,t).then((function(t){f||(f=!0,i[c]=t,--a||n(i))}),o)})),--a||n(i)}));return i.error&&o(i.value),r.promise}});var Pp=Zl.CONSTRUCTOR;Fl&&Fl.prototype;Ve({target:"Promise",proto:!0,forced:Pp,real:!0},{catch:function(t){return this.then(void 0,t)}}),Ve({target:"Promise",stat:!0,forced:Ep},{race:function(t){var e=this,r=tp.f(e),n=r.reject,o=ql((function(){var o=Tt(e.resolve);ks(t,(function(t){kt(o,e,t).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}}),Ve({target:"Promise",stat:!0,forced:Zl.CONSTRUCTOR},{reject:function(t){var e=tp.f(this);return kt(e.reject,void 0,t),e.promise}});var Tp=function(t,e){if(Te(t),It(e)&&e.constructor===t)return e;var r=tp.f(t);return(0,r.resolve)(e),r.promise},kp=Zl.CONSTRUCTOR,Ip=st("Promise"),Ap=!kp;Ve({target:"Promise",stat:!0,forced:true},{resolve:function(t){return Tp(Ap&&this===Ip?Fl:this,t)}}),Ve({target:"Promise",stat:!0},{allSettled:function(t){var e=this,r=tp.f(e),n=r.resolve,o=r.reject,i=ql((function(){var r=Tt(e.resolve),o=[],i=0,u=1;ks(t,(function(t){var a=i++,c=!1;u++,kt(r,e,t).then((function(t){c||(c=!0,o[a]={status:"fulfilled",value:t},--u||n(o))}),(function(t){c||(c=!0,o[a]={status:"rejected",reason:t},--u||n(o))}))})),--u||n(o)}));return i.error&&o(i.value),r.promise}});Ve({target:"Promise",stat:!0},{any:function(t){var e=this,r=st("AggregateError"),n=tp.f(e),o=n.resolve,i=n.reject,u=ql((function(){var n=Tt(e.resolve),u=[],a=0,c=1,f=!1;ks(t,(function(t){var s=a++,l=!1;c++,kt(n,e,t).then((function(t){l||f||(f=!0,o(t))}),(function(t){l||f||(l=!0,u[s]=t,--c||i(new r(u,"No one promise resolved")))}))})),--c||i(new r(u,"No one promise resolved"))}));return u.error&&i(u.value),n.promise}});var Mp=Fl&&Fl.prototype,_p=!!Fl&&k((function(){Mp.finally.call({then:function(){}},(function(){}))}));Ve({target:"Promise",proto:!0,real:!0,forced:_p},{finally:function(t){var e=Yl(this,st("Promise")),r=nt(t);return this.then(r?function(r){return Tp(e,t()).then((function(){return r}))}:t,r?function(r){return Tp(e,t()).then((function(){throw r}))}:t)}});var Rp=ut.Promise,Cp=Rp;Ve({target:"Promise",stat:!0,forced:!0},{try:function(t){var e=tp.f(this),r=ql(t);return(r.error?e.reject:e.resolve)(r.value),e.promise}});var Lp=Cp,Np=S(O((function(t){function e(t,e,r,n,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void r(t)}a.done?e(c):Lp.resolve(c).then(n,o)}t.exports=function(t){return function(){var r=this,n=arguments;return new Lp((function(o,i){var u=t.apply(r,n);function a(t){e(u,o,i,a,c,"next",t)}function c(t){e(u,o,i,a,c,"throw",t)}a(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports}))),Fp=S(O((function(t){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports}))),Dp=Me.f;Ve({target:"Object",stat:!0,forced:Object.defineProperty!==Dp,sham:!ie},{defineProperty:Dp});var zp=O((function(t){var e=ut.Object,r=t.exports=function(t,r,n){return e.defineProperty(t,r,n)};e.defineProperty.sham&&(r.sham=!0)})),Vp=zp,$p=Vp,Gp=S(O((function(t){function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),$p(t,n.key,n)}}t.exports=function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),$p(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports}))),Up=S(O((function(t){t.exports=function(t,e,r){return e in t?$p(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},t.exports.__esModule=!0,t.exports.default=t.exports}))),Hp=yn.f("iterator"),Bp=Hp,Wp=O((function(t){function e(r){return t.exports=e="function"==typeof Ei&&"symbol"==typeof Bp?function(t){return typeof t}:function(t){return t&&"function"==typeof Ei&&t.constructor===Ei&&t!==Ei.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}));Ve({target:"Object",stat:!0,sham:!ie},{create:Nn});var Kp=ut.Object,Yp=function(t,e){return Kp.create(t,e)},Xp=k((function(){Yo(1)}));Ve({target:"Object",stat:!0,forced:Xp,sham:!Ho},{getPrototypeOf:function(t){return Yo(Ft(t))}});var Jp=ut.Object.getPrototypeOf,qp=Un.forEach,Qp=Af("forEach")?[].forEach:function(t){return qp(this,t,arguments.length>1?arguments[1]:void 0)};Ve({target:"Array",proto:!0,forced:[].forEach!=Qp},{forEach:Qp});var Zp=$i("Array").forEach,td=Array.prototype,ed={DOMTokenList:!0,NodeList:!0},rd=function(t){var e=t.forEach;return t===td||wt(td,t)&&e===td.forEach||Ht(ed,ir(t))?Zp:e},nd=rd;Ve({target:"Object",stat:!0},{setPrototypeOf:ci});var od=ut.Object.setPrototypeOf,id=W([].reverse),ud=[1,2];Ve({target:"Array",proto:!0,forced:String(ud)===String(ud.reverse())},{reverse:function(){return $e(this)&&(this.length=this.length),id(this)}});var ad=$i("Array").reverse,cd=Array.prototype,fd=function(t){var e=t.reverse;return t===cd||wt(cd,t)&&e===cd.reverse?ad:e},sd=O((function(t){var e=Wp.default;function r(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
t.exports=r=function(){return n},t.exports.__esModule=!0,t.exports.default=t.exports;var n={},o=Object.prototype,i=o.hasOwnProperty,u="function"==typeof Ei?Ei:{},a=u.iterator||"@@iterator",c=u.asyncIterator||"@@asyncIterator",f=u.toStringTag||"@@toStringTag";function s(t,e,r){return $p(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof v?e:v,i=Yp(o.prototype),u=new E(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return T()}for(r.method=o,r.arg=i;;){var u=r.delegate;if(u){var a=S(u,r);if(a){if(a===d)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=p(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,u),i}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}n.wrap=l;var d={};function v(){}function h(){}function y(){}var g={};s(g,a,(function(){return this}));var m=Jp&&Jp(Jp(P([])));m&&m!==o&&i.call(m,a)&&(g=m);var b=y.prototype=v.prototype=Yp(g);function w(t){var e;nd(e=["next","throw","return"]).call(e,(function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,r){function n(o,u,a,c){var f=p(t[o],t,u);if("throw"!==f.type){var s=f.arg,l=s.value;return l&&"object"==e(l)&&i.call(l,"__await")?r.resolve(l.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):r.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,c)}))}c(f.arg)}var o;this._invoke=function(t,e){function i(){return new r((function(r,o){n(t,e,r,o)}))}return o=o?o.then(i,i):i()}}function S(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=p(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,d;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],nd(t).call(t,O,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=y,s(b,"constructor",y),s(y,"constructor",h),h.displayName=s(y,f,"GeneratorFunction"),n.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(t){return od?od(t,y):(t.__proto__=y,s(t,f,"GeneratorFunction")),t.prototype=Yp(b),t},n.awrap=function(t){return{__await:t}},w(x.prototype),s(x.prototype,c,(function(){return this})),n.AsyncIterator=x,n.async=function(t,e,r,o,i){void 0===i&&(i=Lp);var u=new x(l(t,e,r,o),i);return n.isGeneratorFunction(e)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},w(b),s(b,f,"Generator"),s(b,a,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var e=[];for(var r in t)e.push(r);return fd(e).call(e),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},n.values=P,E.prototype={constructor:E,reset:function(t){var e;if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,nd(e=this.tryEntries).call(e,j),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+Bi(r).call(r,1))&&(this[r]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,n){return u.type="throw",u.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],u=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var u=o?o.completion:{};return u.type=t,u.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},n}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})),ld=sd(),pd=ld;try{regeneratorRuntime=ld}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=ld:Function("r","regeneratorRuntime = r")(ld)}var dd=Un.some,vd=Af("some");Ve({target:"Array",proto:!0,forced:!vd},{some:function(t){return dd(this,t,arguments.length>1?arguments[1]:void 0)}});var hd=$i("Array").some,yd=Array.prototype,gd=function(t){var e=t.some;return t===yd||wt(yd,t)&&e===yd.some?hd:e},md=/MSIE .\./.test(lt),bd=at.Function,wd=function(t){return md?function(e,r){var n=Ys(arguments.length,1)>2,o=nt(e)?e:bd(e),i=n?xo(arguments,2):void 0;return t(n?function(){_e(o,this,i)}:o,r)}:t},xd={setTimeout:wd(at.setTimeout),setInterval:wd(at.setInterval)},Sd=xd.setInterval;Ve({global:!0,bind:!0,forced:at.setInterval!==Sd},{setInterval:Sd});var Od=xd.setTimeout;Ve({global:!0,bind:!0,forced:at.setTimeout!==Od},{setTimeout:Od});var jd=ut.setTimeout,Ed=Function.prototype,Pd=Ed.apply,Td=Ed.call,kd="object"==typeof Reflect&&Reflect.apply||(mu?Td.bind(Pd):function(){return Td.apply(Pd,arguments)}),Id=Oa("species"),Ad=RegExp.prototype,Md=Iu("".charAt),_d=Iu("".charCodeAt),Rd=Iu("".slice),Cd=function(t){return function(e,r){var n,o,i=Xc(Du(e)),u=yc(r),a=i.length;return u<0||u>=a?t?"":void 0:(n=_d(i,u))<55296||n>56319||u+1===a||(o=_d(i,u+1))<56320||o>57343?t?Md(i,u):n:t?Rd(i,u,u+2):o-56320+(n-55296<<10)+65536}},Ld={codeAt:Cd(!1),charAt:Cd(!0)}.charAt,Nd=function(t,e,r){return e+(r?Ld(t,e).length:1)},Fd=Math.floor,Dd=Iu("".charAt),zd=Iu("".replace),Vd=Iu("".slice),$d=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Gd=/\$([$&'`]|\d{1,2})/g,Ud=function(t,e,r,n,o,i){var u=r+t.length,a=n.length,c=Gd;return void 0!==o&&(o=pa(o),c=$d),zd(i,c,(function(i,c){var f;switch(Dd(c,0)){case"$":return"$";case"&":return t;case"`":return Vd(e,0,r);case"'":return Vd(e,u);case"<":f=o[Vd(c,1,-1)];break;default:var s=+c;if(0===s)return i;if(s>a){var l=Fd(s/10);return 0===l?i:l<=a?void 0===n[l-1]?Dd(c,1):n[l-1]+Dd(c,1):i}f=n[s-1]}return void 0===f?"":f}))},Hd=TypeError,Bd=function(t,e){var r=t.exec;if(Vu(r)){var n=wu(r,t,e);return null!==n&&Fa(n),n}if("RegExp"===_u(t))return wu(If,t,e);throw Hd("RegExp#exec called on incompatible receiver")},Wd=Oa("replace"),Kd=Math.max,Yd=Math.min,Xd=Iu([].concat),Jd=Iu([].push),qd=Iu("".indexOf),Qd=Iu("".slice),Zd="$0"==="a".replace(/./,"$0"),tv=!!/./[Wd]&&""===/./[Wd]("a","$0");function ev(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"r";return ns(t="".concat(e,"-")).call(t,w())}function rv(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;")}!function(t,e,r,n){var o=Oa(t),i=!yu((function(){var e={};return e[o]=function(){return 7},7!=""[t](e)})),u=i&&!yu((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[Id]=function(){return r},r.flags="",r[o]=/./[o]),r.exec=function(){return e=!0,null},r[o](""),!e}));if(!i||!u||r){var a=Iu(/./[o]),c=e(o,""[t],(function(t,e,r,n,o){var u=Iu(t),c=e.exec;return c===If||c===Ad.exec?i&&!o?{done:!0,value:a(e,r,n)}:{done:!0,value:u(r,e,n)}:{done:!1}}));pc(String.prototype,t,c[0]),pc(Ad,o,c[1])}n&&Ga(Ad[o],"sham",!0)}("replace",(function(t,e,r){var n=tv?"$":"$0";return[function(t,r){var n=Du(this),o=Nu(t)?void 0:ia(t,Wd);return o?wu(o,t,n,r):wu(e,Xc(n),t,r)},function(t,o){var i=Fa(this),u=Xc(t);if("string"==typeof o&&-1===qd(o,n)&&-1===qd(o,"$<")){var a=r(e,i,u,o);if(a.done)return a.value}var c=Vu(o);c||(o=Xc(o));var f=i.global;if(f){var s=i.unicode;i.lastIndex=0}for(var l=[];;){var p=Bd(i,u);if(null===p)break;if(Jd(l,p),!f)break;""===Xc(p[0])&&(i.lastIndex=Nd(u,wc(i.lastIndex),s))}for(var d,v="",h=0,y=0;y<l.length;y++){for(var g=Xc((p=l[y])[0]),m=Kd(Yd(yc(p.index),u.length),0),b=[],w=1;w<p.length;w++)Jd(b,void 0===(d=p[w])?d:String(d));var x=p.groups;if(c){var S=Xd([g],b,m,u);void 0!==x&&Jd(S,x);var O=Xc(kd(o,void 0,S))}else O=Ud(g,u,m,b,x,o);m>=h&&(v+=Qd(u,h,m)+O,h=m+g.length)}return v+Qd(u,h)}]}),!!yu((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!Zd||tv);var nv=Rp;function ov(t,e){return iv.apply(this,arguments)}function iv(){return iv=Np(pd.mark((function t(e,r){var n,o,i,a,c,f,s,l,p,d=arguments;return pd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=d.length>2&&void 0!==d[2]?d[2]:"",r){t.next=3;break}return t.abrupt("return");case 3:return e.restoreSelection(),i=e.getMenuConfig("insertVideo"),a=i.onInsertedVideo,c=i.checkVideo,f=i.parseVideoSrc,t.next=7,c(r);case 7:if("string"!=typeof(s=t.sent)){t.next=11;break}return e.alert(s,"error"),t.abrupt("return");case 11:if(null!=s){t.next=13;break}return t.abrupt("return");case 13:return t.next=15,f(r);case 15:l=t.sent,0!==Ff(n=Jf(l).call(l)).call(n,"<iframe ")&&(l=rv(l)),p={type:"video",src:l,poster:o,children:[{text:""}]},nv.resolve().then((function(){u.insertNodes(e,p)})),a(p);case 20:case"end":return t.stop()}}),t)}))),iv.apply(this,arguments)}function uv(){return ev("k-e-insert-video")}var av=function(){function t(){Fp(this,t),Up(this,"title",n("videoModule.insertVideo")),Up(this,"iconSvg",'<svg viewBox="0 0 1024 1024"><path d="M981.184 160.096C837.568 139.456 678.848 128 512 128S186.432 139.456 42.816 160.096C15.296 267.808 0 386.848 0 512s15.264 244.16 42.816 351.904C186.464 884.544 345.152 896 512 896s325.568-11.456 469.184-32.096C1008.704 756.192 1024 637.152 1024 512s-15.264-244.16-42.816-351.904zM384 704V320l320 192-320 192z"></path></svg>'),Up(this,"tag","button"),Up(this,"showModal",!0),Up(this,"modalWidth",320),Up(this,"$content",null),Up(this,"srcInputId",uv()),Up(this,"posterInputId",uv()),Up(this,"buttonId",uv())}return Gp(t,[{key:"getValue",value:function(t){return""}},{key:"isActive",value:function(t){return!1}},{key:"exec",value:function(t,e){}},{key:"isDisabled",value:function(t){var r=t.selection;if(null==r)return!0;if(!a.isCollapsed(r))return!0;var n=e.getSelectedElems(t);return!!gd(n).call(n,(function(r){return"pre"===e.getNodeType(r)||!!t.isVoid(r)}))}},{key:"getModalPositionNode",value:function(t){return null}},{key:"getModalContentElem",value:function(t){var e=this.srcInputId,i=this.posterInputId,u=this.buttonId,a=r(n("videoModule.videoSrc"),e,n("videoModule.videoSrcPlaceHolder")),c=lu(a,2),f=c[0],l=c[1],p=r(n("videoModule.videoPoster"),i,n("videoModule.videoPosterPlaceHolder")),d=lu(p,2),v=d[0],h=d[1],y=s(l),g=s(h),m=o(u,n("videoModule.ok")),b=lu(m,1)[0];if(null==this.$content){var w=s("<div></div>");w.on("click","#".concat(u),function(){var r=Np(pd.mark((function r(n){var o,u,a,c;return pd.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.preventDefault(),a=Jf(o=fs(w).call(w,"#".concat(e)).val()).call(o),c=Jf(u=fs(w).call(w,"#".concat(i)).val()).call(u),r.next=5,ov(t,a,c);case 5:t.hidePanelOrModal();case 6:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}()),this.$content=w}var x=this.$content;return x.empty(),x.append(f),x.append(v),x.append(b),y.val(""),g.val(""),jd((function(){y.focus()})),x[0]}}]),t}(),cv=Iu([].join),fv=Lu!=Object,sv=function(t,e){var r=[][t];return!!r&&yu((function(){r.call(null,e||function(){return 1},1)}))}("join",",");Vc({target:"Array",proto:!0,forced:fv||!sv},{join:function(t){return cv(zu(this),void 0===t?",":t)}});var lv=k((function(){Gr(1)}));Ve({target:"Object",stat:!0,forced:lv},{keys:function(t){return Gr(Ft(t))}});var pv=ut.Object.keys,dv=ut.Object.getOwnPropertySymbols,vv=Un.filter,hv=Er("filter");Ve({target:"Array",proto:!0,forced:!hv},{filter:function(t){return vv(this,t,arguments.length>1?arguments[1]:void 0)}});var yv=$i("Array").filter,gv=Array.prototype,mv=function(t){var e=t.filter;return t===gv||wt(gv,t)&&e===gv.filter?yv:e},bv=Re.f,wv=k((function(){bv(1)}));Ve({target:"Object",stat:!0,forced:!ie||wv,sham:!ie},{getOwnPropertyDescriptor:function(t,e){return bv(se(t),e)}});var xv=O((function(t){var e=ut.Object,r=t.exports=function(t,r){return e.getOwnPropertyDescriptor(t,r)};e.getOwnPropertyDescriptor.sham&&(r.sham=!0)})),Sv=xv,Ov=rd;Ve({target:"Object",stat:!0,sham:!ie},{getOwnPropertyDescriptors:function(t){for(var e,r,n=se(t),o=Re.f,i=hs(n),u={},a=0;i.length>a;)void 0!==(r=o(n,e=i[a++]))&&Or(u,e,r);return u}});var jv=ut.Object.getOwnPropertyDescriptors,Ev=Kr.f;Ve({target:"Object",stat:!0,forced:Object.defineProperties!==Ev,sham:!ie},{defineProperties:Ev});var Pv=O((function(t){var e=ut.Object,r=t.exports=function(t,r){return e.defineProperties(t,r)};e.defineProperties.sham&&(r.sham=!0)})),Tv=Pv,kv=Vp,Iv=Wa.EXISTS,Av=$a.f,Mv=Function.prototype,_v=Iu(Mv.toString),Rv=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Cv=Iu(Rv.exec);gu&&!Iv&&Av(Mv,"name",{configurable:!0,get:function(){try{return Cv(Rv,_v(this))[1]}catch(t){return""}}});var Lv=Oi,Nv=yn.f("asyncIterator"),Fv=Hp,Dv=k((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),zv=Object.isExtensible,Vv=k((function(){zv(1)}))||Dv?function(t){return!!It(t)&&((!Dv||"ArrayBuffer"!=X(t))&&(!zv||zv(t)))}:zv,$v=!k((function(){return Object.isExtensible(Object.preventExtensions({}))})),Gv=Vv,Uv=$v,Hv=O((function(t){var e=Me.f,r=!1,n=Bt("meta"),o=0,i=function(t){e(t,n,{value:{objectID:"O"+o++,weakData:{}}})},u=t.exports={enable:function(){u.enable=function(){},r=!0;var t=sn.f,e=W([].splice),o={};o[n]=1,t(o).length&&(sn.f=function(r){for(var o=t(r),i=0,u=o.length;i<u;i++)if(o[i]===n){e(o,i,1);break}return o},Ve({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Fn.f}))},fastKey:function(t,e){if(!It(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!Ht(t,n)){if(!Gv(t))return"F";if(!e)return"E";i(t)}return t[n].objectID},getWeakData:function(t,e){if(!Ht(t,n)){if(!Gv(t))return!0;if(!e)return!1;i(t)}return t[n].weakData},onFreeze:function(t){return Uv&&r&&Gv(t)&&!Ht(t,n)&&i(t),t}};Fr[n]=!0})),Bv=Hv,Wv=Me.f,Kv=Un.forEach,Yv=Gn.set,Xv=Gn.getterFor,Jv=function(t,e,r){for(var n in e)r&&r.unsafe&&t[n]?t[n]=e[n]:mn(t,n,e[n],r);return t},qv=Bv.getWeakData,Qv=Gn.set,Zv=Gn.getterFor,th=Un.find,eh=Un.findIndex,rh=W([].splice),nh=0,oh=function(t){return t.frozen||(t.frozen=new ih)},ih=function(){this.entries=[]},uh=function(t,e){return th(t.entries,(function(t){return t[0]===e}))};ih.prototype={get:function(t){var e=uh(this,t);if(e)return e[1]},has:function(t){return!!uh(this,t)},set:function(t,e){var r=uh(this,t);r?r[1]=e:this.entries.push([t,e])},delete:function(t){var e=eh(this.entries,(function(e){return e[0]===t}));return~e&&rh(this.entries,e,1),!!~e}};var ah,ch={getConstructor:function(t,e,r,n){var o=t((function(t,o){Kl(t,i),Qv(t,{type:e,id:nh++,frozen:void 0}),Z(o)||ks(o,t[n],{that:t,AS_ENTRIES:r})})),i=o.prototype,u=Zv(e),a=function(t,e,r){var n=u(t),o=qv(Te(e),!0);return!0===o?oh(n).set(e,r):o[n.id]=r,t};return Jv(i,{delete:function(t){var e=u(this);if(!It(t))return!1;var r=qv(t);return!0===r?oh(e).delete(t):r&&Ht(r,e.id)&&delete r[e.id]},has:function(t){var e=u(this);if(!It(t))return!1;var r=qv(t);return!0===r?oh(e).has(t):r&&Ht(r,e.id)}}),Jv(i,r?{get:function(t){var e=u(this);if(It(t)){var r=qv(t);return!0===r?oh(e).get(t):r?r[e.id]:void 0}},set:function(t,e){return a(this,t,e)}}:{add:function(t){return a(this,t,!0)}}),o}},fh=function(t,e,r){var n,o=-1!==t.indexOf("Map"),i=-1!==t.indexOf("Weak"),u=o?"set":"add",a=at[t],c=a&&a.prototype,f={};if(ie&&nt(a)&&(i||c.forEach&&!k((function(){(new a).entries().next()})))){var s=(n=e((function(e,r){Yv(Kl(e,s),{type:t,collection:new a}),null!=r&&ks(r,e[u],{that:e,AS_ENTRIES:o})}))).prototype,l=Xv(t);Kv(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(t){var e="add"==t||"set"==t;!(t in c)||i&&"clear"==t||Ne(s,t,(function(r,n){var o=l(this).collection;if(!e&&i&&!It(r))return"get"==t&&void 0;var u=o[t](0===r?0:r,n);return e?this:u}))})),i||Wv(s,"size",{configurable:!0,get:function(){return l(this).collection.size}})}else n=r.getConstructor(e,t,o,u),Bv.enable();return $n(n,t,!1,!0),f[t]=n,Ve({global:!0,forced:!0},f),i||r.setStrong(n,t,o),n},sh=ch,lh=Gn.enforce,ph=!at.ActiveXObject&&"ActiveXObject"in at,dh=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},vh=fh("WeakMap",dh,sh);if(On&&ph){ah=sh.getConstructor(dh,"WeakMap",!0),Bv.enable();var hh=vh.prototype,yh=W(hh.delete),gh=W(hh.has),mh=W(hh.get),bh=W(hh.set);Jv(hh,{delete:function(t){if(It(t)&&!Gv(t)){var e=lh(this);return e.frozen||(e.frozen=new ah),yh(this,t)||e.frozen.delete(t)}return yh(this,t)},has:function(t){if(It(t)&&!Gv(t)){var e=lh(this);return e.frozen||(e.frozen=new ah),gh(this,t)||e.frozen.has(t)}return gh(this,t)},get:function(t){if(It(t)&&!Gv(t)){var e=lh(this);return e.frozen||(e.frozen=new ah),gh(this,t)?mh(this,t):e.frozen.get(t)}return mh(this,t)},set:function(t,e){if(It(t)&&!Gv(t)){var r=lh(this);r.frozen||(r.frozen=new ah),gh(this,t)?bh(this,t,e):r.frozen.set(t,e)}else bh(this,t,e);return this}})}var wh=ut.WeakMap,xh=Hi;function Sh(t,e){var r=pv(t);if(dv){var n=dv(t);e&&(n=mv(n).call(n,(function(e){return Sv(t,e).enumerable}))),r.push.apply(r,n)}return r}function Oh(t){for(var e=1;e<arguments.length;e++){var r,n,o=null!=arguments[e]?arguments[e]:{};e%2?Ov(r=Sh(Object(o),!0)).call(r,(function(e){Up(t,e,o[e])})):jv?Tv(t,jv(o)):Ov(n=Sh(Object(o))).call(n,(function(e){kv(t,e,Sv(o,e))}))}return t}function jh(t){var e,r,n,o=2;for(void 0!==Lv&&(r=Nv,n=Fv);o--;){if(r&&null!=(e=t[r]))return e.call(t);if(n&&null!=(e=t[n]))return new Eh(e.call(t));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function Eh(t){function e(t){if(Object(t)!==t)return nv.reject(new TypeError(t+" is not an object."));var e=t.done;return nv.resolve(t.value).then((function(t){return{value:t,done:e}}))}return Eh=function(t){this.s=t,this.n=t.next},Eh.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var r=this.s.return;return void 0===r?nv.resolve({value:t,done:!0}):e(r.apply(this.s,arguments))},throw:function(t){var r=this.s.return;return void 0===r?nv.reject(t):e(r.apply(this.s,arguments))}},new Eh(t)}function Ph(t){return t.getMenuConfig("uploadVideo")}var Th=new wh;function kh(t){var e=Th.get(t);if(null!=e)return e;var r=Ph(t);return e=i(Oh(Oh({},r),{},{onProgress:function(e,r,n){!function(e){t.showProgressBar(e)}((null==n?void 0:n.percent)||0)}})),Th.set(t,e),e}function Ih(t,e){return Ah.apply(this,arguments)}function Ah(){return(Ah=Np(pd.mark((function t(e,r){var n,o,i,u;return pd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Ph(e),o=n.customInsert,i=function(t,r){if(o)o(r,(function(t,r){return ov(e,t,r)}));else{var n=r.url,i=void 0===n?"":n,u=(r.detail||{}).mediaCover;ov(e,i,u.url)}},u=function(t,e){var r=t.name;console.error("'".concat(r," upload error"),e)},kh(e)(r).then((function(t){console.log("upload file res:",t),t&&(t.errorInfo?u(r,t.errorInfo):i(0,t))})).catch((function(t){t.message=t.message||"文件上传sdk异常。",u(r,t)}));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Mh(){return(Mh=Np(pd.mark((function t(e,r){var n,o,i,u,a,c,f,s,l;return pd.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=r){t.next=2;break}return t.abrupt("return");case 2:n=xh(Array.prototype).call(r),o=Ph(e),i=o.customUpload,u=!1,a=!1,t.prev=6,f=jh(n);case 8:return t.next=10,f.next();case 10:if(!(u=!(s=t.sent).done)){t.next=22;break}if(l=s.value,!i){t.next=17;break}return t.next=15,i(l,(function(t,r){return ov(e,t,r)}));case 15:t.next=19;break;case 17:return t.next=19,Ih(e,l);case 19:u=!1,t.next=8;break;case 22:t.next=28;break;case 24:t.prev=24,t.t0=t.catch(6),a=!0,c=t.t0;case 28:if(t.prev=28,t.prev=29,!u||null==f.return){t.next=33;break}return t.next=33,f.return();case 33:if(t.prev=33,!a){t.next=36;break}throw c;case 36:return t.finish(33);case 37:return t.finish(28);case 38:case"end":return t.stop()}}),t,null,[[6,24,28,38],[29,,33,37]])})))).apply(this,arguments)}var _h=function(){function t(){Fp(this,t),Up(this,"title",n("videoModule.uploadVideo")),Up(this,"iconSvg",'<svg viewBox="0 0 1056 1024"><path d="M805.902261 521.819882a251.441452 251.441452 0 0 0-251.011972 246.600033 251.051015 251.051015 0 1 0 502.023944 8.823877 253.237463 253.237463 0 0 0-251.011972-255.42391z m59.463561 240.001647v129.898403h-116.701631v-129.898403h-44.041298l101.279368-103.504859 101.279368 103.504859z" p-id="6802"></path><path d="M788.254507 0.000781H99.094092A98.663439 98.663439 0 0 0 0.001171 99.093701v590.067495a98.663439 98.663439 0 0 0 99.092921 99.092921h411.7549a266.434235 266.434235 0 0 1-2.186448-41.815807 275.843767 275.843767 0 0 1 275.180024-270.729042 270.650955 270.650955 0 0 1 103.504859 19.834201V99.093701A101.51363 101.51363 0 0 0 788.254507 0.000781zM295.054441 640.747004V147.507894l394.146189 246.600033z"></path></svg>'),Up(this,"tag","button")}return Gp(t,[{key:"getValue",value:function(t){return""}},{key:"isActive",value:function(t){return!1}},{key:"exec",value:function(t,e){var r=this.getMenuConfig(t),n=r.allowedFileTypes,o=void 0===n?[]:n,i=r.customBrowseAndUpload;if(i)i((function(e){return ov(t,e)}));else{var u="";o.length>0&&(u='accept="'.concat(o.join(", "),'"'));var a=s("body"),c=s('<input type="file" '.concat(u," multiple/>"));c.hide(),a.append(c),c.click(),c.on("change",(function(){var e=c[0].files;!function(t,e){Mh.apply(this,arguments)}(t,e)}))}}},{key:"isDisabled",value:function(t){var r=t.selection;if(null==r)return!0;if(!a.isCollapsed(r))return!0;var n=e.getSelectedElems(t);return!!gd(n).call(n,(function(r){return"pre"===e.getNodeType(r)||!!t.isVoid(r)}))}},{key:"getMenuConfig",value:function(t){return t.getMenuConfig("uploadVideo")}}]),t}(),Rh=Uc?{}.toString:function(){return"[object "+Kc(this)+"]"};Uc||pc(Object.prototype,"toString",Rh,{unsafe:!0});var Ch=RegExp.prototype,Lh=Wa.PROPER,Nh=RegExp.prototype.toString,Fh=yu((function(){return"/a/b"!=Nh.call({source:"a",flags:"b"})})),Dh=Lh&&"toString"!=Nh.name;(Fh||Dh)&&pc(RegExp.prototype,"toString",(function(){var t=Fa(this),e=Xc(t.source),r=Xc(function(t){var e=t.flags;return void 0!==e||"flags"in Ch||va(t,"flags")||!Bu(Ch,t)?e:wu(Jc,t)}(t));return"/"+e+"/"+r}),{unsafe:!0});var zh=Wf.trim,Vh=at.parseInt,$h=at.Symbol,Gh=$h&&$h.iterator,Uh=/^[+-]?0x/i,Hh=W(Uh.exec),Bh=8!==Vh(Df+"08")||22!==Vh(Df+"0x16")||Gh&&!k((function(){Vh(Object(Gh))}))?function(t,e){var r=zh(Ln(t));return Vh(r,e>>>0||(Hh(Uh,r)?16:10))}:Vh;Ve({global:!0,forced:parseInt!=Bh},{parseInt:Bh});var Wh=ut.parseInt;function Kh(){return ev("k-e-insert-video")}var Yh=function(){function t(){Fp(this,t),Up(this,"title",n("videoModule.editSize")),Up(this,"tag","button"),Up(this,"showModal",!0),Up(this,"modalWidth",320),Up(this,"$content",null),Up(this,"widthInputId",Kh()),Up(this,"heightInputId",Kh()),Up(this,"buttonId",Kh())}return Gp(t,[{key:"getSelectedVideoNode",value:function(t){return e.getSelectedNodeByType(t,"video")}},{key:"getValue",value:function(t){return""}},{key:"isActive",value:function(t){return!1}},{key:"exec",value:function(t,e){}},{key:"isDisabled",value:function(t){return null==t.selection||null==this.getSelectedVideoNode(t)}},{key:"getModalPositionNode",value:function(t){return this.getSelectedVideoNode(t)}},{key:"getModalContentElem",value:function(t){var i=this.widthInputId,a=this.heightInputId,c=this.buttonId,f=r(n("videoModule.width"),i,"auto"),l=lu(f,2),p=l[0],d=l[1],v=s(d),h=r(n("videoModule.height"),a,"auto"),y=lu(h,2),g=y[0],m=y[1],b=s(m),w=o(c,n("videoModule.ok")),x=lu(w,1)[0];if(null==this.$content){var S=s("<div></div>");S.on("click","#".concat(c),(function(r){var n,o;r.preventDefault();var c=Jf(n=fs(S).call(S,"#".concat(i)).val()).call(n),f=Jf(o=fs(S).call(S,"#".concat(a)).val()).call(o),s=/^\d+%$/.test(c)?c:Wh(c),l=/^\d+%$/.test(f)?f:Wh(f),p=s?s.toString():"100%",d=l?l.toString():"100%";t.restoreSelection(),u.setNodes(t,{width:p,height:d},{match:function(t){return e.checkNodeType(t,"video")}}),t.hidePanelOrModal()})),this.$content=S}var O=this.$content;O.empty(),O.append(p),O.append(g),O.append(x);var j=this.getSelectedVideoNode(t);if(null==j)return O[0];var E=j.width,P=void 0===E?"100%":E,T=j.height,k=void 0===T?"100%":T;return v.val(P),b.val(k),jd((function(){v.focus()})),O[0]}}]),t}();var Xh={renderElems:[ts],elemsToHtml:[os],parseElemsHtml:[ls,ps],menus:[{key:"insertVideo",factory:function(){return new av},config:{onInsertedVideo:function(t){},checkVideo:function(t){return!0},parseVideoSrc:function(t){return t}}},{key:"uploadVideo",factory:function(){return new _h},config:{allowedFileTypes:[".mp4",".flv",".f4v",".webm",".avi"],customPreUpload:"",customConfirmUpload:"",requireType:"VIDEO"}},{key:"editVideoSize",factory:function(){return new Yh}}],editorPlugin:function(t){var r=t.isInline,n=t.isVoid,o=t.normalizeNode,i=t;return i.isInline=function(t){return"video"===t.type||r(t)},i.isVoid=function(t){return"video"===t.type||n(t)},i.normalizeNode=function(t){var r=lu(t,2),n=r[0],a=r[1];"video"===e.getNodeType(n)&&(e.isLastNode(i,n)&&u.insertNodes(i,e.genEmptyParagraph(i),{at:[a[0]+1]}));return o([n,a])},i}};export{Xh as default,ov as insertVideoNode};
//# sourceMappingURL=index.esm.js.map
