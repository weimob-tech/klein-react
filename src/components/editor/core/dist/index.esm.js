import{Editor as e,Node as t,Range as n,Element as r,Text as o,Transforms as i,Path as a,Point as c,createEditor as l}from"slate";import{withHistory as u}from"slate-history";import s from"lodash.toarray";import{htmlVoidElements as f}from"html-void-elements";import d,{css as v,append as h,addClass as p,removeClass as g,hasClass as y,on as m,focus as b,attr as w,removeAttr as x,hide as S,show as E,offset as O,width as k,height as C,parent as T,parents as N,is as P,dataset as M,val as A,text as D,html as j,children as I,remove as R,find as F,each as L,empty as B}from"dom7";import _ from"lodash.foreach";import"nanoid";import $ from"event-emitter";import z from"lodash.throttle";import{init as W,classModule as U,propsModule as H,styleModule as V,datasetModule as G,eventListenersModule as K,jsx as q,h as Y}from"snabbdom";import X from"lodash.camelcase";import J from"scroll-into-view-if-needed";import{isKeyHotkey as Q,isHotkey as Z}from"is-hotkey";import ee from"lodash.debounce";import te from"lodash.clonedeep";import ne from"@uppy/core";import re from"@uppy/xhr-upload";import oe from"i18next";var ie=function(e){try{return!!e()}catch(e){return!0}},ae=!ie((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),ce=ae,le=Function.prototype,ue=le.call,se=ce&&le.bind.bind(ue,ue),fe=ce?se:function(e){return function(){return ue.apply(e,arguments)}},de=fe({}.toString),ve=fe("".slice),he=function(e){return ve(de(e),8,-1)},pe=Object,ge=fe("".split),ye=ie((function(){return!pe("z").propertyIsEnumerable(0)}))?function(e){return"String"==he(e)?ge(e,""):pe(e)}:pe,me=function(e){return null==e},be=TypeError,we=ye,xe=function(e){if(me(e))throw be("Can't call method on "+e);return e},Se="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Ee(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Oe(e){var t={exports:{}};return e(t,t.exports),t.exports}var ke,Ce,Te=function(e){return e&&e.Math==Math&&e},Ne=Te("object"==typeof globalThis&&globalThis)||Te("object"==typeof window&&window)||Te("object"==typeof self&&self)||Te("object"==typeof Se&&Se)||function(){return this}()||Se||Function("return this")(),Pe="object"==typeof document&&document.all,Me={all:Pe,IS_HTMLDDA:void 0===Pe&&void 0!==Pe},Ae=Me.all,De=Ne,je=Me.IS_HTMLDDA?function(e){return"function"==typeof e||e===Ae}:function(e){return"function"==typeof e},Ie=De.WeakMap,Re=je(Ie)&&/native code/.test(String(Ie)),Fe=Me.all,Le=Me.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:je(e)||e===Fe}:function(e){return"object"==typeof e?null!==e:je(e)},Be=!ie((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),_e=Le,$e=De.document,ze=_e($e)&&_e($e.createElement),We=Be,Ue=function(e){return ze?$e.createElement(e):{}},He=!We&&!ie((function(){return 7!=Object.defineProperty(Ue("div"),"a",{get:function(){return 7}}).a})),Ve=We&&ie((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Ge=String,Ke=TypeError,qe=Function.prototype.call,Ye=ce?qe.bind(qe):function(){return qe.apply(qe,arguments)},Xe={},Je=function(e){return je(e)?e:void 0},Qe=fe({}.isPrototypeOf),Ze="undefined"!=typeof navigator&&String(navigator.userAgent)||"",et=De.process,tt=De.Deno,nt=et&&et.versions||tt&&tt.version,rt=nt&&nt.v8;rt&&(Ce=(ke=rt.split("."))[0]>0&&ke[0]<4?1:+(ke[0]+ke[1])),!Ce&&Ze&&(!(ke=Ze.match(/Edge\/(\d+)/))||ke[1]>=74)&&(ke=Ze.match(/Chrome\/(\d+)/))&&(Ce=+ke[1]);var ot,it,at,ct=Ce,lt=De.String,ut=!!Object.getOwnPropertySymbols&&!ie((function(){var e=Symbol();return!lt(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&ct&&ct<41})),st=ut,ft=st&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,dt=function(e,t){return arguments.length<2?Je(Xe[e])||Je(De[e]):Xe[e]&&Xe[e][t]||De[e]&&De[e][t]},vt=Qe,ht=ft,pt=Object,gt=ht?function(e){return"symbol"==typeof e}:function(e){var t=dt("Symbol");return je(t)&&vt(t.prototype,pt(e))},yt=String,mt=function(e){try{return yt(e)}catch(e){return"Object"}},bt=TypeError,wt=function(e){if(je(e))return e;throw bt(mt(e)+" is not a function")},xt=Ye,St=TypeError,Et=Object.defineProperty,Ot=function(e,t){try{Et(De,e,{value:t,configurable:!0,writable:!0})}catch(n){De[e]=t}return t},kt="__core-js_shared__",Ct=De[kt]||Ot(kt,{}),Tt=!0,Nt=Ct,Pt=Oe((function(e){(e.exports=function(e,t){return Nt[e]||(Nt[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.31.1",mode:"pure",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.31.1/LICENSE",source:"https://github.com/zloirock/core-js"})})),Mt=Object,At=function(e){return Mt(xe(e))},Dt=fe({}.hasOwnProperty),jt=Object.hasOwn||function(e,t){return Dt(At(e),t)},It=0,Rt=Math.random(),Ft=fe(1..toString),Lt=Pt,Bt=jt,_t=function(e){return"Symbol("+(void 0===e?"":e)+")_"+Ft(++It+Rt,36)},$t=De.Symbol,zt=Lt("wks"),Wt=ht?$t.for||$t:$t&&$t.withoutSetter||_t,Ut=gt,Ht=function(e,t){var n=e[t];return me(n)?void 0:wt(n)},Vt=function(e,t){var n,r;if("string"===t&&je(n=e.toString)&&!_e(r=xt(n,e)))return r;if(je(n=e.valueOf)&&!_e(r=xt(n,e)))return r;if("string"!==t&&je(n=e.toString)&&!_e(r=xt(n,e)))return r;throw St("Can't convert object to primitive value")},Gt=function(e){return Bt(zt,e)||(zt[e]=st&&Bt($t,e)?$t[e]:Wt("Symbol."+e)),zt[e]},Kt=TypeError,qt=Gt("toPrimitive"),Yt=function(e,t){if(!_e(e)||Ut(e))return e;var n,r=Ht(e,qt);if(r){if(void 0===t&&(t="default"),n=xt(r,e,t),!_e(n)||Ut(n))return n;throw Kt("Can't convert object to primitive value")}return void 0===t&&(t="number"),Vt(e,t)},Xt=He,Jt=Ve,Qt=function(e){if(_e(e))return e;throw Ke(Ge(e)+" is not an object")},Zt=function(e){var t=Yt(e,"string");return Ut(t)?t:t+""},en=TypeError,tn=Object.defineProperty,nn=Object.getOwnPropertyDescriptor,rn="enumerable",on="configurable",an="writable",cn={f:We?Jt?function(e,t,n){if(Qt(e),t=Zt(t),Qt(n),"function"==typeof e&&"prototype"===t&&"value"in n&&an in n&&!n[an]){var r=nn(e,t);r&&r[an]&&(e[t]=n.value,n={configurable:on in n?n[on]:r[on],enumerable:rn in n?n[rn]:r[rn],writable:!1})}return tn(e,t,n)}:tn:function(e,t,n){if(Qt(e),t=Zt(t),Qt(n),Xt)try{return tn(e,t,n)}catch(e){}if("get"in n||"set"in n)throw en("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},ln=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},un=We?function(e,t,n){return cn.f(e,t,ln(1,n))}:function(e,t,n){return e[t]=n,e},sn=Lt("keys"),fn=Re,dn=un,vn=function(e){return sn[e]||(sn[e]=_t(e))},hn={},pn="Object already initialized",gn=De.TypeError,yn=De.WeakMap;if(fn||Nt.state){var mn=Nt.state||(Nt.state=new yn);mn.get=mn.get,mn.has=mn.has,mn.set=mn.set,ot=function(e,t){if(mn.has(e))throw gn(pn);return t.facade=e,mn.set(e,t),t},it=function(e){return mn.get(e)||{}},at=function(e){return mn.has(e)}}else{var bn=vn("state");hn[bn]=!0,ot=function(e,t){if(Bt(e,bn))throw gn(pn);return t.facade=e,dn(e,bn,t),t},it=function(e){return Bt(e,bn)?e[bn]:{}},at=function(e){return Bt(e,bn)}}var wn,xn={set:ot,get:it,has:at,enforce:function(e){return at(e)?it(e):ot(e,{})},getterFor:function(e){return function(t){var n;if(!_e(t)||(n=it(t)).type!==e)throw gn("Incompatible receiver, "+e+" required");return n}}},Sn=Function.prototype,En=Sn.apply,On=Sn.call,kn="object"==typeof Reflect&&Reflect.apply||(ce?On.bind(En):function(){return On.apply(En,arguments)}),Cn={}.propertyIsEnumerable,Tn=Object.getOwnPropertyDescriptor,Nn=Tn&&!Cn.call({1:2},1)?function(e){var t=Tn(this,e);return!!t&&t.enumerable}:Cn,Pn={f:Nn},Mn=function(e){return we(xe(e))},An=Object.getOwnPropertyDescriptor,Dn={f:We?An:function(e,t){if(e=Mn(e),t=Zt(t),Xt)try{return An(e,t)}catch(e){}if(Bt(e,t))return ln(!xt(Pn.f,e,t),e[t])}},jn=/#|\.prototype\./,In=function(e,t){var n=Fn[Rn(e)];return n==Bn||n!=Ln&&(je(t)?ie(t):!!t)},Rn=In.normalize=function(e){return String(e).replace(jn,".").toLowerCase()},Fn=In.data={},Ln=In.NATIVE="N",Bn=In.POLYFILL="P",_n=In,$n=function(e){if("Function"===he(e))return fe(e)},zn=$n($n.bind),Wn=kn,Un=Dn,Hn=_n,Vn=function(e,t){return wt(e),void 0===t?e:ce?zn(e,t):function(){return e.apply(t,arguments)}},Gn=Un.f,Kn=function(e){var t=function(n,r,o){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,r)}return new e(n,r,o)}return Wn(e,this,arguments)};return t.prototype=e.prototype,t},qn=Function.prototype,Yn=We&&Object.getOwnPropertyDescriptor,Xn=Bt(qn,"name"),Jn={EXISTS:Xn,PROPER:Xn&&"something"===function(){}.name,CONFIGURABLE:Xn&&(!We||We&&Yn(qn,"name").configurable)},Qn=Math.ceil,Zn=Math.floor,er=Math.trunc||function(e){var t=+e;return(t>0?Zn:Qn)(t)},tr=er,nr=function(e){var t=+e;return t!=t||0===t?0:tr(t)},rr=Math.max,or=Math.min,ir=Math.min,ar=function(e){return e>0?ir(nr(e),9007199254740991):0},cr=function(e,t){var n=nr(e);return n<0?rr(n+t,0):or(n,t)},lr=function(e){return ar(e.length)},ur=function(e){return function(t,n,r){var o,i=Mn(t),a=lr(i),c=cr(r,a);if(e&&n!=n){for(;a>c;)if((o=i[c++])!=o)return!0}else for(;a>c;c++)if((e||c in i)&&i[c]===n)return e||c||0;return!e&&-1}},sr={includes:ur(!0),indexOf:ur(!1)},fr=sr.indexOf,dr=fe([].push),vr=function(e,t){var n,r=Mn(e),o=0,i=[];for(n in r)!Bt(hn,n)&&Bt(r,n)&&dr(i,n);for(;t.length>o;)Bt(r,n=t[o++])&&(~fr(i,n)||dr(i,n));return i},hr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],pr=Object.keys||function(e){return vr(e,hr)},gr=We&&!Jt?Object.defineProperties:function(e,t){Qt(e);for(var n,r=Mn(t),o=pr(t),i=o.length,a=0;i>a;)cn.f(e,n=o[a++],r[n]);return e},yr={f:gr},mr=dt("document","documentElement"),br=yr,wr=mr,xr="prototype",Sr="script",Er=vn("IE_PROTO"),Or=function(){},kr=function(e){return"<"+Sr+">"+e+"</"+Sr+">"},Cr=function(e){e.write(kr("")),e.close();var t=e.parentWindow.Object;return e=null,t},Tr=function(){try{wn=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;Tr="undefined"!=typeof document?document.domain&&wn?Cr(wn):(t=Ue("iframe"),n="java"+Sr+":",t.style.display="none",wr.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(kr("document.F=Object")),e.close(),e.F):Cr(wn);for(var r=hr.length;r--;)delete Tr[xr][hr[r]];return Tr()};hn[Er]=!0;var Nr,Pr,Mr,Ar=Object.create||function(e,t){var n;return null!==e?(Or[xr]=Qt(e),n=new Or,Or[xr]=null,n[Er]=e):n=Tr(),void 0===t?n:br.f(n,t)},Dr=!ie((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),jr=vn("IE_PROTO"),Ir=Object,Rr=Ir.prototype,Fr=Dr?Ir.getPrototypeOf:function(e){var t=At(e);if(Bt(t,jr))return t[jr];var n=t.constructor;return je(n)&&t instanceof n?n.prototype:t instanceof Ir?Rr:null},Lr=Ar,Br=Fr,_r=function(e,t,n,r){return r&&r.enumerable?e[t]=n:dn(e,t,n),e},$r=Gt("iterator"),zr=!1;[].keys&&("next"in(Mr=[].keys())?(Pr=Br(Br(Mr)))!==Object.prototype&&(Nr=Pr):zr=!0);var Wr=!_e(Nr)||ie((function(){var e={};return Nr[$r].call(e)!==e}));Nr=Wr?{}:Lr(Nr),je(Nr[$r])||_r(Nr,$r,(function(){return this}));var Ur={IteratorPrototype:Nr,BUGGY_SAFARI_ITERATORS:zr},Hr={};Hr[Gt("toStringTag")]="z";var Vr="[object z]"===String(Hr),Gr=Gt("toStringTag"),Kr=Object,qr="Arguments"==he(function(){return arguments}()),Yr=Vr?he:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Kr(e),Gr))?n:qr?he(t):"Object"==(r=he(t))&&je(t.callee)?"Arguments":r},Xr=Vr?{}.toString:function(){return"[object "+Yr(this)+"]"},Jr=cn.f,Qr=Gt("toStringTag"),Zr=Ur,eo=function(e,t,n,r){if(e){var o=n?e:e.prototype;Bt(o,Qr)||Jr(o,Qr,{configurable:!0,value:t}),r&&!Vr&&dn(o,"toString",Xr)}},to={},no=Zr.IteratorPrototype,ro=function(){return this},oo=String,io=TypeError,ao=function(e,t,n){try{return fe(wt(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}},co=function(e){if("object"==typeof e||je(e))return e;throw io("Can't set "+oo(e)+" as a prototype")},lo=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=ao(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return Qt(n),co(r),t?e(n,r):n.__proto__=r,n}}():void 0),uo=function(e,t){var n,r,o,i,a,c,l,u,s,f=e.target,d=e.global,v=e.stat,h=e.proto,p=d?De:v?De[f]:(De[f]||{}).prototype,g=d?Xe:Xe[f]||dn(Xe,f,{})[f],y=g.prototype;for(i in t)r=!(n=Hn(d?i:f+(v?".":"#")+i,e.forced))&&p&&Bt(p,i),c=g[i],r&&(l=e.dontCallGetSet?(s=Gn(p,i))&&s.value:p[i]),a=r&&l?l:t[i],r&&typeof c==typeof a||(u=e.bind&&r?Vn(a,De):e.wrap&&r?Kn(a):h&&je(a)?$n(a):a,(e.sham||a&&a.sham||c&&c.sham)&&dn(u,"sham",!0),dn(g,i,u),h&&(Bt(Xe,o=f+"Prototype")||dn(Xe,o,{}),dn(Xe[o],i,a),e.real&&y&&(n||!y[i])&&dn(y,i,a)))},so=Jn,fo=function(e,t,n,r){var o=t+" Iterator";return e.prototype=Lr(no,{next:ln(+!r,n)}),eo(e,o,!1,!0),to[o]=ro,e},vo=lo,ho=so.PROPER,po=Zr.BUGGY_SAFARI_ITERATORS,go=Gt("iterator"),yo="keys",mo="values",bo="entries",wo=function(){return this},xo=function(){},So=xn,Eo=function(e,t,n,r,o,i,a){fo(n,t,r);var c,l,u,s=function(e){if(e===o&&p)return p;if(!po&&e in v)return v[e];switch(e){case yo:case mo:case bo:return function(){return new n(this,e)}}return function(){return new n(this)}},f=t+" Iterator",d=!1,v=e.prototype,h=v[go]||v["@@iterator"]||o&&v[o],p=!po&&h||s(o),g="Array"==t&&v.entries||h;if(g&&(c=Br(g.call(new e)))!==Object.prototype&&c.next&&(eo(c,f,!0,!0),to[f]=wo),ho&&o==mo&&h&&h.name!==mo&&(d=!0,p=function(){return xt(h,this)}),o)if(l={values:s(mo),keys:i?p:s(yo),entries:s(bo)},a)for(u in l)(po||d||!(u in v))&&_r(v,u,l[u]);else uo({target:t,proto:!0,forced:po||d},l);return a&&v[go]!==p&&_r(v,go,p,{name:o}),to[t]=p,l},Oo=function(e,t){return{value:e,done:t}},ko=(cn.f,"Array Iterator"),Co=So.set,To=So.getterFor(ko);Eo(Array,"Array",(function(e,t){Co(this,{type:ko,target:Mn(e),index:0,kind:t})}),(function(){var e=To(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,Oo(void 0,!0)):Oo("keys"==n?r:"values"==n?t[r]:[r,t[r]],!1)}),"values");to.Arguments=to.Array;xo(),xo(),xo();var No={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Po=Gt("toStringTag");for(var Mo in No){var Ao=De[Mo],Do=Ao&&Ao.prototype;Do&&Yr(Do)!==Po&&dn(Do,Po,Mo),to[Mo]=to.Array}var jo=Array.isArray||function(e){return"Array"==he(e)},Io=fe(Function.toString);je(Nt.inspectSource)||(Nt.inspectSource=function(e){return Io(e)});var Ro=Nt.inspectSource,Fo=function(){},Lo=[],Bo=dt("Reflect","construct"),_o=/^\s*(?:class|function)\b/,$o=fe(_o.exec),zo=!_o.exec(Fo),Wo=function(e){if(!je(e))return!1;try{return Bo(Fo,Lo,e),!0}catch(e){return!1}},Uo=function(e){if(!je(e))return!1;switch(Yr(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return zo||!!$o(_o,Ro(e))}catch(e){return!0}};Uo.sham=!0;var Ho=!Bo||ie((function(){var e;return Wo(Wo.call)||!Wo(Object)||!Wo((function(){e=!0}))||e}))?Uo:Wo,Vo=jo,Go=Ho,Ko=Gt("species"),qo=Array,Yo=function(e){var t;return Vo(e)&&(t=e.constructor,(Go(t)&&(t===qo||Vo(t.prototype))||_e(t)&&null===(t=t[Ko]))&&(t=void 0)),void 0===t?qo:t},Xo=function(e,t){return new(Yo(e))(0===t?0:t)},Jo=fe([].push),Qo=function(e){var t=1==e,n=2==e,r=3==e,o=4==e,i=6==e,a=7==e,c=5==e||i;return function(l,u,s,f){for(var d,v,h=At(l),p=we(h),g=Vn(u,s),y=lr(p),m=0,b=f||Xo,w=t?b(l,y):n||a?b(l,0):void 0;y>m;m++)if((c||m in p)&&(v=g(d=p[m],m,h),e))if(t)w[m]=v;else if(v)switch(e){case 3:return!0;case 5:return d;case 6:return m;case 2:Jo(w,d)}else switch(e){case 4:return!1;case 7:Jo(w,d)}return i?-1:r||o?o:w}},Zo={forEach:Qo(0),map:Qo(1),filter:Qo(2),some:Qo(3),every:Qo(4),find:Qo(5),findIndex:Qo(6),filterReject:Qo(7)},ei=function(e,t){var n=[][e];return!!n&&ie((function(){n.call(null,t||function(){return 1},1)}))},ti=Zo.forEach,ni=ei("forEach")?[].forEach:function(e){return ti(this,e,arguments.length>1?arguments[1]:void 0)};uo({target:"Array",proto:!0,forced:[].forEach!=ni},{forEach:ni});var ri=function(e){return Xe[e+"Prototype"]},oi=ri("Array").forEach,ii=Array.prototype,ai={DOMTokenList:!0,NodeList:!0},ci=function(e){var t=e.forEach;return e===ii||vt(ii,e)&&t===ii.forEach||Bt(ai,Yr(e))?oi:t},li=ie((function(){pr(1)}));uo({target:"Object",stat:!0,forced:li},{keys:function(e){return pr(At(e))}});var ui,si,fi=Xe.Object.keys,di=function(e){return e&&e.Math==Math&&e},vi=di("object"==typeof globalThis&&globalThis)||di("object"==typeof window&&window)||di("object"==typeof self&&self)||di("object"==typeof Se&&Se)||function(){return this}()||Se||Function("return this")(),hi=Object.defineProperty,pi=function(e,t){try{hi(vi,e,{value:t,configurable:!0,writable:!0})}catch(n){vi[e]=t}return t},gi="__core-js_shared__",yi=vi[gi]||pi(gi,{}),mi=Oe((function(e){(e.exports=function(e,t){return yi[e]||(yi[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.31.1",mode:"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.31.1/LICENSE",source:"https://github.com/zloirock/core-js"})})),bi=function(e){try{return!!e()}catch(e){return!0}},wi=!bi((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),xi=Function.prototype,Si=xi.call,Ei=wi&&xi.bind.bind(Si,Si),Oi=wi?Ei:function(e){return function(){return Si.apply(e,arguments)}},ki=function(e){return null==e},Ci=TypeError,Ti=function(e){if(ki(e))throw Ci("Can't call method on "+e);return e},Ni=Object,Pi=function(e){return Ni(Ti(e))},Mi=Oi({}.hasOwnProperty),Ai=Object.hasOwn||function(e,t){return Mi(Pi(e),t)},Di=0,ji=Math.random(),Ii=Oi(1..toString),Ri=function(e){return"Symbol("+(void 0===e?"":e)+")_"+Ii(++Di+ji,36)},Fi="undefined"!=typeof navigator&&String(navigator.userAgent)||"",Li=vi.process,Bi=vi.Deno,_i=Li&&Li.versions||Bi&&Bi.version,$i=_i&&_i.v8;$i&&(si=(ui=$i.split("."))[0]>0&&ui[0]<4?1:+(ui[0]+ui[1])),!si&&Fi&&(!(ui=Fi.match(/Edge\/(\d+)/))||ui[1]>=74)&&(ui=Fi.match(/Chrome\/(\d+)/))&&(si=+ui[1]);var zi=si,Wi=vi.String,Ui=!!Object.getOwnPropertySymbols&&!bi((function(){var e=Symbol();return!Wi(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&zi&&zi<41})),Hi=Ui&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Vi=vi.Symbol,Gi=mi("wks"),Ki=Hi?Vi.for||Vi:Vi&&Vi.withoutSetter||Ri,qi=function(e){return Ai(Gi,e)||(Gi[e]=Ui&&Ai(Vi,e)?Vi[e]:Ki("Symbol."+e)),Gi[e]},Yi={};Yi[qi("toStringTag")]="z";var Xi="[object z]"===String(Yi),Ji="object"==typeof document&&document.all,Qi={all:Ji,IS_HTMLDDA:void 0===Ji&&void 0!==Ji},Zi=Qi.all,ea=Qi.IS_HTMLDDA?function(e){return"function"==typeof e||e===Zi}:function(e){return"function"==typeof e},ta=!bi((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),na=Qi.all,ra=Qi.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:ea(e)||e===na}:function(e){return"object"==typeof e?null!==e:ea(e)},oa=vi.document,ia=ra(oa)&&ra(oa.createElement),aa=function(e){return ia?oa.createElement(e):{}},ca=!ta&&!bi((function(){return 7!=Object.defineProperty(aa("div"),"a",{get:function(){return 7}}).a})),la=ta&&bi((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),ua=String,sa=TypeError,fa=function(e){if(ra(e))return e;throw sa(ua(e)+" is not an object")},da=Function.prototype.call,va=wi?da.bind(da):function(){return da.apply(da,arguments)},ha=function(e,t){return arguments.length<2?(n=vi[e],ea(n)?n:void 0):vi[e]&&vi[e][t];var n},pa=Oi({}.isPrototypeOf),ga=Object,ya=Hi?function(e){return"symbol"==typeof e}:function(e){var t=ha("Symbol");return ea(t)&&pa(t.prototype,ga(e))},ma=String,ba=function(e){try{return ma(e)}catch(e){return"Object"}},wa=TypeError,xa=function(e){if(ea(e))return e;throw wa(ba(e)+" is not a function")},Sa=function(e,t){var n=e[t];return ki(n)?void 0:xa(n)},Ea=TypeError,Oa=TypeError,ka=qi("toPrimitive"),Ca=function(e,t){if(!ra(e)||ya(e))return e;var n,r=Sa(e,ka);if(r){if(void 0===t&&(t="default"),n=va(r,e,t),!ra(n)||ya(n))return n;throw Oa("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var n,r;if("string"===t&&ea(n=e.toString)&&!ra(r=va(n,e)))return r;if(ea(n=e.valueOf)&&!ra(r=va(n,e)))return r;if("string"!==t&&ea(n=e.toString)&&!ra(r=va(n,e)))return r;throw Ea("Can't convert object to primitive value")}(e,t)},Ta=function(e){var t=Ca(e,"string");return ya(t)?t:t+""},Na=TypeError,Pa=Object.defineProperty,Ma=Object.getOwnPropertyDescriptor,Aa="enumerable",Da="configurable",ja="writable",Ia={f:ta?la?function(e,t,n){if(fa(e),t=Ta(t),fa(n),"function"==typeof e&&"prototype"===t&&"value"in n&&ja in n&&!n[ja]){var r=Ma(e,t);r&&r[ja]&&(e[t]=n.value,n={configurable:Da in n?n[Da]:r[Da],enumerable:Aa in n?n[Aa]:r[Aa],writable:!1})}return Pa(e,t,n)}:Pa:function(e,t,n){if(fa(e),t=Ta(t),fa(n),ca)try{return Pa(e,t,n)}catch(e){}if("get"in n||"set"in n)throw Na("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},Ra=Function.prototype,Fa=ta&&Object.getOwnPropertyDescriptor,La=Ai(Ra,"name"),Ba={EXISTS:La,PROPER:La&&"something"===function(){}.name,CONFIGURABLE:La&&(!ta||ta&&Fa(Ra,"name").configurable)},_a=Oi(Function.toString);ea(yi.inspectSource)||(yi.inspectSource=function(e){return _a(e)});var $a,za,Wa,Ua=yi.inspectSource,Ha=vi.WeakMap,Va=ea(Ha)&&/native code/.test(String(Ha)),Ga=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},Ka=ta?function(e,t,n){return Ia.f(e,t,Ga(1,n))}:function(e,t,n){return e[t]=n,e},qa=mi("keys"),Ya=function(e){return qa[e]||(qa[e]=Ri(e))},Xa={},Ja="Object already initialized",Qa=vi.TypeError,Za=vi.WeakMap;if(Va||yi.state){var ec=yi.state||(yi.state=new Za);ec.get=ec.get,ec.has=ec.has,ec.set=ec.set,$a=function(e,t){if(ec.has(e))throw Qa(Ja);return t.facade=e,ec.set(e,t),t},za=function(e){return ec.get(e)||{}},Wa=function(e){return ec.has(e)}}else{var tc=Ya("state");Xa[tc]=!0,$a=function(e,t){if(Ai(e,tc))throw Qa(Ja);return t.facade=e,Ka(e,tc,t),t},za=function(e){return Ai(e,tc)?e[tc]:{}},Wa=function(e){return Ai(e,tc)}}var nc={set:$a,get:za,has:Wa,enforce:function(e){return Wa(e)?za(e):$a(e,{})},getterFor:function(e){return function(t){var n;if(!ra(t)||(n=za(t)).type!==e)throw Qa("Incompatible receiver, "+e+" required");return n}}},rc=Oe((function(e){var t=Ba.CONFIGURABLE,n=nc.enforce,r=nc.get,o=String,i=Object.defineProperty,a=Oi("".slice),c=Oi("".replace),l=Oi([].join),u=ta&&!bi((function(){return 8!==i((function(){}),"length",{value:8}).length})),s=String(String).split("String"),f=e.exports=function(e,r,f){"Symbol("===a(o(r),0,7)&&(r="["+c(o(r),/^Symbol\(([^)]*)\)/,"$1")+"]"),f&&f.getter&&(r="get "+r),f&&f.setter&&(r="set "+r),(!Ai(e,"name")||t&&e.name!==r)&&(ta?i(e,"name",{value:r,configurable:!0}):e.name=r),u&&f&&Ai(f,"arity")&&e.length!==f.arity&&i(e,"length",{value:f.arity});try{f&&Ai(f,"constructor")&&f.constructor?ta&&i(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var d=n(e);return Ai(d,"source")||(d.source=l(s,"string"==typeof r?r:"")),e};Function.prototype.toString=f((function(){return ea(this)&&r(this).source||Ua(this)}),"toString")})),oc=function(e,t,n,r){r||(r={});var o=r.enumerable,i=void 0!==r.name?r.name:t;if(ea(n)&&rc(n,i,r),r.global)o?e[t]=n:pi(t,n);else{try{r.unsafe?e[t]&&(o=!0):delete e[t]}catch(e){}o?e[t]=n:Ia.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e},ic=Oi({}.toString),ac=Oi("".slice),cc=function(e){return ac(ic(e),8,-1)},lc=qi("toStringTag"),uc=Object,sc="Arguments"==cc(function(){return arguments}()),fc=Xi?cc:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=uc(e),lc))?n:sc?cc(t):"Object"==(r=cc(t))&&ea(t.callee)?"Arguments":r},dc=Xi?{}.toString:function(){return"[object "+fc(this)+"]"};Xi||oc(Object.prototype,"toString",dc,{unsafe:!0});var vc=String,hc=function(e){if("Symbol"===fc(e))throw TypeError("Cannot convert a Symbol value to a string");return vc(e)},pc=function(){var e=fa(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},gc=RegExp.prototype,yc=function(e){var t=e.flags;return void 0!==t||"flags"in gc||Ai(e,"flags")||!pa(gc,e)?t:va(pc,e)},mc=Ba.PROPER,bc="toString",wc=RegExp.prototype[bc],xc=bi((function(){return"/a/b"!=wc.call({source:"a",flags:"b"})})),Sc=mc&&wc.name!=bc;(xc||Sc)&&oc(RegExp.prototype,bc,(function(){var e=fa(this);return"/"+hc(e.source)+"/"+hc(yc(e))}),{unsafe:!0});var Ec="function"==typeof Bun&&Bun&&"string"==typeof Bun.version,Oc=fe([].slice),kc=TypeError,Cc=Ec,Tc=Oc,Nc=function(e,t){if(e<t)throw kc("Not enough arguments");return e},Pc=De.Function,Mc=/MSIE .\./.test(Ze)||Cc&&function(){var e=De.Bun.version.split(".");return e.length<3||0==e[0]&&(e[1]<3||3==e[1]&&0==e[2])}(),Ac=function(e,t){var n=t?2:1;return Mc?function(r,o){var i=Nc(arguments.length,1)>n,a=je(r)?r:Pc(r),c=i?Tc(arguments,n):[],l=i?function(){Wn(a,this,c)}:a;return t?e(l,o):e(l)}:e},Dc=Ac(De.setInterval,!0);uo({global:!0,bind:!0,forced:De.setInterval!==Dc},{setInterval:Dc});var jc=Ac(De.setTimeout,!0);uo({global:!0,bind:!0,forced:De.setTimeout!==jc},{setTimeout:jc});var Ic=Xe.setTimeout,Rc=function(e,t,n){return n.get&&rc(n.get,t,{getter:!0}),n.set&&rc(n.set,t,{setter:!0}),Ia.f(e,t,n)},Fc=Ba.EXISTS,Lc=Function.prototype,Bc=Oi(Lc.toString),_c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,$c=Oi(_c.exec);ta&&!Fc&&Rc(Lc,"name",{configurable:!0,get:function(){try{return $c(_c,Bc(this))[1]}catch(e){return""}}});var zc=Gt("species"),Wc=function(e,t,n){var r=Zt(t);r in e?cn.f(e,r,ln(0,n)):e[r]=n},Uc=function(e){return ct>=51||!ie((function(){var t=[];return(t.constructor={})[zc]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},Hc=Uc("slice"),Vc=Gt("species"),Gc=Array,Kc=Math.max;uo({target:"Array",proto:!0,forced:!Hc},{slice:function(e,t){var n,r,o,i=Mn(this),a=lr(i),c=cr(e,a),l=cr(void 0===t?a:t,a);if(Vo(i)&&(n=i.constructor,(Go(n)&&(n===Gc||Vo(n.prototype))||_e(n)&&null===(n=n[Vc]))&&(n=void 0),n===Gc||void 0===n))return Tc(i,c,l);for(r=new(void 0===n?Gc:n)(Kc(l-c,0)),o=0;c<l;c++,o++)c in i&&Wc(r,o,i[c]);return r.length=o,r}});var qc=ri("Array").slice,Yc=Array.prototype,Xc=function(e){var t=e.slice;return e===Yc||vt(Yc,e)&&t===Yc.slice?qc:t},Jc=Xc,Qc=TypeError,Zc=function(e){if(e>9007199254740991)throw Qc("Maximum allowed index exceeded");return e},el=Gt("isConcatSpreadable"),tl=ct>=51||!ie((function(){var e=[];return e[el]=!1,e.concat()[0]!==e})),nl=function(e){if(!_e(e))return!1;var t=e[el];return void 0!==t?!!t:Vo(e)},rl=!tl||!Uc("concat");uo({target:"Array",proto:!0,arity:1,forced:rl},{concat:function(e){var t,n,r,o,i,a=At(this),c=Xo(a,0),l=0;for(t=-1,r=arguments.length;t<r;t++)if(nl(i=-1===t?a:arguments[t]))for(o=lr(i),Zc(l+o),n=0;n<o;n++,l++)n in i&&Wc(c,l,i[n]);else Zc(l+1),Wc(c,l++,i);return c.length=l,c}});var ol=String,il=hr.concat("length","prototype"),al={f:Object.getOwnPropertyNames||function(e){return vr(e,il)}},cl=Array,ll=Math.max,ul=al,sl=function(e,t,n){for(var r=lr(e),o=cr(t,r),i=cr(void 0===n?r:n,r),a=cl(ll(i-o,0)),c=0;o<i;o++,c++)Wc(a,c,e[o]);return a.length=c,a},fl=ul.f,dl="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],vl={f:function(e){return dl&&"Window"==he(e)?function(e){try{return fl(e)}catch(e){return sl(dl)}}(e):fl(Mn(e))}},hl={f:Object.getOwnPropertySymbols},pl={f:Gt},gl=cn.f,yl=function(e){if("Symbol"===Yr(e))throw TypeError("Cannot convert a Symbol value to a string");return ol(e)},ml=vl,bl=hl,wl=function(e,t,n){return cn.f(e,t,n)},xl=function(e){var t=Xe.Symbol||(Xe.Symbol={});Bt(t,e)||gl(t,e,{value:pl.f(e)})},Sl=function(){var e=dt("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,r=Gt("toPrimitive");t&&!t[r]&&_r(t,r,(function(e){return xt(n,this)}),{arity:1})},El=Zo.forEach,Ol=vn("hidden"),kl="Symbol",Cl="prototype",Tl=So.set,Nl=So.getterFor(kl),Pl=Object[Cl],Ml=De.Symbol,Al=Ml&&Ml[Cl],Dl=De.TypeError,jl=De.QObject,Il=Un.f,Rl=cn.f,Fl=ml.f,Ll=Pn.f,Bl=fe([].push),_l=Lt("symbols"),$l=Lt("op-symbols"),zl=Lt("wks"),Wl=!jl||!jl[Cl]||!jl[Cl].findChild,Ul=We&&ie((function(){return 7!=Lr(Rl({},"a",{get:function(){return Rl(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=Il(Pl,t);r&&delete Pl[t],Rl(e,t,n),r&&e!==Pl&&Rl(Pl,t,r)}:Rl,Hl=function(e,t){var n=_l[e]=Lr(Al);return Tl(n,{type:kl,tag:e,description:t}),We||(n.description=t),n},Vl=function(e,t,n){e===Pl&&Vl($l,t,n),Qt(e);var r=Zt(t);return Qt(n),Bt(_l,r)?(n.enumerable?(Bt(e,Ol)&&e[Ol][r]&&(e[Ol][r]=!1),n=Lr(n,{enumerable:ln(0,!1)})):(Bt(e,Ol)||Rl(e,Ol,ln(1,{})),e[Ol][r]=!0),Ul(e,r,n)):Rl(e,r,n)},Gl=function(e,t){Qt(e);var n=Mn(t),r=pr(n).concat(Xl(n));return El(r,(function(t){We&&!xt(Kl,n,t)||Vl(e,t,n[t])})),e},Kl=function(e){var t=Zt(e),n=xt(Ll,this,t);return!(this===Pl&&Bt(_l,t)&&!Bt($l,t))&&(!(n||!Bt(this,t)||!Bt(_l,t)||Bt(this,Ol)&&this[Ol][t])||n)},ql=function(e,t){var n=Mn(e),r=Zt(t);if(n!==Pl||!Bt(_l,r)||Bt($l,r)){var o=Il(n,r);return!o||!Bt(_l,r)||Bt(n,Ol)&&n[Ol][r]||(o.enumerable=!0),o}},Yl=function(e){var t=Fl(Mn(e)),n=[];return El(t,(function(e){Bt(_l,e)||Bt(hn,e)||Bl(n,e)})),n},Xl=function(e){var t=e===Pl,n=Fl(t?$l:Mn(e)),r=[];return El(n,(function(e){!Bt(_l,e)||t&&!Bt(Pl,e)||Bl(r,_l[e])})),r};st||(Al=(Ml=function(){if(vt(Al,this))throw Dl("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?yl(arguments[0]):void 0,t=_t(e),n=function(e){this===Pl&&xt(n,$l,e),Bt(this,Ol)&&Bt(this[Ol],t)&&(this[Ol][t]=!1),Ul(this,t,ln(1,e))};return We&&Wl&&Ul(Pl,t,{configurable:!0,set:n}),Hl(t,e)})[Cl],_r(Al,"toString",(function(){return Nl(this).tag})),_r(Ml,"withoutSetter",(function(e){return Hl(_t(e),e)})),Pn.f=Kl,cn.f=Vl,br.f=Gl,Un.f=ql,ul.f=ml.f=Yl,bl.f=Xl,pl.f=function(e){return Hl(Gt(e),e)},We&&wl(Al,"description",{configurable:!0,get:function(){return Nl(this).description}})),uo({global:!0,constructor:!0,wrap:!0,forced:!st,sham:!st},{Symbol:Ml}),El(pr(zl),(function(e){xl(e)})),uo({target:kl,stat:!0,forced:!st},{useSetter:function(){Wl=!0},useSimple:function(){Wl=!1}}),uo({target:"Object",stat:!0,forced:!st,sham:!We},{create:function(e,t){return void 0===t?Lr(e):Gl(Lr(e),t)},defineProperty:Vl,defineProperties:Gl,getOwnPropertyDescriptor:ql}),uo({target:"Object",stat:!0,forced:!st},{getOwnPropertyNames:Yl}),Sl(),eo(Ml,kl),hn[Ol]=!0;var Jl=st&&!!Symbol.for&&!!Symbol.keyFor,Ql=Lt("string-to-symbol-registry"),Zl=Lt("symbol-to-string-registry");uo({target:"Symbol",stat:!0,forced:!Jl},{for:function(e){var t=yl(e);if(Bt(Ql,t))return Ql[t];var n=dt("Symbol")(t);return Ql[t]=n,Zl[n]=t,n}});var eu=Lt("symbol-to-string-registry");uo({target:"Symbol",stat:!0,forced:!Jl},{keyFor:function(e){if(!Ut(e))throw TypeError(mt(e)+" is not a symbol");if(Bt(eu,e))return eu[e]}});var tu=fe([].push),nu=function(e){if(je(e))return e;if(Vo(e)){for(var t=e.length,n=[],r=0;r<t;r++){var o=e[r];"string"==typeof o?tu(n,o):"number"!=typeof o&&"Number"!=he(o)&&"String"!=he(o)||tu(n,yl(o))}var i=n.length,a=!0;return function(e,t){if(a)return a=!1,t;if(Vo(this))return t;for(var r=0;r<i;r++)if(n[r]===e)return t}}},ru=String,ou=dt("JSON","stringify"),iu=fe(/./.exec),au=fe("".charAt),cu=fe("".charCodeAt),lu=fe("".replace),uu=fe(1..toString),su=/[\uD800-\uDFFF]/g,fu=/^[\uD800-\uDBFF]$/,du=/^[\uDC00-\uDFFF]$/,vu=!st||ie((function(){var e=dt("Symbol")();return"[null]"!=ou([e])||"{}"!=ou({a:e})||"{}"!=ou(Object(e))})),hu=ie((function(){return'"\\udf06\\ud834"'!==ou("\udf06\ud834")||'"\\udead"'!==ou("\udead")})),pu=function(e,t){var n=Tc(arguments),r=nu(t);if(je(r)||void 0!==e&&!Ut(e))return n[1]=function(e,t){if(je(r)&&(t=xt(r,this,ru(e),t)),!Ut(t))return t},Wn(ou,null,n)},gu=function(e,t,n){var r=au(n,t-1),o=au(n,t+1);return iu(fu,e)&&!iu(du,o)||iu(du,e)&&!iu(fu,r)?"\\u"+uu(cu(e,0),16):e};ou&&uo({target:"JSON",stat:!0,arity:3,forced:vu||hu},{stringify:function(e,t,n){var r=Tc(arguments),o=Wn(vu?pu:ou,null,r);return hu&&"string"==typeof o?lu(o,su,gu):o}});var yu=!st||ie((function(){bl.f(1)}));uo({target:"Object",stat:!0,forced:yu},{getOwnPropertySymbols:function(e){var t=bl.f;return t?t(At(e)):[]}}),xl("asyncIterator"),xl("hasInstance"),xl("isConcatSpreadable"),xl("iterator"),xl("match"),xl("matchAll"),xl("replace"),xl("search"),xl("species"),xl("split"),xl("toPrimitive"),Sl(),xl("toStringTag"),eo(dt("Symbol"),"Symbol"),xl("unscopables"),eo(De.JSON,"JSON",!0);var mu=Xe.Symbol,bu=mu,wu=fe("".charAt),xu=fe("".charCodeAt),Su=fe("".slice),Eu=function(e){return function(t,n){var r,o,i=yl(xe(t)),a=nr(n),c=i.length;return a<0||a>=c?e?"":void 0:(r=xu(i,a))<55296||r>56319||a+1===c||(o=xu(i,a+1))<56320||o>57343?e?wu(i,a):r:e?Su(i,a,a+2):o-56320+(r-55296<<10)+65536}},Ou={codeAt:Eu(!1),charAt:Eu(!0)}.charAt,ku="String Iterator",Cu=So.set,Tu=So.getterFor(ku);Eo(String,"String",(function(e){Cu(this,{type:ku,string:yl(e),index:0})}),(function(){var e,t=Tu(this),n=t.string,r=t.index;return r>=n.length?Oo(void 0,!0):(e=Ou(n,r),t.index+=e.length,Oo(e,!1))}));var Nu=Gt("iterator"),Pu=function(e){if(!me(e))return Ht(e,Nu)||Ht(e,"@@iterator")||to[Yr(e)]},Mu=Pu,Au=Mu;uo({target:"Array",stat:!0},{isArray:Vo});var Du=Xe.Array.isArray,ju=Du,Iu=Du,Ru=Oe((function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports})),Fu=Iu,Lu=Oe((function(e){e.exports=function(e){if(Fu(e))return Ru(e)},e.exports.__esModule=!0,e.exports.default=e.exports})),Bu=cn.f,_u=Gt("metadata"),$u=Function.prototype;void 0===$u[_u]&&Bu($u,_u,{value:null}),xl("dispose"),xl("metadata");var zu=mu;xl("asyncDispose");var Wu=dt("Symbol"),Uu=Wu.keyFor,Hu=fe(Wu.prototype.valueOf),Vu=Wu.isRegisteredSymbol||function(e){try{return void 0!==Uu(Hu(e))}catch(e){return!1}};uo({target:"Symbol",stat:!0},{isRegisteredSymbol:Vu});for(var Gu=dt("Symbol"),Ku=Gu.isWellKnownSymbol,qu=dt("Object","getOwnPropertyNames"),Yu=fe(Gu.prototype.valueOf),Xu=Lt("wks"),Ju=0,Qu=qu(Gu),Zu=Qu.length;Ju<Zu;Ju++)try{var es=Qu[Ju];Ut(Gu[es])&&Gt(es)}catch(e){}var ts=function(e){if(Ku&&Ku(e))return!0;try{for(var t=Yu(e),n=0,r=qu(Xu),o=r.length;n<o;n++)if(Xu[r[n]]==t)return!0}catch(e){}return!1};uo({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:ts}),xl("matcher"),xl("observable"),uo({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:Vu}),uo({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:ts}),xl("metadataKey"),xl("patternMatch"),xl("replaceAll");var ns=zu,rs=function(e,t,n){var r,o;Qt(e);try{if(!(r=Ht(e,"return"))){if("throw"===t)throw n;return n}r=xt(r,e)}catch(e){o=!0,r=e}if("throw"===t)throw n;if(o)throw r;return Qt(r),n},os=Gt("iterator"),is=Array.prototype,as=TypeError,cs=function(e,t,n,r){try{return r?t(Qt(n)[0],n[1]):t(n)}catch(t){rs(e,"throw",t)}},ls=function(e){return void 0!==e&&(to.Array===e||is[os]===e)},us=function(e,t){var n=arguments.length<2?Pu(e):t;if(wt(n))return Qt(xt(n,e));throw as(mt(e)+" is not iterable")},ss=Array,fs=Gt("iterator"),ds=!1;try{var vs=0,hs={next:function(){return{done:!!vs++}},return:function(){ds=!0}};hs[fs]=function(){return this},Array.from(hs,(function(){throw 2}))}catch(e){}var ps=function(e){var t=At(e),n=Go(this),r=arguments.length,o=r>1?arguments[1]:void 0,i=void 0!==o;i&&(o=Vn(o,r>2?arguments[2]:void 0));var a,c,l,u,s,f,d=Pu(t),v=0;if(!d||this===ss&&ls(d))for(a=lr(t),c=n?new this(a):ss(a);a>v;v++)f=i?o(t[v],v):t[v],Wc(c,v,f);else for(s=(u=us(t,d)).next,c=n?new this:[];!(l=xt(s,u)).done;v++)f=i?cs(u,o,[l.value,v],!0):l.value,Wc(c,v,f);return c.length=v,c},gs=function(e,t){if(!t&&!ds)return!1;var n=!1;try{var r={};r[fs]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n},ys=!gs((function(e){Array.from(e)}));uo({target:"Array",stat:!0,forced:ys},{from:ps});var ms=Xe.Array.from,bs=ns,ws=ms,xs=Oe((function(e){e.exports=function(e){if(void 0!==bs&&null!=Mu(e)||null!=e["@@iterator"])return ws(e)},e.exports.__esModule=!0,e.exports.default=e.exports})),Ss=Xc,Es=Oe((function(e){e.exports=function(e,t){var n;if(e){if("string"==typeof e)return Ru(e,t);var r=Ss(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?ws(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ru(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports})),Os=Oe((function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports})),ks=Ee(Oe((function(e){e.exports=function(e){return Lu(e)||xs(e)||Es(e)||Os()},e.exports.__esModule=!0,e.exports.default=e.exports}))),Cs=Oe((function(e){e.exports=function(e){if(Fu(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports})),Ts=TypeError,Ns=Object.getOwnPropertyDescriptor,Ps=We&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}()?function(e,t){if(Vo(e)&&!Ns(e,"length").writable)throw Ts("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t},Ms=ie((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}();uo({target:"Array",proto:!0,arity:1,forced:Ms},{push:function(e){var t=At(this),n=lr(t),r=arguments.length;Zc(n+r);for(var o=0;o<r;o++)t[n]=arguments[o],n++;return Ps(t,n),n}});var As=ri("Array").push,Ds=Array.prototype,js=function(e){var t=e.push;return e===Ds||vt(Ds,e)&&t===Ds.push?As:t},Is=Oe((function(e){e.exports=function(e,t){var n=null==e?null:void 0!==bs&&Mu(e)||e["@@iterator"];if(null!=n){var r,o,i,a,c=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(js(c).call(c,r.value),c.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return c}},e.exports.__esModule=!0,e.exports.default=e.exports})),Rs=Oe((function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports})),Fs=Oe((function(e){e.exports=function(e,t){return Cs(e)||Is(e,t)||Es(e,t)||Rs()},e.exports.__esModule=!0,e.exports.default=e.exports})),Ls=Ee(Fs),Bs={}.propertyIsEnumerable,_s=Object.getOwnPropertyDescriptor,$s=_s&&!Bs.call({1:2},1)?function(e){var t=_s(this,e);return!!t&&t.enumerable}:Bs,zs={f:$s},Ws=Object,Us=Oi("".split),Hs=bi((function(){return!Ws("z").propertyIsEnumerable(0)}))?function(e){return"String"==cc(e)?Us(e,""):Ws(e)}:Ws,Vs=function(e){return Hs(Ti(e))},Gs=Object.getOwnPropertyDescriptor,Ks={f:ta?Gs:function(e,t){if(e=Vs(e),t=Ta(t),ca)try{return Gs(e,t)}catch(e){}if(Ai(e,t))return Ga(!va(zs.f,e,t),e[t])}},qs=Math.ceil,Ys=Math.floor,Xs=Math.trunc||function(e){var t=+e;return(t>0?Ys:qs)(t)},Js=function(e){var t=+e;return t!=t||0===t?0:Xs(t)},Qs=Math.max,Zs=Math.min,ef=function(e,t){var n=Js(e);return n<0?Qs(n+t,0):Zs(n,t)},tf=Math.min,nf=function(e){return e>0?tf(Js(e),9007199254740991):0},rf=function(e){return nf(e.length)},of=function(e){return function(t,n,r){var o,i=Vs(t),a=rf(i),c=ef(r,a);if(e&&n!=n){for(;a>c;)if((o=i[c++])!=o)return!0}else for(;a>c;c++)if((e||c in i)&&i[c]===n)return e||c||0;return!e&&-1}},af={includes:of(!0),indexOf:of(!1)}.indexOf,cf=Oi([].push),lf=function(e,t){var n,r=Vs(e),o=0,i=[];for(n in r)!Ai(Xa,n)&&Ai(r,n)&&cf(i,n);for(;t.length>o;)Ai(r,n=t[o++])&&(~af(i,n)||cf(i,n));return i},uf=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],sf=uf.concat("length","prototype"),ff={f:Object.getOwnPropertyNames||function(e){return lf(e,sf)}},df={f:Object.getOwnPropertySymbols},vf=Oi([].concat),hf=ha("Reflect","ownKeys")||function(e){var t=ff.f(fa(e)),n=df.f;return n?vf(t,n(e)):t},pf=function(e,t,n){for(var r=hf(t),o=Ia.f,i=Ks.f,a=0;a<r.length;a++){var c=r[a];Ai(e,c)||n&&Ai(n,c)||o(e,c,i(t,c))}},gf=/#|\.prototype\./,yf=function(e,t){var n=bf[mf(e)];return n==xf||n!=wf&&(ea(t)?bi(t):!!t)},mf=yf.normalize=function(e){return String(e).replace(gf,".").toLowerCase()},bf=yf.data={},wf=yf.NATIVE="N",xf=yf.POLYFILL="P",Sf=yf,Ef=Ks.f,Of=function(e,t){var n,r,o,i,a,c=e.target,l=e.global,u=e.stat;if(n=l?vi:u?vi[c]||pi(c,{}):(vi[c]||{}).prototype)for(r in t){if(i=t[r],o=e.dontCallGetSet?(a=Ef(n,r))&&a.value:n[r],!Sf(l?r:c+(u?".":"#")+r,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;pf(i,o)}(e.sham||o&&o.sham)&&Ka(i,"sham",!0),oc(n,r,i,e)}},kf=/"/g,Cf=Oi("".replace),Tf=function(e,t,n,r){var o=hc(Ti(e)),i="<"+t;return""!==n&&(i+=" "+n+'="'+Cf(hc(r),kf,"&quot;")+'"'),i+">"+o+"</"+t+">"},Nf=function(e){return bi((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))};Of({target:"String",proto:!0,forced:Nf("anchor")},{anchor:function(e){return Tf(this,"a","name",e)}});var Pf=Oi([].join),Mf=Hs!=Object||!function(e,t){var n=[][e];return!!n&&bi((function(){n.call(null,t||function(){return 1},1)}))}("join",",");Of({target:"Array",proto:!0,forced:Mf},{join:function(e){return Pf(Vs(this),void 0===e?",":e)}});var Af,Df=vi.RegExp,jf=bi((function(){var e=Df("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),If=jf||bi((function(){return!Df("a","y").sticky})),Rf={BROKEN_CARET:jf||bi((function(){var e=Df("^r","gy");return e.lastIndex=2,null!=e.exec("str")})),MISSED_STICKY:If,UNSUPPORTED_Y:jf},Ff=Object.keys||function(e){return lf(e,uf)},Lf=ta&&!la?Object.defineProperties:function(e,t){fa(e);for(var n,r=Vs(t),o=Ff(t),i=o.length,a=0;i>a;)Ia.f(e,n=o[a++],r[n]);return e},Bf={f:Lf},_f=ha("document","documentElement"),$f="prototype",zf="script",Wf=Ya("IE_PROTO"),Uf=function(){},Hf=function(e){return"<"+zf+">"+e+"</"+zf+">"},Vf=function(e){e.write(Hf("")),e.close();var t=e.parentWindow.Object;return e=null,t},Gf=function(){try{Af=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;Gf="undefined"!=typeof document?document.domain&&Af?Vf(Af):(t=aa("iframe"),n="java"+zf+":",t.style.display="none",_f.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(Hf("document.F=Object")),e.close(),e.F):Vf(Af);for(var r=uf.length;r--;)delete Gf[$f][uf[r]];return Gf()};Xa[Wf]=!0;var Kf=Object.create||function(e,t){var n;return null!==e?(Uf[$f]=fa(e),n=new Uf,Uf[$f]=null,n[Wf]=e):n=Gf(),void 0===t?n:Bf.f(n,t)},qf=vi.RegExp,Yf=bi((function(){var e=qf(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)})),Xf=vi.RegExp,Jf=bi((function(){var e=Xf("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})),Qf=nc.get,Zf=mi("native-string-replace",String.prototype.replace),ed=RegExp.prototype.exec,td=ed,nd=Oi("".charAt),rd=Oi("".indexOf),od=Oi("".replace),id=Oi("".slice),ad=function(){var e=/a/,t=/b*/g;return va(ed,e,"a"),va(ed,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),cd=Rf.BROKEN_CARET,ld=void 0!==/()??/.exec("")[1];(ad||ld||cd||Yf||Jf)&&(td=function(e){var t,n,r,o,i,a,c,l=this,u=Qf(l),s=hc(e),f=u.raw;if(f)return f.lastIndex=l.lastIndex,t=va(td,f,s),l.lastIndex=f.lastIndex,t;var d=u.groups,v=cd&&l.sticky,h=va(pc,l),p=l.source,g=0,y=s;if(v&&(h=od(h,"y",""),-1===rd(h,"g")&&(h+="g"),y=id(s,l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==nd(s,l.lastIndex-1))&&(p="(?: "+p+")",y=" "+y,g++),n=new RegExp("^(?:"+p+")",h)),ld&&(n=new RegExp("^"+p+"$(?!\\s)",h)),ad&&(r=l.lastIndex),o=va(ed,v?n:l,y),v?o?(o.input=id(o.input,g),o[0]=id(o[0],g),o.index=l.lastIndex,l.lastIndex+=o[0].length):l.lastIndex=0:ad&&o&&(l.lastIndex=l.global?o.index+o[0].length:r),ld&&o&&o.length>1&&va(Zf,o[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o&&d)for(o.groups=a=Kf(null),i=0;i<d.length;i++)a[(c=d[i])[0]]=o[c[1]];return o});var ud=td;Of({target:"RegExp",proto:!0,forced:/./.exec!==ud},{exec:ud});var sd=Function.prototype,fd=sd.apply,dd=sd.call,vd="object"==typeof Reflect&&Reflect.apply||(wi?dd.bind(fd):function(){return dd.apply(fd,arguments)}),hd=function(e){if("Function"===cc(e))return Oi(e)},pd=qi("species"),gd=RegExp.prototype,yd=function(e,t,n,r){var o=qi(e),i=!bi((function(){var t={};return t[o]=function(){return 7},7!=""[e](t)})),a=i&&!bi((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[pd]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return t=!0,null},n[o](""),!t}));if(!i||!a||n){var c=hd(/./[o]),l=t(o,""[e],(function(e,t,n,r,o){var a=hd(e),l=t.exec;return l===ud||l===gd.exec?i&&!o?{done:!0,value:c(t,n,r)}:{done:!0,value:a(n,t,r)}:{done:!1}}));oc(String.prototype,e,l[0]),oc(gd,o,l[1])}r&&Ka(gd[o],"sham",!0)},md=Oi("".charAt),bd=Oi("".charCodeAt),wd=Oi("".slice),xd=function(e){return function(t,n){var r,o,i=hc(Ti(t)),a=Js(n),c=i.length;return a<0||a>=c?e?"":void 0:(r=bd(i,a))<55296||r>56319||a+1===c||(o=bd(i,a+1))<56320||o>57343?e?md(i,a):r:e?wd(i,a,a+2):o-56320+(r-55296<<10)+65536}},Sd={codeAt:xd(!1),charAt:xd(!0)}.charAt,Ed=function(e,t,n){return t+(n?Sd(e,t).length:1)},Od=Math.floor,kd=Oi("".charAt),Cd=Oi("".replace),Td=Oi("".slice),Nd=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Pd=/\$([$&'`]|\d{1,2})/g,Md=function(e,t,n,r,o,i){var a=n+e.length,c=r.length,l=Pd;return void 0!==o&&(o=Pi(o),l=Nd),Cd(i,l,(function(i,l){var u;switch(kd(l,0)){case"$":return"$";case"&":return e;case"`":return Td(t,0,n);case"'":return Td(t,a);case"<":u=o[Td(l,1,-1)];break;default:var s=+l;if(0===s)return i;if(s>c){var f=Od(s/10);return 0===f?i:f<=c?void 0===r[f-1]?kd(l,1):r[f-1]+kd(l,1):i}u=r[s-1]}return void 0===u?"":u}))},Ad=TypeError,Dd=function(e,t){var n=e.exec;if(ea(n)){var r=va(n,e,t);return null!==r&&fa(r),r}if("RegExp"===cc(e))return va(ud,e,t);throw Ad("RegExp#exec called on incompatible receiver")},jd=qi("replace"),Id=Math.max,Rd=Math.min,Fd=Oi([].concat),Ld=Oi([].push),Bd=Oi("".indexOf),_d=Oi("".slice),$d="$0"==="a".replace(/./,"$0"),zd=!!/./[jd]&&""===/./[jd]("a","$0");yd("replace",(function(e,t,n){var r=zd?"$":"$0";return[function(e,n){var r=Ti(this),o=ki(e)?void 0:Sa(e,jd);return o?va(o,e,r,n):va(t,hc(r),e,n)},function(e,o){var i=fa(this),a=hc(e);if("string"==typeof o&&-1===Bd(o,r)&&-1===Bd(o,"$<")){var c=n(t,i,a,o);if(c.done)return c.value}var l=ea(o);l||(o=hc(o));var u=i.global;if(u){var s=i.unicode;i.lastIndex=0}for(var f=[];;){var d=Dd(i,a);if(null===d)break;if(Ld(f,d),!u)break;""===hc(d[0])&&(i.lastIndex=Ed(a,nf(i.lastIndex),s))}for(var v,h="",p=0,g=0;g<f.length;g++){for(var y=hc((d=f[g])[0]),m=Id(Rd(Js(d.index),a.length),0),b=[],w=1;w<d.length;w++)Ld(b,void 0===(v=d[w])?v:String(v));var x=d.groups;if(l){var S=Fd([y],b,m,a);void 0!==x&&Ld(S,x);var E=hc(vd(o,void 0,S))}else E=Md(y,a,m,b,x,o);m>=p&&(h+=_d(a,p,m)+E,p=m+y.length)}return h+_d(a,p)}]}),!!bi((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!$d||zd),Xe.JSON||(Xe.JSON={stringify:JSON.stringify});var Wd=function(e,t,n){return Wn(Xe.JSON.stringify,null,arguments)},Ud=sr.includes,Hd=ie((function(){return!Array(1).includes()}));uo({target:"Array",proto:!0,forced:Hd},{includes:function(e){return Ud(this,e,arguments.length>1?arguments[1]:void 0)}}),xo();var Vd=ri("Array").includes,Gd=Gt("match"),Kd=function(e){var t;return _e(e)&&(void 0!==(t=e[Gd])?!!t:"RegExp"==he(e))},qd=TypeError,Yd=Gt("match"),Xd=function(e){if(Kd(e))throw qd("The method doesn't accept regular expressions");return e},Jd=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[Yd]=!1,"/./"[e](t)}catch(e){}}return!1},Qd=fe("".indexOf);uo({target:"String",proto:!0,forced:!Jd("includes")},{includes:function(e){return!!~Qd(yl(xe(this)),yl(Xd(e)),arguments.length>1?arguments[1]:void 0)}});var Zd=ri("String").includes,ev=Vd,tv=Zd,nv=Array.prototype,rv=String.prototype,ov=function(e){var t=e.includes;return e===nv||vt(nv,e)&&t===nv.includes?ev:"string"==typeof e||e===rv||vt(rv,e)&&t===rv.includes?tv:t},iv=ms,av="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff",cv=fe("".replace),lv=RegExp("^["+av+"]+"),uv=RegExp("(^|[^"+av+"])["+av+"]+$"),sv=function(e){return function(t){var n=yl(xe(t));return 1&e&&(n=cv(n,lv,"")),2&e&&(n=cv(n,uv,"$1")),n}},fv={start:sv(1),end:sv(2),trim:sv(3)},dv=fv.trim,vv=De.parseInt,hv=De.Symbol,pv=hv&&hv.iterator,gv=/^[+-]?0x/i,yv=fe(gv.exec),mv=8!==vv(av+"08")||22!==vv(av+"0x16")||pv&&!ie((function(){vv(Object(pv))}))?function(e,t){var n=dv(yl(e));return vv(n,t>>>0||(yv(gv,n)?16:10))}:vv;uo({global:!0,forced:parseInt!=mv},{parseInt:mv});var bv=Xe.parseInt,wv=ri("Array").concat,xv=Array.prototype,Sv=function(e){var t=e.concat;return e===xv||vt(xv,e)&&t===xv.concat?wv:t},Ev=(Un.f,$n("".endsWith)),Ov=$n("".slice),kv=Math.min,Cv=Jd("endsWith");uo({target:"String",proto:!0,forced:!Cv},{endsWith:function(e){var t=yl(xe(this));Xd(e);var n=arguments.length>1?arguments[1]:void 0,r=t.length,o=void 0===n?r:kv(ar(n),r),i=yl(e);return Ev?Ev(t,i,o):Ov(t,o-i.length,o)===i}});var Tv=ri("String").endsWith,Nv=String.prototype,Pv=function(e){var t=e.endsWith;return"string"==typeof e||e===Nv||vt(Nv,e)&&t===Nv.endsWith?Tv:t},Mv=Zo.map,Av=Uc("map");uo({target:"Array",proto:!0,forced:!Av},{map:function(e){return Mv(this,e,arguments.length>1?arguments[1]:void 0)}});var Dv=ri("Array").map,jv=Array.prototype,Iv=function(e){var t=e.map;return e===jv||vt(jv,e)&&t===jv.map?Dv:t},Rv=cn.f;uo({target:"Object",stat:!0,forced:Object.defineProperty!==Rv,sham:!We},{defineProperty:Rv});var Fv=Oe((function(e){var t=Xe.Object,n=e.exports=function(e,n,r){return t.defineProperty(e,n,r)};t.defineProperty.sham&&(n.sham=!0)})),Lv=Fv,Bv=Lv,_v=pl.f("iterator"),$v=Oe((function(e){function t(n){return e.exports=t="function"==typeof bs&&"symbol"==typeof _v?function(e){return typeof e}:function(e){return e&&"function"==typeof bs&&e.constructor===bs&&e!==bs.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})),zv=Ee($v),Wv=pl.f("toPrimitive"),Uv=Oe((function(e){var t=$v.default;e.exports=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Wv];if(void 0!==r){var o=r.call(e,n||"default");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports})),Hv=Oe((function(e){var t=$v.default;e.exports=function(e){var n=Uv(e,"string");return"symbol"===t(n)?n:String(n)},e.exports.__esModule=!0,e.exports.default=e.exports})),Vv=Bv,Gv=Oe((function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Vv(e,Hv(r.key),r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Vv(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports})),Kv=Ee(Gv),qv=Oe((function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports})),Yv=Ee(qv),Xv=0,Jv=Kv((function e(){Yv(this,e),this.id="".concat(Xv++)})),Qv=!ie((function(){return Object.isExtensible(Object.preventExtensions({}))})),Zv=ie((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}})),eh=Object.isExtensible,th=ie((function(){eh(1)}))||Zv?function(e){return!!_e(e)&&((!Zv||"ArrayBuffer"!=he(e))&&(!eh||eh(e)))}:eh,nh=Qv,rh=Oe((function(e){var t=cn.f,n=!1,r=_t("meta"),o=0,i=function(e){t(e,r,{value:{objectID:"O"+o++,weakData:{}}})},a=e.exports={enable:function(){a.enable=function(){},n=!0;var e=ul.f,t=fe([].splice),o={};o[r]=1,e(o).length&&(ul.f=function(n){for(var o=e(n),i=0,a=o.length;i<a;i++)if(o[i]===r){t(o,i,1);break}return o},uo({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:ml.f}))},fastKey:function(e,t){if(!_e(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!Bt(e,r)){if(!th(e))return"F";if(!t)return"E";i(e)}return e[r].objectID},getWeakData:function(e,t){if(!Bt(e,r)){if(!th(e))return!0;if(!t)return!1;i(e)}return e[r].weakData},onFreeze:function(e){return nh&&n&&th(e)&&!Bt(e,r)&&i(e),e}};hn[r]=!0})),oh=TypeError,ih=function(e,t){this.stopped=e,this.result=t},ah=ih.prototype,ch=TypeError,lh=rh,uh=function(e,t,n){var r,o,i,a,c,l,u,s=n&&n.that,f=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_RECORD),v=!(!n||!n.IS_ITERATOR),h=!(!n||!n.INTERRUPTED),p=Vn(t,s),g=function(e){return r&&rs(r,"normal",e),new ih(!0,e)},y=function(e){return f?(Qt(e),h?p(e[0],e[1],g):p(e[0],e[1])):h?p(e,g):p(e)};if(d)r=e.iterator;else if(v)r=e;else{if(!(o=Pu(e)))throw oh(mt(e)+" is not iterable");if(ls(o)){for(i=0,a=lr(e);a>i;i++)if((c=y(e[i]))&&vt(ah,c))return c;return new ih(!1)}r=us(e,o)}for(l=d?e.next:r.next;!(u=xt(l,r)).done;){try{c=y(u.value)}catch(e){rs(r,"throw",e)}if("object"==typeof c&&c&&vt(ah,c))return c}return new ih(!1)},sh=function(e,t){if(vt(t,e))return e;throw ch("Incorrect invocation")},fh=cn.f,dh=Zo.forEach,vh=So.set,hh=So.getterFor,ph=function(e,t,n){for(var r in t)n&&n.unsafe&&e[r]?e[r]=t[r]:_r(e,r,t[r],n);return e},gh=lh.getWeakData,yh=So.set,mh=So.getterFor,bh=Zo.find,wh=Zo.findIndex,xh=fe([].splice),Sh=0,Eh=function(e){return e.frozen||(e.frozen=new Oh)},Oh=function(){this.entries=[]},kh=function(e,t){return bh(e.entries,(function(e){return e[0]===t}))};Oh.prototype={get:function(e){var t=kh(this,e);if(t)return t[1]},has:function(e){return!!kh(this,e)},set:function(e,t){var n=kh(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=wh(this.entries,(function(t){return t[0]===e}));return~t&&xh(this.entries,t,1),!!~t}};var Ch,Th={getConstructor:function(e,t,n,r){var o=e((function(e,o){sh(e,i),yh(e,{type:t,id:Sh++,frozen:void 0}),me(o)||uh(o,e[r],{that:e,AS_ENTRIES:n})})),i=o.prototype,a=mh(t),c=function(e,t,n){var r=a(e),o=gh(Qt(t),!0);return!0===o?Eh(r).set(t,n):o[r.id]=n,e};return ph(i,{delete:function(e){var t=a(this);if(!_e(e))return!1;var n=gh(e);return!0===n?Eh(t).delete(e):n&&Bt(n,t.id)&&delete n[t.id]},has:function(e){var t=a(this);if(!_e(e))return!1;var n=gh(e);return!0===n?Eh(t).has(e):n&&Bt(n,t.id)}}),ph(i,n?{get:function(e){var t=a(this);if(_e(e)){var n=gh(e);return!0===n?Eh(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return c(this,e,t)}}:{add:function(e){return c(this,e,!0)}}),o}},Nh=function(e,t,n){var r,o=-1!==e.indexOf("Map"),i=-1!==e.indexOf("Weak"),a=o?"set":"add",c=De[e],l=c&&c.prototype,u={};if(We&&je(c)&&(i||l.forEach&&!ie((function(){(new c).entries().next()})))){var s=(r=t((function(t,n){vh(sh(t,s),{type:e,collection:new c}),null!=n&&uh(n,t[a],{that:t,AS_ENTRIES:o})}))).prototype,f=hh(e);dh(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(e){var t="add"==e||"set"==e;!(e in l)||i&&"clear"==e||dn(s,e,(function(n,r){var o=f(this).collection;if(!t&&i&&!_e(n))return"get"==e&&void 0;var a=o[e](0===n?0:n,r);return t?this:a}))})),i||fh(s,"size",{configurable:!0,get:function(){return f(this).collection.size}})}else r=n.getConstructor(t,e,o,a),lh.enable();return eo(r,e,!1,!0),u[e]=r,uo({global:!0,forced:!0},u),i||n.setStrong(r,e,o),r},Ph=Th,Mh=So.enforce,Ah=Object,Dh=Array.isArray,jh=Ah.isExtensible,Ih=Ah.isFrozen,Rh=Ah.isSealed,Fh=Ah.freeze,Lh=Ah.seal,Bh={},_h={},$h=!De.ActiveXObject&&"ActiveXObject"in De,zh=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},Wh=Nh("WeakMap",zh,Ph),Uh=Wh.prototype,Hh=fe(Uh.set);if(fn)if($h){Ch=Ph.getConstructor(zh,"WeakMap",!0),lh.enable();var Vh=fe(Uh.delete),Gh=fe(Uh.has),Kh=fe(Uh.get);ph(Uh,{delete:function(e){if(_e(e)&&!jh(e)){var t=Mh(this);return t.frozen||(t.frozen=new Ch),Vh(this,e)||t.frozen.delete(e)}return Vh(this,e)},has:function(e){if(_e(e)&&!jh(e)){var t=Mh(this);return t.frozen||(t.frozen=new Ch),Gh(this,e)||t.frozen.has(e)}return Gh(this,e)},get:function(e){if(_e(e)&&!jh(e)){var t=Mh(this);return t.frozen||(t.frozen=new Ch),Gh(this,e)?Kh(this,e):t.frozen.get(e)}return Kh(this,e)},set:function(e,t){if(_e(e)&&!jh(e)){var n=Mh(this);n.frozen||(n.frozen=new Ch),Gh(this,e)?Hh(this,e,t):n.frozen.set(e,t)}else Hh(this,e,t);return this}})}else nh&&ie((function(){var e=Fh([]);return Hh(new Wh,e,1),!Ih(e)}))&&ph(Uh,{set:function(e,t){var n;return Dh(e)&&(Ih(e)?n=Bh:Rh(e)&&(n=_h)),Hh(this,e,t),n==Bh&&Fh(e),n==_h&&Lh(e),this}});var qh=Xe.WeakMap,Yh=new qh,Xh=new qh,Jh=new qh,Qh=new qh,Zh=new qh,ep=new qh,tp=new qh,np=new qh,rp=new qh,op=new qh,ip=new qh,ap=new qh,cp=new qh,lp=new qh,up=new qh,sp=new qh;new qh;var fp=new qh,dp=new qh,vp=new qh,hp=new qh,pp=new qh,gp=new qh;new qh,new qh,new qh;var yp=new qh,mp=new qh,bp=new qh;uo({global:!0,forced:De.globalThis!==De},{globalThis:De});var wp=De,xp=sr.indexOf,Sp=$n([].indexOf),Ep=!!Sp&&1/Sp([1],1,-0)<0,Op=Ep||!ei("indexOf");uo({target:"Array",proto:!0,forced:Op},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return Ep?Sp(this,e,t)||0:xp(this,e,t)}});var kp=ri("Array").indexOf,Cp=Array.prototype,Tp=function(e){var t=e.indexOf;return e===Cp||vt(Cp,e)&&t===Cp.indexOf?kp:t},Np=so.PROPER,Pp=fv.trim;uo({target:"String",proto:!0,forced:function(e){return ie((function(){return!!av[e]()||"âÂá "!=="âÂá "[e]()||Np&&av[e].name!==e}))}("trim")},{trim:function(){return Pp(this)}});var Mp=ri("String").trim,Ap=String.prototype,Dp=function(e){var t=e.trim;return"string"==typeof e||e===Ap||vt(Ap,e)&&t===Ap.trim?Mp:t},jp=hd(hd.bind),Ip=Array.isArray||function(e){return"Array"==cc(e)},Rp=function(){},Fp=[],Lp=ha("Reflect","construct"),Bp=/^\s*(?:class|function)\b/,_p=Oi(Bp.exec),$p=!Bp.exec(Rp),zp=function(e){if(!ea(e))return!1;try{return Lp(Rp,Fp,e),!0}catch(e){return!1}},Wp=function(e){if(!ea(e))return!1;switch(fc(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return $p||!!_p(Bp,Ua(e))}catch(e){return!0}};Wp.sham=!0;var Up=!Lp||bi((function(){var e;return zp(zp.call)||!zp(Object)||!zp((function(){e=!0}))||e}))?Wp:zp,Hp=qi("species"),Vp=Array,Gp=function(e,t){return new(function(e){var t;return Ip(e)&&(t=e.constructor,(Up(t)&&(t===Vp||Ip(t.prototype))||ra(t)&&null===(t=t[Hp]))&&(t=void 0)),void 0===t?Vp:t}(e))(0===t?0:t)},Kp=Oi([].push),qp=function(e){var t=1==e,n=2==e,r=3==e,o=4==e,i=6==e,a=7==e,c=5==e||i;return function(l,u,s,f){for(var d,v,h=Pi(l),p=Hs(h),g=function(e,t){return xa(e),void 0===t?e:wi?jp(e,t):function(){return e.apply(t,arguments)}}(u,s),y=rf(p),m=0,b=f||Gp,w=t?b(l,y):n||a?b(l,0):void 0;y>m;m++)if((c||m in p)&&(v=g(d=p[m],m,h),e))if(t)w[m]=v;else if(v)switch(e){case 3:return!0;case 5:return d;case 6:return m;case 2:Kp(w,d)}else switch(e){case 4:return!1;case 7:Kp(w,d)}return i?-1:r||o?o:w}},Yp={forEach:qp(0),map:qp(1),filter:qp(2),some:qp(3),every:qp(4),find:qp(5),findIndex:qp(6),filterReject:qp(7)},Xp=Ia.f,Jp=qi("unscopables"),Qp=Array.prototype;null==Qp[Jp]&&Xp(Qp,Jp,{configurable:!0,value:Kf(null)});var Zp=function(e){Qp[Jp][e]=!0},eg=Yp.find,tg="find",ng=!0;tg in[]&&Array(1)[tg]((function(){ng=!1})),Of({target:"Array",proto:!0,forced:ng},{find:function(e){return eg(this,e,arguments.length>1?arguments[1]:void 0)}}),Zp(tg);var rg=fe([].concat),og=dt("Reflect","ownKeys")||function(e){var t=ul.f(Qt(e)),n=bl.f;return n?rg(t,n(e)):t},ig=og,ag=Error,cg=fe("".replace),lg=String(ag("zxcasd").stack),ug=/\n\s*at [^:]*:[^\n]*/,sg=ug.test(lg),fg=!ie((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",ln(1,7)),7!==e.stack)})),dg=function(e,t){if(sg&&"string"==typeof e&&!ag.prepareStackTrace)for(;t--;)e=cg(e,ug,"");return e},vg=fg,hg=Error.captureStackTrace,pg=function(e,t,n){for(var r=ig(t),o=cn.f,i=Un.f,a=0;a<r.length;a++){var c=r[a];Bt(e,c)||n&&Bt(n,c)||o(e,c,i(t,c))}},gg=function(e,t){_e(t)&&"cause"in t&&dn(e,"cause",t.cause)},yg=function(e,t,n,r){vg&&(hg?hg(e,t):dn(e,"stack",dg(n,r)))},mg=function(e,t){return void 0===e?arguments.length<2?"":t:yl(e)},bg=Gt("toStringTag"),wg=Error,xg=[].push,Sg=function(e,t){var n,r=vt(Eg,this);vo?n=vo(wg(),r?Br(this):Eg):(n=r?this:Lr(Eg),dn(n,bg,"Error")),void 0!==t&&dn(n,"message",mg(t)),yg(n,Sg,n.stack,1),arguments.length>2&&gg(n,arguments[2]);var o=[];return uh(e,xg,{that:o}),dn(n,"errors",o),n};vo?vo(Sg,wg):pg(Sg,wg,{name:!0});var Eg=Sg.prototype=Lr(wg.prototype,{constructor:ln(1,Sg),message:ln(1,""),name:ln(1,"AggregateError")});uo({global:!0,constructor:!0,arity:2},{AggregateError:Sg});var Og,kg,Cg,Tg,Ng="undefined"!=typeof process&&"process"==he(process),Pg=Gt("species"),Mg=TypeError,Ag=function(e){if(Go(e))return e;throw Mg(mt(e)+" is not a constructor")},Dg=Gt("species"),jg=/(?:ipad|iphone|ipod).*applewebkit/i.test(Ze),Ig=Ng,Rg=De.setImmediate,Fg=De.clearImmediate,Lg=De.process,Bg=De.Dispatch,_g=De.Function,$g=De.MessageChannel,zg=De.String,Wg=0,Ug={},Hg="onreadystatechange";ie((function(){Og=De.location}));var Vg=function(e){if(Bt(Ug,e)){var t=Ug[e];delete Ug[e],t()}},Gg=function(e){return function(){Vg(e)}},Kg=function(e){Vg(e.data)},qg=function(e){De.postMessage(zg(e),Og.protocol+"//"+Og.host)};Rg&&Fg||(Rg=function(e){Nc(arguments.length,1);var t=je(e)?e:_g(e),n=Tc(arguments,1);return Ug[++Wg]=function(){Wn(t,void 0,n)},kg(Wg),Wg},Fg=function(e){delete Ug[e]},Ig?kg=function(e){Lg.nextTick(Gg(e))}:Bg&&Bg.now?kg=function(e){Bg.now(Gg(e))}:$g&&!jg?(Tg=(Cg=new $g).port2,Cg.port1.onmessage=Kg,kg=Vn(Tg.postMessage,Tg)):De.addEventListener&&je(De.postMessage)&&!De.importScripts&&Og&&"file:"!==Og.protocol&&!ie(qg)?(kg=qg,De.addEventListener("message",Kg,!1)):kg=Hg in Ue("script")?function(e){wr.appendChild(Ue("script"))[Hg]=function(){wr.removeChild(this),Vg(e)}}:function(e){setTimeout(Gg(e),0)});var Yg={set:Rg,clear:Fg},Xg=function(){this.head=null,this.tail=null};Xg.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}};var Jg,Qg,Zg,ey,ty,ny=Xg,ry=/ipad|iphone|ipod/i.test(Ze)&&"undefined"!=typeof Pebble,oy=/web0s(?!.*chrome)/i.test(Ze),iy=Yg,ay=ny,cy=ry,ly=oy,uy=Un.f,sy=iy.set,fy=De.MutationObserver||De.WebKitMutationObserver,dy=De.document,vy=De.process,hy=De.Promise,py=uy(De,"queueMicrotask"),gy=py&&py.value;if(!gy){var yy=new ay,my=function(){var e,t;for(Ig&&(e=vy.domain)&&e.exit();t=yy.get();)try{t()}catch(e){throw yy.head&&Jg(),e}e&&e.enter()};jg||Ig||ly||!fy||!dy?!cy&&hy&&hy.resolve?((ey=hy.resolve(void 0)).constructor=hy,ty=Vn(ey.then,ey),Jg=function(){ty(my)}):Ig?Jg=function(){vy.nextTick(my)}:(sy=Vn(sy,De),Jg=function(){sy(my)}):(Qg=!0,Zg=dy.createTextNode(""),new fy(my).observe(Zg,{characterData:!0}),Jg=function(){Zg.data=Qg=!Qg}),gy=function(e){yy.head||Jg(),yy.add(e)}}var by,wy,xy=gy,Sy=De.Promise,Ey="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,Oy=!Ey&&!Ig&&"object"==typeof window&&"object"==typeof document,ky=Sy,Cy=Oy,Ty=ky&&ky.prototype,Ny=Gt("species"),Py=!1,My=je(De.PromiseRejectionEvent),Ay=Hn("Promise",(function(){var e=Ro(ky),t=e!==String(ky);if(!t&&66===ct)return!0;if(!Ty.catch||!Ty.finally)return!0;if(!ct||ct<51||!/native code/.test(e)){var n=new ky((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};if((n.constructor={})[Ny]=r,!(Py=n.then((function(){}))instanceof r))return!0}return!t&&(Cy||Ey)&&!My})),Dy=TypeError,jy=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw Dy("Bad Promise constructor");t=e,n=r})),this.resolve=wt(t),this.reject=wt(n)},Iy=function(e){var t=dt(e);We&&t&&!t[Pg]&&wl(t,Pg,{configurable:!0,get:function(){return this}})},Ry=function(e,t){var n,r=Qt(e).constructor;return void 0===r||me(n=Qt(r)[Dg])?t:Ag(n)},Fy=xy,Ly=function(e,t){try{1==arguments.length?console.error(e):console.error(e,t)}catch(e){}},By=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},_y={CONSTRUCTOR:Ay,REJECTION_EVENT:My,SUBCLASSING:Py},$y={f:function(e){return new jy(e)}},zy=iy.set,Wy="Promise",Uy=_y.CONSTRUCTOR,Hy=_y.REJECTION_EVENT,Vy=So.getterFor(Wy),Gy=So.set,Ky=ky&&ky.prototype,qy=ky,Yy=Ky,Xy=De.TypeError,Jy=De.document,Qy=De.process,Zy=$y.f,em=Zy,tm=!!(Jy&&Jy.createEvent&&De.dispatchEvent),nm="unhandledrejection",rm=function(e){var t;return!(!_e(e)||!je(t=e.then))&&t},om=function(e,t){var n,r,o,i=t.value,a=1==t.state,c=a?e.ok:e.fail,l=e.resolve,u=e.reject,s=e.domain;try{c?(a||(2===t.rejection&&um(t),t.rejection=1),!0===c?n=i:(s&&s.enter(),n=c(i),s&&(s.exit(),o=!0)),n===e.promise?u(Xy("Promise-chain cycle")):(r=rm(n))?xt(r,n,l,u):l(n)):u(i)}catch(e){s&&!o&&s.exit(),u(e)}},im=function(e,t){e.notified||(e.notified=!0,Fy((function(){for(var n,r=e.reactions;n=r.get();)om(n,e);e.notified=!1,t&&!e.rejection&&cm(e)})))},am=function(e,t,n){var r,o;tm?((r=Jy.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),De.dispatchEvent(r)):r={promise:t,reason:n},!Hy&&(o=De["on"+e])?o(r):e===nm&&Ly("Unhandled promise rejection",n)},cm=function(e){xt(zy,De,(function(){var t,n=e.facade,r=e.value;if(lm(e)&&(t=By((function(){Ig?Qy.emit("unhandledRejection",r,n):am(nm,n,r)})),e.rejection=Ig||lm(e)?2:1,t.error))throw t.value}))},lm=function(e){return 1!==e.rejection&&!e.parent},um=function(e){xt(zy,De,(function(){var t=e.facade;Ig?Qy.emit("rejectionHandled",t):am("rejectionhandled",t,e.value)}))},sm=function(e,t,n){return function(r){e(t,r,n)}},fm=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,im(e,!0))},dm=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw Xy("Promise can't be resolved itself");var r=rm(t);r?Fy((function(){var n={done:!1};try{xt(r,t,sm(dm,n,e),sm(fm,n,e))}catch(t){fm(n,t,e)}})):(e.value=t,e.state=1,im(e,!1))}catch(t){fm({done:!1},t,e)}}};Uy&&(Yy=(qy=function(e){sh(this,Yy),wt(e),xt(by,this);var t=Vy(this);try{e(sm(dm,t),sm(fm,t))}catch(e){fm(t,e)}}).prototype,(by=function(e){Gy(this,{type:Wy,done:!1,notified:!1,parent:!1,reactions:new ay,rejection:!1,state:0,value:void 0})}).prototype=_r(Yy,"then",(function(e,t){var n=Vy(this),r=Zy(Ry(this,qy));return n.parent=!0,r.ok=!je(e)||e,r.fail=je(t)&&t,r.domain=Ig?Qy.domain:void 0,0==n.state?n.reactions.add(r):Fy((function(){om(r,n)})),r.promise})),wy=function(){var e=new by,t=Vy(e);this.promise=e,this.resolve=sm(dm,t),this.reject=sm(fm,t)},$y.f=Zy=function(e){return e===qy||undefined===e?new wy(e):em(e)}),uo({global:!0,constructor:!0,wrap:!0,forced:Uy},{Promise:qy}),eo(qy,Wy,!1,!0),Iy(Wy);var vm=_y.CONSTRUCTOR||!gs((function(e){ky.all(e).then(void 0,(function(){}))}));uo({target:"Promise",stat:!0,forced:vm},{all:function(e){var t=this,n=$y.f(t),r=n.resolve,o=n.reject,i=By((function(){var n=wt(t.resolve),i=[],a=0,c=1;uh(e,(function(e){var l=a++,u=!1;c++,xt(n,t,e).then((function(e){u||(u=!0,i[l]=e,--c||r(i))}),o)})),--c||r(i)}));return i.error&&o(i.value),n.promise}});var hm=_y.CONSTRUCTOR;ky&&ky.prototype;uo({target:"Promise",proto:!0,forced:hm,real:!0},{catch:function(e){return this.then(void 0,e)}}),uo({target:"Promise",stat:!0,forced:vm},{race:function(e){var t=this,n=$y.f(t),r=n.reject,o=By((function(){var o=wt(t.resolve);uh(e,(function(e){xt(o,t,e).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}}),uo({target:"Promise",stat:!0,forced:_y.CONSTRUCTOR},{reject:function(e){var t=$y.f(this);return xt(t.reject,void 0,e),t.promise}});var pm=function(e,t){if(Qt(e),_e(t)&&t.constructor===e)return t;var n=$y.f(e);return(0,n.resolve)(t),n.promise},gm=_y.CONSTRUCTOR,ym=dt("Promise"),mm=!gm;uo({target:"Promise",stat:!0,forced:Tt},{resolve:function(e){return pm(mm&&this===ym?ky:this,e)}}),uo({target:"Promise",stat:!0,forced:vm},{allSettled:function(e){var t=this,n=$y.f(t),r=n.resolve,o=n.reject,i=By((function(){var n=wt(t.resolve),o=[],i=0,a=1;uh(e,(function(e){var c=i++,l=!1;a++,xt(n,t,e).then((function(e){l||(l=!0,o[c]={status:"fulfilled",value:e},--a||r(o))}),(function(e){l||(l=!0,o[c]={status:"rejected",reason:e},--a||r(o))}))})),--a||r(o)}));return i.error&&o(i.value),n.promise}});var bm="No one promise resolved";uo({target:"Promise",stat:!0,forced:vm},{any:function(e){var t=this,n=dt("AggregateError"),r=$y.f(t),o=r.resolve,i=r.reject,a=By((function(){var r=wt(t.resolve),a=[],c=0,l=1,u=!1;uh(e,(function(e){var s=c++,f=!1;l++,xt(r,t,e).then((function(e){f||u||(u=!0,o(e))}),(function(e){f||u||(f=!0,a[s]=e,--l||i(new n(a,bm)))}))})),--l||i(new n(a,bm))}));return a.error&&i(a.value),r.promise}});var wm=ky&&ky.prototype,xm=!!ky&&ie((function(){wm.finally.call({then:function(){}},(function(){}))}));uo({target:"Promise",proto:!0,real:!0,forced:xm},{finally:function(e){var t=Ry(this,dt("Promise")),n=je(e);return this.then(n?function(n){return pm(t,e()).then((function(){return n}))}:e,n?function(n){return pm(t,e()).then((function(){throw n}))}:e)}});var Sm=Xe.Promise;function Em(e){Sm.resolve().then(e)}function Om(e){return e.replace(/\-(\w)/g,(function(e,t){return t.toUpperCase()}))}v&&(d.fn.css=v),h&&(d.fn.append=h),p&&(d.fn.addClass=p),g&&(d.fn.removeClass=g),y&&(d.fn.hasClass=y),m&&(d.fn.on=m),b&&(d.fn.focus=b),w&&(d.fn.attr=w),x&&(d.fn.removeAttr=x),S&&(d.fn.hide=S),E&&(d.fn.show=E),O&&(d.fn.offset=O),k&&(d.fn.width=k),C&&(d.fn.height=C),T&&(d.fn.parent=T),N&&(d.fn.parents=N),P&&(d.fn.is=P),M&&(d.fn.dataset=M),A&&(d.fn.val=A),D&&(d.fn.text=D),j&&(d.fn.html=j),I&&(d.fn.children=I),R&&(d.fn.remove=R),F&&(d.fn.find=F),L&&(d.fn.each=L),B&&(d.fn.empty=B),wp.Node,wp.Comment,wp.Element,wp.Text,wp.Range,wp.Selection,wp.StaticRange;var km,Cm=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||null},Tm=function(e){return Nm(e)&&1===e.nodeType},Nm=function(e){var t=Cm(e);return!!t&&e instanceof t.Node},Pm=function(e){var t=e&&e.anchorNode&&Cm(e.anchorNode);return!!t&&e instanceof t.Selection},Mm=function(e){return Nm(e)&&3===e.nodeType},Am=function(e){var t,n;return null!==(t=window.document.getElementById(e))&&void 0!==t?t:(null===(n=window.document.activeElement)||void 0===n||null===(n=n.shadowRoot)||void 0===n?void 0:n.getElementById(e))||null},Dm=function(e,t,n){for(var r,o=e.childNodes,i=o[t],a=t,c=!1,l=!1;(Nm(r=i)&&8===r.nodeType||Tm(i)&&0===i.childNodes.length||Tm(i)&&"false"===i.getAttribute("contenteditable"))&&(!c||!l);)a>=o.length?(c=!0,a=t-1,n="backward"):a<0?(l=!0,a=t+1,n="forward"):(i=o[a],t=a,a+="forward"===n?1:-1);return[i,t]},jm=function(e,t,n){var r=Dm(e,t,n);return Ls(r,1)[0]},Im=function e(t){var n="";if(Mm(t)&&t.nodeValue)return t.nodeValue;if(Tm(t)){for(var r=0,o=iv(t.childNodes);r<o.length;r++){n+=e(o[r])}var i=getComputedStyle(t).getPropertyValue("display");"block"!==i&&"list"!==i&&"table-row"!==i&&"BR"!==t.tagName||(n+="\n")}return n};function Rm(e,t){if(!(e instanceof HTMLElement&&"true"===e.dataset.slateVoid))for(var n=e.childNodes,r=n.length;r--;){var o=n[r],i=o.nodeType;3==i?t(o,e):1!=i&&9!=i&&11!=i||Rm(o,t)}}function Fm(e){if(0===e.length)return"";var t=e[0];return t.nodeType!==km.ELEMENT_NODE?"":t.tagName.toLowerCase()}function Lm(e){var t={};try{if(e)for(var n=(e.attr("style")||"").split(";"),r=n.length,o=0;o<r;o++){var i=n[o]||"",a=Tp(i).call(i,":");if(-1!==a){var c,l,u=Dp(c=Jc(i).call(i,0,a)).call(c),s=Dp(l=Jc(i).call(i,a+1)).call(l);t[Om(u)]=s}}}catch(e){}return t}!function(e){e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",e[e.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE",e[e.DOCUMENT_NODE=9]="DOCUMENT_NODE",e[e.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",e[e.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE"}(km||(km={})),void 0!==wp.navigator&&void 0!==wp.window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&wp.window.MSStream;var Bm="undefined"!=typeof navigator&&/Mac OS X/.test(navigator.userAgent),_m="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);"undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent);var $m="undefined"!=typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),zm="undefined"!=typeof navigator&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),Wm="undefined"!=typeof navigator&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),Um="undefined"!=typeof navigator&&/Chrome/i.test(navigator.userAgent);"undefined"!=typeof navigator&&/.*QQBrowser/.test(navigator.userAgent);var Hm=!Wm&&!zm&&void 0!==wp&&wp.InputEvent&&"function"==typeof wp.InputEvent.prototype.getTargetRanges;function Vm(e,t){var n=void 0!==bu&&Au(e)||e["@@iterator"];if(!n){if(ju(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return Gm(e,t);var r=Jc(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return iv(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gm(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Gm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Km={getWindow:function(e){var t=pp.get(e);if(!t)throw new Error("Unable to find a host window element for this editor");return t},findKey:function(e,t){var n=hp.get(t);return n||(n=new Jv,hp.set(t,n)),n},setNewKey:function(e){var t=new Jv;hp.set(e,t)},findPath:function(t,n){for(var r=[],o=n;;){var i=up.get(o);if(null==i){if(e.isEditor(o))return r;break}var a=lp.get(o);if(null==a)break;r.unshift(a),o=i}throw new Error("Unable to find the path for Slate node: ".concat(Wd(n)))},findDocumentOrShadowRoot:function(e){if(e.isDestroyed)return window.document;var t=Km.toDOMNode(e,e),n=t.getRootNode();return(n instanceof Document||n instanceof ShadowRoot)&&null!=n.getSelection?n:t.ownerDocument},getParentNode:function(e,t){return up.get(t)||null},getParentsNodes:function(e,t){for(var n=[],r=t;r!==e&&null!=r;){var o=Km.getParentNode(e,r);if(null==o)break;n.push(o),r=o}return n},getTopNode:function(e,n){var r=[Km.findPath(e,n)[0]];return t.get(e,r)},toDOMNode:function(t,n){var r;if(e.isEditor(n))r=sp.get(t);else{var o=Km.findKey(t,n);r=dp.get(o)}if(!r)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(Wd(n)));return r},hasDOMNode:function(e,t){var n,r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).editable,o=void 0!==r&&r,i=Km.toDOMNode(e,e);try{n=Tm(t)?t:t.parentElement}catch(e){var a;if(!ov(a=e.message).call(a,'Permission denied to access property "nodeType"'))throw e}return!!n&&(n.closest("[data-slate-editor]")===i&&(!o||n.isContentEditable||!!n.getAttribute("data-slate-zero-width")))},toDOMRange:function(e,t){var r=t.anchor,o=t.focus,i=n.isBackward(t),a=Km.toDOMPoint(e,r),c=n.isCollapsed(t)?a:Km.toDOMPoint(e,o),l=Km.getWindow(e).document.createRange(),u=Ls(i?c:a,2),s=u[0],f=u[1],d=Ls(i?a:c,2),v=d[0],h=d[1],p=!!(Tm(s)?s:s.parentElement).getAttribute("data-slate-zero-width"),g=!!(Tm(v)?v:v.parentElement).getAttribute("data-slate-zero-width");return l.setStart(s,p?1:f),l.setEnd(v,g?1:h),l},toDOMPoint:function(t,n){var r,o=e.node(t,n.path),i=Ls(o,1)[0],a=Km.toDOMNode(t,i);e.void(t,{at:n})&&(n={path:n.path,offset:0});var c,l=0,u=Vm(iv(a.querySelectorAll("[data-slate-string], [data-slate-zero-width]")));try{for(u.s();!(c=u.n()).done;){var s=c.value,f=s.childNodes[0];if(null!=f&&null!=f.textContent){var d=f.textContent.length,v=s.getAttribute("data-slate-length"),h=l+(null==v?d:bv(v,10));if(n.offset<=h){r=[f,Math.min(d,Math.max(0,n.offset-l))];break}l=h}}}catch(e){u.e(e)}finally{u.f()}if(!r)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(Wd(n)));return r},toSlateNode:function(e,t){var n=Tm(t)?t:t.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n?fp.get(n):null;if(!r)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(n));return r},findEventRange:function(t,n){"nativeEvent"in n&&(n=n.nativeEvent);var o=n,i=o.clientX,a=o.clientY,c=o.target;if(null==i||null==a)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(n));var l,u=Km.toSlateNode(t,n.target),s=Km.findPath(t,u);if(r.isElement(u)&&e.isVoid(t,u)){var f=c.getBoundingClientRect(),d=t.isInline(u)?i-f.left<f.left+f.width-i:a-f.top<f.top+f.height-a,v=e.point(t,s,{edge:d?"start":"end"}),h=d?e.before(t,v):e.after(t,v);if(h)return e.range(t,h)}var p=this.getWindow(t).document;if(p.caretRangeFromPoint)l=p.caretRangeFromPoint(i,a);else{var g=p.caretPositionFromPoint(i,a);g&&((l=p.createRange()).setStart(g.offsetNode,g.offset),l.setEnd(g.offsetNode,g.offset))}if(!l)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(n));return Km.toSlateRange(t,l,{exactMatch:!1,suppressThrow:!1})},toSlateRange:function(t,r,o){var i,a,c,l,u,s=o.exactMatch,f=o.suppressThrow;if((Pm(r)?r.anchorNode:r.startContainer)&&(Pm(r)?(i=r.anchorNode,a=r.anchorOffset,c=r.focusNode,l=r.focusOffset,u=Um&&window.document.activeElement&&window.document.activeElement.shadowRoot?r.anchorNode===r.focusNode&&r.anchorOffset===r.focusOffset:r.isCollapsed):(i=r.startContainer,a=r.startOffset,c=r.endContainer,l=r.endOffset,u=r.collapsed)),null==i||null==c||null==a||null==l)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(r));var d=Km.toSlatePoint(t,[i,a],{exactMatch:s,suppressThrow:f});if(!d)return null;var v=u?d:Km.toSlatePoint(t,[c,l],{exactMatch:s,suppressThrow:f});if(!v)return null;var h={anchor:d,focus:v};return n.isExpanded(h)&&n.isForward(h)&&Tm(c)&&e.void(t,{at:h.focus,mode:"highest"})&&(h=e.unhangRange(t,h,{voids:!0})),h},toSlatePoint:function(e,t,n){var r=n.exactMatch,o=n.suppressThrow,i=r?t:function(e){var t=Ls(e,2),n=t[0],r=t[1];if(Tm(n)&&n.childNodes.length){var o=r===n.childNodes.length,i=o?r-1:r,a=Dm(n,i,o?"backward":"forward"),c=Ls(a,2);for(n=c[0],o=(i=c[1])<r;Tm(n)&&n.childNodes.length;){var l=o?n.childNodes.length-1:0;n=jm(n,l,o?"backward":"forward")}r=o&&null!=n.textContent?n.textContent.length:0}return[n,r]}(t),a=Ls(i,2),c=a[0],l=a[1],u=c.parentNode,f=null,d=0;if(u){var v,h=u.closest('[data-slate-void="true"]'),p=u.closest("[data-slate-leaf]"),g=null;if(p){var y;f=p.closest('[data-slate-node="text"]');var m=Km.getWindow(e).document.createRange();m.setStart(f,0),m.setEnd(c,l);var b=m.cloneContents(),w=Sv(y=[]).call(y,ks(s(b.querySelectorAll("[data-slate-zero-width]"))),ks(s(b.querySelectorAll("[contenteditable=false]"))));ci(w).call(w,(function(e){e.parentNode.removeChild(e)})),d=b.textContent.length,g=f}else if(h){var x;if(p=h.querySelector("[data-slate-leaf]"))f=p.closest('[data-slate-node="text"]'),d=(g=p).textContent.length,ci(x=g.querySelectorAll("[data-slate-zero-width]")).call(x,(function(e){d-=e.textContent.length}));else d=1}g&&d===g.textContent.length&&(u.hasAttribute("data-slate-zero-width")||_m&&null!==(v=g.textContent)&&void 0!==v&&Pv(v).call(v,"\n"))&&d--}if(!f){if(o)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var S=Km.toSlateNode(e,f);return{path:Km.findPath(e,S),offset:d}},hasRange:function(t,n){var r=n.anchor,o=n.focus;return e.hasPath(t,r.path)&&e.hasPath(t,o.path)},getNodeType:function(e){return r.isElement(e)?e.type:""},checkNodeType:function(e,t){return this.getNodeType(e)===t},getNodesStr:function(e){return Iv(e).call(e,(function(e){return t.string(e)})).join("")},getSelectedElems:function(t){var n,o=[],i=Vm(e.nodes(t,{universal:!0}));try{for(i.s();!(n=i.n()).done;){var a=n.value,c=Ls(a,1)[0];r.isElement(c)&&o.push(c)}}catch(e){i.e(e)}finally{i.f()}return o},getSelectedNodeByType:function(t,n){var r=this,o=e.nodes(t,{match:function(e){return r.checkNodeType(e,n)},universal:!0}),i=Ls(o,1)[0];return null==i?null:i[0]},getSelectedTextNode:function(t){var n=e.nodes(t,{match:function(e){return o.isText(e)},universal:!0}),r=Ls(n,1)[0];return null==r?null:r[0]},isNodeSelected:function(t,n){var r=e.nodes(t,{match:function(e){return e===n},universal:!0}),o=Ls(r,1)[0];return null!=o&&Ls(o,1)[0]===n},isSelectionAtLineEnd:function(t,n){var r=t.selection;return!!r&&(e.isEnd(t,r.anchor,n)||e.isEnd(t,r.focus,n))},getTextarea:function(e){var t=Yh.get(e);if(null==t)throw new Error("Cannot find textarea instance by editor");return t},getToolbar:function(e){return Qh.get(e)||null},getHoverbar:function(e){return ep.get(e)||null},normalizeContent:function(e){var t;ci(t=e.children).call(t,(function(t,n){e.normalizeNode([t,[n]])}))},getLeftLengthOfMaxLength:function(e){var t=e.getConfig(),n=t.maxLength,r=t.onMaxLength;if("number"!=typeof n||n<=0)return 1/0;var o=n-e.getText().replace(/\r|\n|(\r\n)/g,"").length;return o<=0&&r&&r(e),o},cleanExposedTexNodeInSelectionBlock:function(t){var n=Km.getTextarea(t).$textArea,o=null==n?void 0:n[0].childNodes;if(o)for(var i=0,a=iv(o);i<a.length;i++){var c=a[i];if(3!==c.nodeType)break;c.remove()}var l,u=e.nodes(t,{match:function(e){return!(!r.isElement(e)||t.isInline(e))},universal:!0}),s=Vm(u);try{for(s.s();!(l=s.n()).done;){var f=l.value;if(null!=f){var v=f[0];Rm(Km.toDOMNode(t,v),(function(e,t){var n=d(t);n.attr("data-slate-string")||n.attr("data-slate-zero-width")||t.removeChild(e)}))}}}catch(e){s.e(e)}finally{s.f()}},isLastNode:function(e,t){var n=e.children||[];return n[n.length-1]===t},genEmptyParagraph:function(e){var t=e.getConfig().MENU_CONF,n=t.lineHeight.lineHeight;return{type:"paragraph",children:[{text:""}],style:{margin:"0 0 8px 0",fontSize:t.fontSize.fontSize||"16px",fontWeight:"normal",lineHeight:n||1.75,color:t.color.color}}},isSelectedVoidNode:function(t){var n,r=e.nodes(t,{match:function(e){return t.isVoid(e)}}),o=0,i=Vm(r);try{for(i.s();!(n=i.n()).done;){n.value;o++}}catch(e){i.e(e)}finally{i.f()}return o>0},isSelectedEmptyParagraph:function(e){var t=e.selection;if(null==t)return!1;if(n.isExpanded(t))return!1;var r=Km.getSelectedNodeByType(e,"paragraph");if(null===r)return!1;var o=r.children;return 1===o.length&&(""===o[0].text||void 0)},isEmptyPath:function(t,n){var r=e.node(t,n);if(null==r)return!1;var o=Ls(r,1)[0].children;if(1===o.length&&""===o[0].text)return!0;return!1}},qm=1,Ym=Xe.Object.getOwnPropertySymbols,Xm=Zo.filter,Jm=Uc("filter");uo({target:"Array",proto:!0,forced:!Jm},{filter:function(e){return Xm(this,e,arguments.length>1?arguments[1]:void 0)}});var Qm=ri("Array").filter,Zm=Array.prototype,eb=function(e){var t=e.filter;return e===Zm||vt(Zm,e)&&t===Zm.filter?Qm:t},tb=Un.f,nb=!We||ie((function(){tb(1)}));uo({target:"Object",stat:!0,forced:nb,sham:!We},{getOwnPropertyDescriptor:function(e,t){return tb(Mn(e),t)}});var rb=Oe((function(e){var t=Xe.Object,n=e.exports=function(e,n){return t.getOwnPropertyDescriptor(e,n)};t.getOwnPropertyDescriptor.sham&&(n.sham=!0)})),ob=rb;uo({target:"Object",stat:!0,sham:!We},{getOwnPropertyDescriptors:function(e){for(var t,n,r=Mn(e),o=Un.f,i=ig(r),a={},c=0;i.length>c;)void 0!==(n=o(r,t=i[c++]))&&Wc(a,t,n);return a}});var ib=Xe.Object.getOwnPropertyDescriptors,ab=br.f;uo({target:"Object",stat:!0,forced:Object.defineProperties!==ab,sham:!We},{defineProperties:ab});var cb=Oe((function(e){var t=Xe.Object,n=e.exports=function(e,n){return t.defineProperties(e,n)};t.defineProperties.sham&&(n.sham=!0)})),lb=cb,ub=Lv,sb=Ee(Oe((function(e){e.exports=function(e,t,n){return(t=Hv(t))in e?Vv(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports}))),fb={};function db(e,t){var n=fi(e);if(Ym){var r=Ym(e);t&&(r=eb(r).call(r,(function(t){return ob(e,t).enumerable}))),n.push.apply(n,r)}return n}function vb(e){for(var t=1;t<arguments.length;t++){var n,r,o=null!=arguments[t]?arguments[t]:{};t%2?ci(n=db(Object(o),!0)).call(n,(function(t){sb(e,t,o[t])})):ib?lb(e,ib(o)):ci(r=db(Object(o))).call(r,(function(t){ub(e,t,ob(o,t))}))}return e}var hb={};function pb(e,t){var n=e.key,r=e.factory,o=vb(vb({},e.config),t||{});if(null!=hb[n])throw new Error("Duplicated key '".concat(n,"' in menu items"));hb[n]=r,function(e,t){null!=t&&(fb[e]=t)}(n,o)}var gb,yb=String,mb=TypeError,bb=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=function(e,t,n){try{return Oi(xa(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}}(Object.prototype,"__proto__","set"),e(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return fa(n),function(e){if("object"==typeof e||ea(e))return e;throw mb("Can't set "+yb(e)+" as a prototype")}(r),t?e(n,r):n.__proto__=r,n}}():void 0),wb=qi("match"),xb=function(e){var t;return ra(e)&&(void 0!==(t=e[wb])?!!t:"RegExp"==cc(e))},Sb=Ia.f,Eb=function(e,t,n){n in e||Sb(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})},Ob=qi("species"),kb=ff.f,Cb=nc.enforce,Tb=qi("match"),Nb=vi.RegExp,Pb=Nb.prototype,Mb=vi.SyntaxError,Ab=Oi(Pb.exec),Db=Oi("".charAt),jb=Oi("".replace),Ib=Oi("".indexOf),Rb=Oi("".slice),Fb=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Lb=/a/g,Bb=/a/g,_b=new Nb(Lb)!==Lb,$b=Rf.MISSED_STICKY,zb=Rf.UNSUPPORTED_Y,Wb=ta&&(!_b||$b||Yf||Jf||bi((function(){return Bb[Tb]=!1,Nb(Lb)!=Lb||Nb(Bb)==Bb||"/a/i"!=Nb(Lb,"i")})));if(Sf("RegExp",Wb)){for(var Ub=function(e,t){var n,r,o,i,a,c,l,u,s,f,d,v=pa(Pb,this),h=xb(e),p=void 0===t,g=[],y=e;if(!v&&h&&p&&e.constructor===Ub)return e;if((h||pa(Pb,e))&&(e=e.source,p&&(t=yc(y))),e=void 0===e?"":hc(e),t=void 0===t?"":hc(t),y=e,Yf&&"dotAll"in Lb&&(r=!!t&&Ib(t,"s")>-1)&&(t=jb(t,/s/g,"")),n=t,$b&&"sticky"in Lb&&(o=!!t&&Ib(t,"y")>-1)&&zb&&(t=jb(t,/y/g,"")),Jf&&(i=function(e){for(var t,n=e.length,r=0,o="",i=[],a={},c=!1,l=!1,u=0,s="";r<=n;r++){if("\\"===(t=Db(e,r)))t+=Db(e,++r);else if("]"===t)c=!1;else if(!c)switch(!0){case"["===t:c=!0;break;case"("===t:Ab(Fb,Rb(e,r+1))&&(r+=2,l=!0),o+=t,u++;continue;case">"===t&&l:if(""===s||Ai(a,s))throw new Mb("Invalid capture group name");a[s]=!0,i[i.length]=[s,u],l=!1,s="";continue}l?s+=t:o+=t}return[o,i]}(e),e=i[0],g=i[1]),l=Nb(e,t),u=v?this:Pb,s=Ub,bb&&ea(f=u.constructor)&&f!==s&&ra(d=f.prototype)&&d!==s.prototype&&bb(l,d),a=l,(r||o||g.length)&&(c=Cb(a),r&&(c.dotAll=!0,c.raw=Ub(function(e){for(var t,n=e.length,r=0,o="",i=!1;r<=n;r++)"\\"!==(t=Db(e,r))?i||"."!==t?("["===t?i=!0:"]"===t&&(i=!1),o+=t):o+="[\\s\\S]":o+=t+Db(e,++r);return o}(e),n)),o&&(c.sticky=!0),g.length&&(c.groups=g)),e!==y)try{Ka(a,"source",""===y?"(?:)":y)}catch(e){}return a},Hb=kb(Nb),Vb=0;Hb.length>Vb;)Eb(Ub,Nb,Hb[Vb++]);Pb.constructor=Ub,Ub.prototype=Pb,oc(vi,"RegExp",Ub,{constructor:!0})}gb=ha("RegExp"),ta&&gb&&!gb[Ob]&&Rc(gb,Ob,{configurable:!0,get:function(){return this}});var Gb=bi((function(){Ff(1)}));Of({target:"Object",stat:!0,forced:Gb},{keys:function(e){return Ff(Pi(e))}});var Kb=lh.fastKey,qb=So.set,Yb=So.getterFor,Xb={getConstructor:function(e,t,n,r){var o=e((function(e,o){sh(e,i),qb(e,{type:t,index:Lr(null),first:void 0,last:void 0,size:0}),We||(e.size=0),me(o)||uh(o,e[r],{that:e,AS_ENTRIES:n})})),i=o.prototype,a=Yb(t),c=function(e,t,n){var r,o,i=a(e),c=l(e,t);return c?c.value=n:(i.last=c={index:o=Kb(t,!0),key:t,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=c),r&&(r.next=c),We?i.size++:e.size++,"F"!==o&&(i.index[o]=c)),e},l=function(e,t){var n,r=a(e),o=Kb(t);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==t)return n};return ph(i,{clear:function(){for(var e=a(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,We?e.size=0:this.size=0},delete:function(e){var t=this,n=a(t),r=l(t,e);if(r){var o=r.next,i=r.previous;delete n.index[r.index],r.removed=!0,i&&(i.next=o),o&&(o.previous=i),n.first==r&&(n.first=o),n.last==r&&(n.last=i),We?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=a(this),r=Vn(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!l(this,e)}}),ph(i,n?{get:function(e){var t=l(this,e);return t&&t.value},set:function(e,t){return c(this,0===e?0:e,t)}}:{add:function(e){return c(this,e=0===e?0:e,e)}}),We&&wl(i,"size",{configurable:!0,get:function(){return a(this).size}}),o},setStrong:function(e,t,n){var r=t+" Iterator",o=Yb(t),i=Yb(r);Eo(e,t,(function(e,t){qb(this,{type:r,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?Oo("keys"==t?n.key:"values"==t?n.value:[n.key,n.value],!1):(e.target=void 0,Oo(void 0,!0))}),n?"entries":"values",!n,!0),Iy(t)}};Nh("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),Xb);var Jb=Xe.Set,Qb=[];function Zb(e){Qb.push(e)}var ew={};function tw(e){var t=e.type,n=e.elemToHtml;ew[t||""]=n}function nw(e,t,n){var r,o,i=n.isInline(e)?"span":"div";return Sv(r=Sv(o="<".concat(i,">")).call(o,t,"</")).call(r,i,">")}function rw(t,n){var r=t.type,o=void 0===r?"":r,i=t.children,a=void 0===i?[]:i,c=e.isVoid(n,t),l="";c||(l=Iv(a).call(a,(function(e){return uw(e,n)})).join(""));var u=function(e){return ew[e]||nw}(o),s=u(t,l,n);return c||ci(Qb).call(Qb,(function(e){return s=e(t,s)})),s}var ow=Zo.some,iw=ei("some");uo({target:"Array",proto:!0,forced:!iw},{some:function(e){return ow(this,e,arguments.length>1?arguments[1]:void 0)}});var aw=ri("Array").some,cw=Array.prototype,lw=function(e){var t=e.some;return e===cw||vt(cw,e)&&t===cw.some?aw:t};function uw(e,t){return r.isElement(e)?rw(e,t):function(e,t){var n=e.text;if(null==n)throw new Error("Current node is not slate Text ".concat(Wd(e)));var r=n;r=function(e){return e.replace(/ {2}/g," &nbsp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/Â®/g,"&reg;").replace(/Â©/g,"&copy;").replace(/â¢/g,"&trade;")}(r);var o=Km.getParentsNodes(t,e),i=lw(o).call(o,(function(e){return"pre"===Km.getNodeType(e)}));if(i||(r=r.replace(/\r\n|\r|\n/g,"<br>")),i&&(r=r.replace(/&nbsp;/g," ")),""===r){var a=Km.getParentNode(null,e);if(!a||0!==a.children.length)return r;r="<br>"}return ci(Qb).call(Qb,(function(t){return r=t(e,r)})),r}(e,t)}function sw(e){return"k-e-element-".concat(e)}var fw=function(e,t){var n=(t.top+t.bottom)/2;return e.top<=n&&e.bottom>=n},dw=function(e,t,n){var r=Km.toDOMRange(e,t).getBoundingClientRect(),o=Km.toDOMRange(e,n).getBoundingClientRect();return fw(r,o)&&fw(o,r)},vw=["span","b","strong","i","em","s","strike","u","font","sub","sup"],hw=[];function pw(e){hw.push(e)}var gw=[];function yw(e){gw.push(e)}var mw={};function bw(e){var t=e.selector,n=e.parseElemHtml;mw[t]=n}var ww=["flex","inline-flex","grid","inline-grid"],xw=TypeError,Sw=function(e,t){if(!delete e[t])throw xw("Cannot delete property "+mt(t)+" of "+mt(e))},Ew=Uc("splice"),Ow=Math.max,kw=Math.min;uo({target:"Array",proto:!0,forced:!Ew},{splice:function(e,t){var n,r,o,i,a,c,l=At(this),u=lr(l),s=cr(e,u),f=arguments.length;for(0===f?n=r=0:1===f?(n=0,r=u-s):(n=f-2,r=kw(Ow(nr(t),0),u-s)),Zc(u+n-r),o=Xo(l,r),i=0;i<r;i++)(a=s+i)in l&&Wc(o,i,l[a]);if(o.length=r,n<r){for(i=s;i<u-r;i++)c=i+n,(a=i+r)in l?l[c]=l[a]:Sw(l,c);for(i=u;i>u-r+n;i--)Sw(l,i-1)}else if(n>r)for(i=u-r;i>s;i--)c=i+n-1,(a=i+r-1)in l?l[c]=l[a]:Sw(l,c);for(i=0;i<n;i++)l[i+s]=arguments[i+2];return Ps(l,u-r+n),o}});var Cw=ri("Array").splice,Tw=Array.prototype,Nw=function(e){var t=e.splice;return e===Tw||vt(Tw,e)&&t===Tw.splice?Cw:t};function Pw(e,t){var n=void 0!==bu&&Au(e)||e["@@iterator"];if(!n){if(ju(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return Mw(e,t);var r=Jc(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return iv(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mw(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Mw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Aw=new RegExp(String.fromCharCode(160),"g");function Dw(e){return e.replace(Aw," ")}function jw(e,t){var n=e.length;if(n){var r=e[n-1];if(o.isText(r)){var i=fi(r);if(1===i.length&&"text"===i[0])return r.text=r.text+t,!0}}return!1}function Iw(e){if(ju(e)){var t,n=Pw(e);try{for(n.s();!(t=n.n()).done;){if(Iw(t.value))return!0}}catch(e){n.e(e)}finally{n.f()}}else if("object"===zv(e)){var r=e.hasOwnProperty("type")&&""!==e.type,o=e.hasOwnProperty("text")&&(""!==e.text||"\n"!==e.text),i=e.style||{},a=i.hasOwnProperty("width")&&i.hasOwnProperty("height");if(r||o||a)return!0;if(ju(e.children)&&Iw(e.children))return!0}return!1}function Rw(e,t){var n=fi(e);if(Ym){var r=Ym(e);t&&(r=eb(r).call(r,(function(t){return ob(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fw(e){for(var t=1;t<arguments.length;t++){var n,r,o=null!=arguments[t]?arguments[t]:{};t%2?ci(n=Rw(Object(o),!0)).call(n,(function(t){sb(e,t,o[t])})):ib?lb(e,ib(o)):ci(r=Rw(Object(o))).call(r,(function(t){ub(e,t,ob(o,t))}))}return e}function Lw(e,t){var n=[];if(null!=e.attr("data-k-e-is-void"))return n;var r=e[0].childNodes;return 1===r.length&&"BR"===r[0].nodeName?(n.push({text:""}),n):(ci(r).call(r,(function(e){if(e.nodeType!==km.ELEMENT_NODE)if(e.nodeType!==km.TEXT_NODE);else{var r=e.textContent||"";if(""===Dp(r).call(r)&&Tp(r).call(r,"\n")>=0)return;r&&(r=Dw(r),jw(n,r)||n.push({text:r}))}else{if("BR"===e.nodeName)return void(jw(n,"\n")||n.push({text:"\n"}));var i=Uw(d(e),t),a=i.textChildren||[];if(a.length&&o.isText(i)){var c=Iw(a);a=Iv(a).call(a,(function(e){return Fw(Fw({},e),{},{isEmptyText:c})})),n.push.apply(n,ks(a))}else n.push(i)}})),n)}function Bw(e,t,n){return{type:"paragraph",children:[{text:d(e).text().replace(/\s+/gm," ")}]}}function _w(t,n){var r=Lw(t,n),o=function(e){for(var t in mw)if(e[0].matches(t))return mw[t];return Bw}(t),i=o(t[0],r,n);return e.isVoid(n,i)||(0===r.length&&(i.children=[{text:t.text().replace(/\s+/gm," ")}]),ci(gw).call(gw,(function(e){i=e(t[0],i,n)}))),i}function $w(e,t){var n=fi(e);if(Ym){var r=Ym(e);t&&(r=eb(r).call(r,(function(t){return ob(e,t).enumerable}))),n.push.apply(n,r)}return n}function zw(e){for(var t=1;t<arguments.length;t++){var n,r,o=null!=arguments[t]?arguments[t]:{};t%2?ci(n=$w(Object(o),!0)).call(n,(function(t){sb(e,t,o[t])})):ib?lb(e,ib(o)):ci(r=$w(Object(o))).call(r,(function(t){ub(e,t,ob(o,t))}))}return e}function Ww(e,t){var n=e[0].textContent||"";n=function(e){return e.replace(/&nbsp;/g," ").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&reg;/g,"Â®").replace(/&copy;/g,"Â©").replace(/&trade;/g,"â¢")}(n);var r={text:n=Dw(n)};if(ci(gw).call(gw,(function(n){r=n(e[0],r,t)})),o.isText(r)){var i=function(e,t,n){var r=[];if(0===t[0].childNodes.length)return r;if(null!=t.attr("data-k-e-is-void"))return r;var i=t[0].childNodes;if(1===i.length&&"BR"===i[0].nodeName)return r.push({text:"\n"}),r;var a=n.style,c=a?zw({},a):void 0;return ci(i).call(i,(function(t){if(t.nodeType!==km.ELEMENT_NODE)if(t.nodeType!==km.TEXT_NODE);else{var n=t.textContent||"";if(""===Dp(n).call(n)&&Tp(n).call(n,"\n")>=0)return;if(n&&(n=Dw(n),!jw(r,n))){var i,a,l={text:n,style:c};"STRONG"===(null===(i=t.parentNode)||void 0===i?void 0:i.nodeName)&&(l.bold=!0),"EM"===(null===(a=t.parentNode)||void 0===a?void 0:a.nodeName)&&(l.italic=!0),r.push(l)}}else{if("BR"===t.nodeName)return void(jw(r,"\n")||r.push({text:"\n",style:c}));var u=Uw(d(t),e),s=u.textChildren||[];if(s.length&&o.isText(u)){var f=Iv(s).call(s,(function(e){var n,r;return c&&(e.style=zw(zw({},c),e.style||{})),"STRONG"===(null===(n=t.parentNode)||void 0===n?void 0:n.nodeName)&&(e.bold=!0),"EM"===(null===(r=t.parentNode)||void 0===r?void 0:r.nodeName)&&(e.italic=!0),e}));r.push.apply(r,ks(f))}else{var v,h;c&&(u.style=zw(zw({},c),u.style||{})),"STRONG"===(null===(v=t.parentNode)||void 0===v?void 0:v.nodeName)&&(u.bold=!0),"EM"===(null===(h=t.parentNode)||void 0===h?void 0:h.nodeName)&&(u.italic=!0),r.push(u)}}})),r}(t,e,r);i.length&&(r.textChildren=i)}return r}function Uw(e,t){ci(hw).call(hw,(function(t){var n=t.selector,r=t.preParseHtml;e[0].matches(n)&&(e=d(r(e[0])))}));var n=Fm(e),r=e.parent();if("span"===n){Lm(e).display;var o=Lm(r).display;return ov(ww).call(ww,o)?(e.attr("data-k-e-type","block"),_w(e,t)):e.attr("data-k-e-type")?_w(e,t):Ww(e,t)}return"code"===n?"pre"===Fm(r)?_w(e,t):Ww(e,t):ov(vw).call(vw,n)?Ww(e,t):_w(e,t)}Of({target:"String",proto:!0,forced:Nf("bold")},{bold:function(){return Tf(this,"b","","")}}),Of({target:"String",proto:!0,forced:Nf("italics")},{italics:function(){return Tf(this,"i","","")}});var Hw=TypeError,Vw=qi("species"),Gw=function(e,t){var n,r=fa(e).constructor;return void 0===r||ki(n=fa(r)[Vw])?t:function(e){if(Up(e))return e;throw Hw(ba(e)+" is not a constructor")}(n)},Kw=Array,qw=Math.max,Yw=function(e,t,n){for(var r,o,i,a,c=rf(e),l=ef(t,c),u=ef(void 0===n?c:n,c),s=Kw(qw(u-l,0)),f=0;l<u;l++,f++)r=s,o=f,i=e[l],a=void 0,(a=Ta(o))in r?Ia.f(r,a,Ga(0,i)):r[a]=i;return s.length=f,s},Xw=Rf.UNSUPPORTED_Y,Jw=4294967295,Qw=Math.min,Zw=[].push,ex=Oi(/./.exec),tx=Oi(Zw),nx=Oi("".slice);yd("split",(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=hc(Ti(this)),o=void 0===n?Jw:n>>>0;if(0===o)return[];if(void 0===e)return[r];if(!xb(e))return va(t,r,e,o);for(var i,a,c,l=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),s=0,f=new RegExp(e.source,u+"g");(i=va(ud,f,r))&&!((a=f.lastIndex)>s&&(tx(l,nx(r,s,i.index)),i.length>1&&i.index<r.length&&vd(Zw,l,Yw(i,1)),c=i[0].length,s=a,l.length>=o));)f.lastIndex===i.index&&f.lastIndex++;return s===r.length?!c&&ex(f,"")||tx(l,""):tx(l,nx(r,s)),l.length>o?Yw(l,0,o):l}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:va(t,this,e,n)}:t,[function(t,n){var o=Ti(this),i=ki(t)?void 0:Sa(t,e);return i?va(i,t,o,n):va(r,hc(o),t,n)},function(e,o){var i=fa(this),a=hc(e),c=n(r,i,a,o,r!==t);if(c.done)return c.value;var l=Gw(i,RegExp),u=i.unicode,s=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(Xw?"g":"y"),f=new l(Xw?"^(?:"+i.source+")":i,s),d=void 0===o?Jw:o>>>0;if(0===d)return[];if(0===a.length)return null===Dd(f,a)?[a]:[];for(var v=0,h=0,p=[];h<a.length;){f.lastIndex=Xw?0:h;var g,y=Dd(f,Xw?nx(a,h):a);if(null===y||(g=Qw(nf(f.lastIndex+(Xw?h:0)),a.length))===v)h=Ed(a,h,u);else{if(tx(p,nx(a,v,h)),p.length===d)return p;for(var m=1;m<=y.length-1;m++)if(tx(p,y[m]),p.length===d)return p;h=v=g}}return tx(p,nx(a,v)),p}]}),!!bi((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),Xw);var rx=["address","article","aside","blockquote","details","dialog","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","li","main","nav","ol","p","pre","section","table","ul"];function ox(e,t,n){var r=d(n);return!!r.attr(t)||(r.attr(t,"true"),e.on("destroyed",(function(){r.removeAttr(t)})),!1)}function ix(e,t){var n,r,o,i=t.getConfig().MENU_CONF,a=i.lineHeight.lineHeight,c=i.fontSize.fontSize,l=i.color.color;return Sv(n=Sv(r=Sv(o='<p style="margin: 0 0 8px 0;font-size: '.concat(c||"16px",";font-weight: normal;line-height: ")).call(o,a||1.75,";color: ")).call(r,l,'">')).call(n,e,"</p>")}function ax(e){var t=(new DOMParser).parseFromString(e,"text/html"),n=(t=function(e){var t=e.querySelectorAll("span");return ci(t).call(t,(function(e){var t=e.querySelectorAll("em");ci(t).call(t,(function(e){0===iv(e.childNodes).length&&(e.textContent=" ")}))})),ci(t).call(t,(function(e){var t,n,r,o=(null===(t=e.nextElementSibling)||void 0===t?void 0:t.nodeName)||"",i=(null===(n=e.previousElementSibling)||void 0===n?void 0:n.nodeName)||"";if(ov(rx).call(rx,(null===(r=e.parentNode)||void 0===r?void 0:r.nodeName.toLowerCase())||"")&&(ov(rx).call(rx,o.toLowerCase())||ov(rx).call(rx,i.toLowerCase()))){var a;if(0===e.childNodes.length)return e.remove();var c=document.createElement("p");c.appendChild(e.cloneNode(!0)),null==e||null===(a=e.parentNode)||void 0===a||a.replaceChild(c,e)}})),e}(t=function(e){var t=e.querySelectorAll("img"),n=e.querySelectorAll("span");return ci(n).call(n,(function(e){var t=e.nextSibling;t&&"BR"===t.nodeName&&t.nextSibling&&"IMG"===t.nextSibling.nodeName&&t.remove()})),ci(t).call(t,(function(e){var t,n,r,o,i=(null===(t=e.nextElementSibling)||void 0===t?void 0:t.nodeName)||"",a=(null===(n=e.previousElementSibling)||void 0===n?void 0:n.nodeName)||"";if("BR"===i&&"IMG"===a&&(null===(o=e.nextElementSibling)||void 0===o||o.remove()),ov(rx).call(rx,(null===(r=e.parentNode)||void 0===r?void 0:r.nodeName.toLowerCase())||"")&&(ov(rx).call(rx,i.toLowerCase())||ov(rx).call(rx,a.toLowerCase()))){var c;if(""===d(e).attr("src"))return e.remove();var l=document.createElement("p");l.appendChild(e.cloneNode(!0)),null==e||null===(c=e.parentNode)||void 0===c||c.replaceChild(l,e)}})),e}(t=function(e){var t=e.querySelectorAll("p"),n=e.querySelectorAll("div");return ci(t).call(t,(function(e){var t,n=e.querySelector("span"),r=iv(e.childNodes);0!==r.length?0===(null==n?void 0:n.childElementCount)&&""===(null==n||null===(t=n.textContent)||void 0===t?void 0:Dp(t).call(t))&&1===r.length&&"span"===r[0].nodeName.toLowerCase()&&e.remove():e.remove()})),ci(n).call(n,(function(e){var t,n=e.querySelector("span"),r=iv(e.childNodes);0!==r.length?0===(null==n?void 0:n.childElementCount)&&""===(null==n||null===(t=n.textContent)||void 0===t?void 0:Dp(t).call(t))&&1===r.length&&"span"===r[0].nodeName.toLowerCase()&&e.remove():e.remove()})),e}(t)))).body.innerHTML.replace(/(style="[^"]*(?:\s*!\s*important)?[^"]*")/g,(function(e,t){return t.replace(/\s*!\s*important/g,"")}));return console.log(n,"htmlDoc.body.innerHTML"),n}function cx(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";(""===r&&(r=ix("<br>",e)),0!==Tp(r).call(r,"<"))&&(r=Iv(n=r.split(/\n/)).call(n,(function(t){return ix(t,e)})).join(""));var o=ax("<div>".concat(r,"</div>")),i=d(o),a=[];return Iv(t=iv(i.children())).call(t,(function(t){var n=d(t);a.push(Uw(n,e))})),a}function lx(e,t){var n=fi(e);if(Ym){var r=Ym(e);t&&(r=eb(r).call(r,(function(t){return ob(e,t).enumerable}))),n.push.apply(n,r)}return n}function ux(e){for(var t=1;t<arguments.length;t++){var n,r,o=null!=arguments[t]?arguments[t]:{};t%2?ci(n=lx(Object(o),!0)).call(n,(function(t){sb(e,t,o[t])})):ib?lb(e,ib(o)):ci(r=lx(Object(o))).call(r,(function(t){ub(e,t,ob(o,t))}))}return e}function sx(e,t){var n=void 0!==bu&&Au(e)||e["@@iterator"];if(!n){if(ju(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return fx(e,t);var r=Jc(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return iv(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fx(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function fx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var dx=new Jb(["doctype","!doctype","meta","script","style","link","frame","iframe","title","svg"]),vx=function(c){var l=c,u=l.onChange,s=l.insertText,f=l.apply,v=l.deleteBackward;return l.insertText=function(e){l.getConfig().readOnly||s(e)},l.apply=function(t){var n=[];switch(t.type){case"insert_text":case"remove_text":case"set_node":var r,o=sx(e.levels(l,{at:t.path}));try{for(o.s();!(r=o.n()).done;){var i=Ls(r.value,2),c=i[0],u=i[1],s=Km.findKey(l,c);n.push([u,s])}}catch(e){o.e(e)}finally{o.f()}break;case"insert_node":case"remove_node":case"merge_node":case"split_node":var d,v=sx(e.levels(l,{at:a.parent(t.path)}));try{for(v.s();!(d=v.n()).done;){var h=Ls(d.value,2),p=h[0],g=h[1],y=Km.findKey(l,p);n.push([g,y])}}catch(e){v.e(e)}finally{v.f()}break;case"move_node":var m,b=sx(e.levels(l,{at:a.common(a.parent(t.path),a.parent(t.newPath))}));try{for(b.s();!(m=b.n()).done;){var w=Ls(m.value,2),x=w[0],S=w[1],E=Km.findKey(l,x);n.push([S,E])}}catch(e){b.e(e)}finally{b.f()}}f(t);for(var O=0,k=n;O<k.length;O++){var C=Ls(k[O],2),T=C[0],N=C[1],P=e.node(l,T),M=Ls(P,1)[0];hp.set(M,N)}},l.deleteBackward=function(t){if("line"!==t)return v(t);if(c.selection&&n.isCollapsed(c.selection)){var o=e.above(c,{match:function(t){return r.isElement(t)&&e.isBlock(c,t)},at:c.selection});if(o){var a=Ls(o,2)[1],u=e.range(c,a,c.selection.anchor),s=function(t,r){var o=e.range(t,n.end(r)),i=iv(e.positions(t,{at:r})),a=0,c=i.length,l=Math.floor(c/2);if(dw(t,e.range(t,i[a]),o))return e.range(t,i[a],o);if(i.length<2)return e.range(t,i[i.length-1],o);for(;l!==i.length&&l!==a;)dw(t,e.range(t,i[l]),o)?c=l:a=l,l=Math.floor((a+c)/2);return e.range(t,i[c],o)}(l,u);n.isCollapsed(s)||i.delete(c,{at:s})}}},l.onChange=function(){var e=l.selection;null!=e&&yp.set(l,e),l.emit("change"),u()},l.handleTab=function(){l.insertText("    ")},l.getHtml=function(){var e=l.children,t=void 0===e?[]:e;return Iv(t).call(t,(function(e){return uw(e,l)})).join("")},l.getFragmentHtml=function(e){var t=Iv(e).call(e,(function(e){return uw(e,l)}));return Iv(t).call(t,(function(e){return ci(rx).call(rx,(function(t){var n=new RegExp("(<".concat(t,"\\b[^>]*>)"),"gi"),r=new RegExp("(</".concat(t,">)"),"gi");e=e.replace(n,"$1\n  ").replace(r,"\n$1")})),e})).join("\n")},l.getText=function(){var e=l.children,n=void 0===e?[]:e;return Iv(n).call(n,(function(e){return t.string(e)})).join("\n")},l.getSelectionText=function(){var t=l.selection;return null==t?"":e.string(c,t)},l.getElemsByType=function(t){var n,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=[],a=sx(e.nodes(l,{at:[],universal:!0}));try{for(a.s();!(n=a.n()).done;){var c,u=n.value,s=Ls(u,1)[0];if(r.isElement(s))if(o?Tp(c=s.type).call(c,t)>=0:s.type===t){var f=sw(Km.findKey(l,s).id);i.push(ux(ux({},s),{},{id:f}))}}}catch(e){a.e(e)}finally{a.f()}return i},l.getElemsByTypePrefix=function(e){return l.getElemsByType(e,!0)},l.isEmpty=function(){var e=l.children,t=void 0===e?[]:e;if(t.length>1)return!1;var n=t[0];if(null==n)return!0;if(r.isElement(n)&&"paragraph"===n.type){var i=n.children,a=void 0===i?[]:i;if(a.length>1)return!1;var c=a[0];if(null==c)return!0;if(o.isText(c)&&""===c.text)return!0}return!1},l.clear=function(){var t=[Km.genEmptyParagraph(l)];i.delete(l,{at:{anchor:e.start(l,[]),focus:e.end(l,[])}}),0===l.children.length&&i.insertNodes(l,t)},l.getParentNode=function(e){return Km.getParentNode(l,e)},l.dangerouslyInsertHtml=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var n=document.createElement("div");n.innerHTML=e;var r=iv(n.childNodes);if(r=eb(r).call(r,(function(e){var t=e.nodeType,n=e.nodeName;return t===km.TEXT_NODE||t===km.ELEMENT_NODE&&!dx.has(n.toLowerCase())})),0!==r.length){var o=l.selection;if(null!=o){var a=null;if(Km.isSelectedEmptyParagraph(l)&&!t){var u=o.focus;a=[u.path[0]]}n.setAttribute("hidden","true"),document.body.appendChild(n),ci(r).call(r,(function(e){var t=e.nodeType,n=e.nodeName,r=e.textContent,u=void 0===r?"":r;if(t!==km.TEXT_NODE)if("BR"!==n){var s=e,f=!1;if(ov(vw).call(vw,n.toLowerCase()))f=!0;else for(var v in mw)if(s.matches(v)){f=!0;break}if(f){var h=Uw(d(s),l);if(l.isInline(h))l.insertNode(h),"link"===h.type&&l.insertFragment([{text:""}]);else if(a)Km.isEmptyPath(l,a)&&i.insertNodes(l,h,{mode:"highest"});else{if(l.getSelectionText()&&(l.deleteFragment("backward"),!Km.getNodesStr(Km.getSelectedElems(l))))return i.insertNodes(l,h,{at:o.focus.path,mode:"highest"}),void(Km.isSelectedVoidNode(l)&&i.move(c,{distance:1,unit:"character",reverse:!1}));i.insertNodes(l,h,{mode:"highest"})}Km.isSelectedVoidNode(l)&&i.move(c,{distance:1,unit:"character",reverse:!1})}else l.dangerouslyInsertHtml(s.innerHTML,!0)}else l.insertText("\n");else{if(!u||!Dp(u).call(u))return;l.insertNode({text:u})}})),a&&Km.isEmptyPath(l,a)&&i.removeNodes(l,{at:a}),n.remove()}}}},l.setHtml=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=l.isDisabled(),r=l.isFocused(),o=Wd(l.selection);l.enable(),l.focus(),l.clear();var a=cx(l,t);console.log(a,"parseHtmlchildNodeChildren1");var c=function(e){var t=e,n=[];function r(e,t){if(!1===e.isEmptyText)n.push({element:e,parent:t});else if(e.children){var o,i=Pw(e.children);try{for(i.s();!(o=i.n()).done;)r(o.value,e)}catch(e){i.e(e)}finally{i.f()}}}function o(e,t){if(e&&e.children){var n,r=Pw(e.children);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o!==t&&!1!==o.isEmptyText)return!0}}catch(e){r.e(e)}finally{r.f()}}return!1}function i(e,t){if(t&&t.children){var n,r,o=Tp(n=t.children).call(n,e);-1!==o&&Nw(r=t.children).call(r,o,1);var a,c=Pw(t.children);try{for(c.s();!(a=c.n()).done;)i(e,a.value)}catch(e){c.e(e)}finally{c.f()}}}var a,c=Pw(t);try{for(c.s();!(a=c.n()).done;){var l=a.value;r(l,null);var u,s=Pw(n);try{for(s.s();!(u=s.n()).done;){var f=u.value,d=f.element,v=f.parent;o(v,d)||i(v,l)}}catch(e){s.e(e)}finally{s.f()}}}catch(e){c.e(e)}finally{c.f()}return t}(a);if(console.log(c,"parseHtmlchildNodeChildren2"),i.insertFragment(l,c,{at:[]}),r||(l.deselect(),l.blur()),n&&(l.deselect(),l.disable()),l.isFocused())try{l.select(JSON.parse(o))}catch(t){l.select(e.start(l,[]))}},l};function hx(e,t){var n=void 0!==bu&&Au(e)||e["@@iterator"];if(!n){if(ju(e)||(n=function(e,t){var n;if(!e)return;if("string"==typeof e)return px(e,t);var r=Jc(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return iv(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return px(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function px(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gx=function(t){var r=t,o=r.insertText;return r.insertFragment,r.setFragmentData=function(t){var o,i,a=r.selection;if(a){var c=n.edges(a),l=Ls(c,2),u=l[0],s=l[1],f=e.void(r,{at:u.path}),d=e.void(r,{at:s.path});if(!n.isCollapsed(a)||f){var v=Km.toDOMRange(r,a),h=v.cloneContents(),p=h.childNodes[0];if(ci(o=h.childNodes).call(o,(function(e){var t;e.textContent&&""!==Dp(t=e.textContent).call(t)&&(p=e)})),d){var g=Ls(d,1)[0],y=v.cloneRange(),m=Km.toDOMNode(r,g);y.setEndAfter(m),h=y.cloneContents()}if(f&&(p=h.querySelector("[data-slate-spacer]")),ci(i=iv(h.querySelectorAll("[data-slate-zero-width]"))).call(i,(function(e){var t="n"===e.getAttribute("data-slate-zero-width");e.textContent=t?"\n":""})),Mm(p)){var b=p.ownerDocument.createElement("span");b.style.whiteSpace="pre",b.appendChild(p),h.appendChild(b),p=b}var w=r.getFragment(),x=Wd(w),S=window.btoa(encodeURIComponent(x));p.setAttribute("data-slate-fragment",S),t.setData("application/x-slate-fragment",S);var E=h.ownerDocument.createElement("div");return E.appendChild(h),E.setAttribute("hidden","true"),h.ownerDocument.body.appendChild(E),t.setData("text/html",E.innerHTML),t.setData("text/plain",Im(E)),h.ownerDocument.body.removeChild(E),t}}},r.insertData=function(e){var t=e.getData("application/x-slate-fragment");if(t){var n=decodeURIComponent(window.atob(t)),a=JSON.parse(n);r.insertFragment(a)}else{var c=e.getData("text/plain"),l=e.getData("text/html");if(r.customPasteText=c,l)return r.customPasteHtml='<div data-k-e-type="custom-paste">'.concat(ax(l),"</div>"),void r.dangerouslyInsertHtml(r.customPasteHtml);if(c){var u,s=!1,f=hx(c.split(/\r\n|\r|\n/));try{for(f.s();!(u=f.n()).done;){var d=u.value;s&&i.splitNodes(r,{always:!0}),o(d),s=!0}}catch(e){f.e(e)}finally{f.f()}}else;}},r};function yx(e){var t=mp.get(e);return null==t&&(t=$(),mp.set(e,t)),t}var mx=new qh;function bx(e,t){var n=mx.get(e);null==n&&(n=new Jb,mx.set(e,n)),n.add(t)}var wx=function(e){var t=e;return t.on=function(e,n){var r=yx(t);if(r.on(e,n),"destroyed"===e&&bx(t,n),"destroyed"!==e){var o=function(){return r.off(e,n)};r.on("destroyed",o),bx(t,o)}},t.once=function(e,n){yx(t).once(e,n)},t.off=function(e,n){yx(t).off(e,n)},t.emit=function(e){for(var n,r=yx(t),o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];if(r.emit.apply(r,Sv(n=[e]).call(n,i)),"destroyed"===e){var c=function(e){return mx.get(e)||new Jb}(t);ci(c).call(c,(function(e){return r.off("destroyed",e)})),function(e){mx.set(e,new Jb)}(t)}},t};function xx(e){var t=Km.getTextarea(e).$textAreaContainer,n=t.width(),r=t.height(),o=t.offset();return{top:o.top,left:o.left,width:n,height:r}}function Sx(e){var t={top:"0",left:"0"},n=e.selection;if(null==n)return t;var r=xx(e);if(null==r)return t;var o=r.top,i=r.left,a=r.width,c=r.height,l=Km.toDOMRange(e,n).getClientRects()[0];if(null==l)return t;l.width;var u=l.height,s={},f=l.top-o,d=l.left-i;if(d>a/2){var v=a-d;s.right="".concat(v+5,"px")}else s.left="".concat(d+5,"px");if(f>c/2){var h=c-f;s.bottom="".concat(h+5,"px")}else{var p=f+u;p<0&&(p=0),s.top="".concat(p+5,"px")}return s}function Ex(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"modal",o={top:"0",left:"0"};if(null==e.selection)return o;var i=r.isElement(t)&&e.isVoid(t),a=r.isElement(t)&&e.isInline(t),c=vp.get(t);if(null==c)return o;var l=c.getBoundingClientRect(),u=l.top,s=l.left,d=l.height,v=l.width;if(i){var h=function(e){var t=[];t.push(e);for(var n=0;t.length>0;){var r=t.pop();if(null==r)break;if(++n>1e4)break;var o=r.nodeName;if(1===r.nodeType){var i=o.toLowerCase();if(ov(f).call(f,i)||"iframe"===i||"video"===i)return r;var a=r.children||[],c=a.length;if(c)for(var l=c-1;l>=0;l--)t.push(a[l])}}return null}(c);if(null!=h){var p=h.getBoundingClientRect();u=p.top,d=p.height}}var g=xx(e);if(null==g)return o;var y=g.top,m=g.left,b=g.width,w=g.height,x={},S=u-y,E=s-m;if("bar"===n)return x.left="".concat(E,"px"),S>40?x.bottom="".concat(w-S+5,"px"):x.top="".concat(S+d+5,"px"),x;if("modal"===n){if(i?a?E>(b-v)/2?x.right="".concat(b-E+5,"px"):x.left="".concat(E+v+5,"px"):x.left="20px":x.left="".concat(E,"px"),i){var O=S;O<0&&(O=0),x.top="".concat(O,"px")}else if(S>(w-d)/2)x.bottom="".concat(w-S+5,"px");else{var k=S+d;k<0&&(k=0),x.top="".concat(k+5,"px")}return x}throw new Error("type '".concat(n,"' is invalid"))}function Ox(e,t){Em((function(){var n=xx(e);if(null!=n){var r=n.top,o=n.left,i=n.width,a=n.height,c=t.offset(),l=c.top,u=c.left,s=t.width(),f=t.height(),d=l-r,v=u-o,h=t.attr("style");if(Tp(h).call(h,"top")>=0){var p=d+f-a;if(p>0){var g=t.css("top"),y=bv(g.toString())-p;y<0&&(y=0),t.css("top","".concat(y,"px"))}}if(Tp(h).call(h,"bottom")>=0&&l<0){var m=t.css("bottom"),b=bv(m.toString())-Math.abs(l);t.css("bottom","".concat(b,"px"))}if(Tp(h).call(h,"left")>=0){var w=v+s-i;if(w>0){var x=t.css("left"),S=bv(x.toString())-w;S<0&&(S=0),t.css("left","".concat(S,"px"))}}if(Tp(h).call(h,"right")>=0&&u<0){var E=t.css("right"),O=bv(E.toString())-Math.abs(u);t.css("right","".concat(O,"px"))}}}))}var kx=Function,Cx=fe([].concat),Tx=fe([].join),Nx={},Px=ce?kx.bind:function(e){var t=wt(this),n=t.prototype,r=Tc(arguments,1),o=function(){var n=Cx(r,Tc(arguments));return this instanceof o?function(e,t,n){if(!Bt(Nx,t)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";Nx[t]=kx("C,a","return new C("+Tx(r,",")+")")}return Nx[t](e,n)}(t,n.length,n):t.apply(e,n)};return _e(n)&&(o.prototype=n),o},Mx=Px;uo({target:"Function",proto:!0,forced:Function.bind!==Mx},{bind:Mx});var Ax=ri("Function").bind,Dx=Function.prototype,jx=function(e){var t=e.bind;return e===Dx||vt(Dx,e)&&t===Dx.bind?Ax:t},Ix=jx,Rx=(Un.f,$n("".startsWith)),Fx=$n("".slice),Lx=Math.min,Bx=Jd("startsWith");uo({target:"String",proto:!0,forced:!Bx},{startsWith:function(e){var t=yl(xe(this));Xd(e);var n=ar(Lx(arguments.length>1?arguments[1]:void 0,t.length)),r=yl(e);return Rx?Rx(t,r,n):Fx(t,n,n+r.length)===r}});var _x=ri("String").startsWith,$x=String.prototype,zx=function(e){var t=e.startsWith;return"string"==typeof e||e===$x||vt($x,e)&&t===$x.startsWith?_x:t},Wx=Object.assign,Ux=Object.defineProperty,Hx=fe([].concat),Vx=!Wx||ie((function(){if(We&&1!==Wx({b:1},Wx(Ux({},"a",{enumerable:!0,get:function(){Ux(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=Wx({},e)[n]||pr(Wx({},t)).join("")!=r}))?function(e,t){for(var n=At(e),r=arguments.length,o=1,i=bl.f,a=Pn.f;r>o;)for(var c,l=we(arguments[o++]),u=i?Hx(pr(l),i(l)):pr(l),s=u.length,f=0;s>f;)c=u[f++],We&&!xt(a,l,c)||(n[c]=l[c]);return n}:Wx,Gx=Vx;uo({target:"Object",stat:!0,arity:2,forced:Object.assign!==Gx},{assign:Gx});var Kx=Xe.Object.assign;var qx=["props","attrs","style","dataset","on","hook"];function Yx(e){var t=e.data,n=void 0===t?{}:t,r=e.children,o=void 0===r?[]:r,i=fi(n);ci(i).call(i,(function(t){var r=n[t];if("key"!==t){if(!ov(qx).call(qx,t)){if(zx(t).call(t,"data-")){var o=Jc(t).call(t,5);return o=X(o),function(e,t){null==e.data&&(e.data={});var n=e.data;null==n.dataset&&(n.dataset={});Kx(n.dataset,t)}(e,sb({},o,r)),void delete n[t]}!function(e,t){null==e.data&&(e.data={});var n=e.data;null==n.props&&(n.props={});Kx(n.props,t)}(e,sb({},t,r)),delete n[t]}}else e.key=r})),o.length>0&&ci(o).call(o,(function(e){"string"!=typeof e&&Yx(e)}))}var Xx=[];function Jx(e){Xx.push(e)}var Qx={};function Zx(e){var t=e.type,n=e.renderElem;Qx[t||""]=n}function eS(e,t,n){var r=n.isInline(e)?"span":"div";return q(r,null,t)}function tS(e,t){var n=t;return ci(Xx).call(Xx,(function(r){n=r(e,t)})),n}function nS(n,r){var o,i=Km.findKey(r,n),a=r.isInline(n),c=e.isVoid(r,n),l=sw(i.id),u={id:l,key:i.id,"data-slate-node":"element","data-slate-inline":a},s=n.type,f=n.children,d=void 0===f?[]:f,v=function(e){return Qx[e]||eS}(s);o=c?null:Iv(d).call(d,(function(e,t){return aS(e,t,n,r)}));var h=v(n,o,r);if(c){u["data-slate-void"]=!0;var p=a?"span":"div",g=t.texts(n),y=Ls(g,1),m=Ls(y[0],1)[0],b=aS(m,0,n,r);h=tS(n,h);var w=q(p,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},b);h=q(p,{style:{position:"relative"}},h,w),lp.set(m,0),up.set(m,n)}return null==h.data&&(h.data={}),Kx(h.data,u),c||(h=tS(n,h)),function(e,t,n){var r,o,i=Km.findPath(e,t);if(ju(i)&&""===i.join("").replace(/0/g,"")&&(null!==(r=n.data)&&void 0!==r&&null!==(r=r.style)&&void 0!==r&&r.margin||null!==(o=n.data)&&void 0!==o&&null!==(o=o.style)&&void 0!==o&&o.marginTop)){var a,c,l="".concat(0,"px");if(null!==(a=n.data)&&void 0!==a&&null!==(a=a.style)&&void 0!==a&&a.marginTop&&(n.data.style.marginTop="0"),null!==(c=n.data)&&void 0!==c&&null!==(c=c.style)&&void 0!==c&&c.margin){var u,s=null===(u=n.data)||void 0===u||null===(u=u.style)||void 0===u?void 0:u.margin.split(" "),f=s[0];switch(s.length){case 1:s[0]=l,s.push(f,f);break;case 2:s[0]=l,s.push(f);break;case 3:case 4:s[0]=l}n.data.style.margin=s.join(" ")}}}(r,n,h),Em((function(){var e=Am(l);null!=e&&(dp.set(i,e),vp.set(n,e),fp.set(e,n))})),h}function rS(){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return q("span",{"data-slate-zero-width":e?"n":"z","data-slate-length":arguments.length>0&&void 0!==arguments[0]?arguments[0]:0},"\ufeff",e?q("br",null):null)}function oS(n){var r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,c=n.text,l=Km.findPath(i,r),u=a.parent(l);if(e.isEditor(o))throw new Error("Text node ".concat(Wd(r)," parent is Editor"));return i.isVoid(o)?rS(t.string(o).length):""!==c||o.children[o.children.length-1]!==r||i.isInline(o)||""!==e.string(i,u)?""===c?rS():function(e){return q("span",{"data-slate-string":!0},arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e+"\n":e)}(c):rS(0,!0)}function iS(e,t,n){if(null==e.text)throw new Error("Current node is not slate Text ".concat(Wd(e)));var r=Km.findKey(n,e),i=n.getConfig().decorate;if(null==i)throw new Error("Can not get config.decorate");var a=Km.findPath(n,e),c=i([e,a]),l=o.decorations(e,c),u=Iv(l).call(l,(function(r,o){var i=oS(r,o===l.length-1,e,t,n);return i=function(e,t,n){var r=t;return ci(Xx).call(Xx,(function(t){r=t(e,r,n)})),r}(r,i,t),q("span",{"data-slate-leaf":!0},i)})),s=function(e){return"k-e-text-".concat(e)}(r.id),f=q("span",{"data-slate-node":"text",id:s,key:r.id},u);return Em((function(){var t=Am(s);null!=t&&(dp.set(r,t),vp.set(e,t),fp.set(t,e))})),f}function aS(e,t,n,o){return lp.set(e,t),up.set(e,n),r.isElement(e)?nS(e,o):iS(e,n,o)}function cS(e,t){var n,r=e.$scroll,o=function(e){return"w-e-textarea-".concat(e)}(e.id),i=t.getConfig(),a=i.readOnly,c=i.autoFocus,l=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Y("div#".concat(e),{props:{contentEditable:!t}})}(o,a),u=t.children||[];l.children=Iv(u).call(u,(function(e,n){var r=aS(e,n,t,t);return Yx(r),r}));var s=ip.get(e);if(null==s&&(s=!0),s){var f=function(e){return d('<div\n        id="'.concat(e,'"\n        data-slate-editor\n        data-slate-node="value"\n        suppressContentEditableWarning\n        role="textarea"\n        spellCheck="true"\n        autoCorrect="true"\n        autoCapitalize="true"\n    ></div>'))}(o);r.append(f),e.$textArea=f,n=f[0];var v=W([U,H,V,G,K]);v(n,l),ip.set(e,!1),ap.set(e,v)}else{var h=cp.get(e),p=ap.get(e);if(null==h||null==p)return;n=h.elm,p(h,l)}if(null!=n||null!=(n=Am(o))){if((s?c:t.isFocused())&&n.focus({preventScroll:!0}),s){var g=Cm(n);g&&pp.set(t,g)}sp.set(t,n),vp.set(t,n),fp.set(n,t),cp.set(e,l)}}function lS(e,t){return Nm(t)&&Km.hasDOMNode(e,t,{editable:!0})}function uS(t,n){if(t.getConfig().readOnly)return!1;if(!sS(t,n))return!1;var o=Km.toSlateNode(t,n);return r.isElement(o)&&e.isVoid(t,o)}function sS(e,t){return Nm(t)&&Km.hasDOMNode(e,t)}function fS(e){var t=Km.getSelectedNodeByType(e,"custom-paste");if(null!==t){var n=t||{children:[{text:""}]},r=n.style,o={type:"div[data-k-e-type]",style:void 0===r?{}:r,children:n.children};i.setNodes(e,o,{match:function(e){return Km.checkNodeType(e,"custom-paste")}})}}function dS(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=t.selection,i=t.getConfig(),a=Km.findDocumentOrShadowRoot(t).getSelection();if(a&&(!e.isComposing||r)&&t.isFocused()){var c="None"!==a.type;if(o||c){var l=sp.get(t),u=!1;if(l.contains(a.anchorNode)&&l.contains(a.focusNode)&&(u=!0),c&&u&&o){var s=Km.toSlateRange(t,a,{exactMatch:!0,suppressThrow:!0});if(s&&n.equals(s,o)){var f=!0;if(n.isCollapsed(o)){var d=a.anchorNode,v=a.anchorOffset;if(d===l){var h,p=l.childNodes;(h=p[v])&&h.matches("table")&&(f=!1),(h=p[v-1])&&h.matches("table")&&(f=!1)}}if(f)return}}if(!o||Km.hasRange(t,o)){e.isUpdatingSelection=!0;var g=o&&Km.toDOMRange(t,o);if(g){n.isBackward(o)?a.setBaseAndExtent(g.endContainer,g.endOffset,g.startContainer,g.startOffset):a.setBaseAndExtent(g.startContainer,g.startOffset,g.endContainer,g.endOffset);var y=g.startContainer.parentElement;if(!y.closest("[data-slate-spacer]")){var m;y.getBoundingClientRect=Ix(m=g.getBoundingClientRect).call(m,g);var b=document.body;J(y,{scrollMode:"if-needed",boundary:i.scroll?l.parentElement:b,block:"end",behavior:"smooth"}),delete y.getBoundingClientRect}}else a.removeAllRanges();Ic((function(){g&&_m&&l.focus(),e.isUpdatingSelection=!1}))}else t.selection=Km.toSlateRange(t,a,{exactMatch:!1,suppressThrow:!1})}}}var vS=new qh,hS=new qh;var pS={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z",tab:"tab",selectAll:"mod+a",esc:"esc"},gS={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},yS={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},mS=function(e){var t=pS[e],n=gS[e],r=yS[e],o=t&&Q(t),i=n&&Q(n),a=r&&Q(r);return function(e){return!(!o||!o(e))||(!!(Bm&&i&&i(e))||!(Bm||!a||!a(e)))}},bS={isBold:mS("bold"),isCompose:mS("compose"),isMoveBackward:mS("moveBackward"),isMoveForward:mS("moveForward"),isDeleteBackward:mS("deleteBackward"),isDeleteForward:mS("deleteForward"),isDeleteLineBackward:mS("deleteLineBackward"),isDeleteLineForward:mS("deleteLineForward"),isDeleteWordBackward:mS("deleteWordBackward"),isDeleteWordForward:mS("deleteWordForward"),isExtendBackward:mS("extendBackward"),isExtendForward:mS("extendForward"),isExtendLineBackward:mS("extendLineBackward"),isExtendLineForward:mS("extendLineForward"),isItalic:mS("italic"),isMoveLineBackward:mS("moveLineBackward"),isMoveLineForward:mS("moveLineForward"),isMoveWordBackward:mS("moveWordBackward"),isMoveWordForward:mS("moveWordForward"),isRedo:mS("redo"),isSplitBlock:mS("splitBlock"),isTransposeCharacter:mS("transposeCharacter"),isUndo:mS("undo"),isTab:mS("tab"),isSelectAll:mS("selectAll"),isEsc:mS("esc")};function wS(e,t){var n=fi(e);if(Ym){var r=Ym(e);t&&(r=eb(r).call(r,(function(t){return ob(e,t).enumerable}))),n.push.apply(n,r)}return n}function xS(e){for(var t=1;t<arguments.length;t++){var n,r,o=null!=arguments[t]?arguments[t]:{};t%2?ci(n=wS(Object(o),!0)).call(n,(function(t){sb(e,t,o[t])})):ib?lb(e,ib(o)):ci(r=wS(Object(o))).call(r,(function(t){ub(e,t,ob(o,t))}))}return e}function SS(e){e.preventDefault()}var ES={beforeinput:function(t,r,o){var a=t,c=o.getConfig().readOnly;if(Hm&&!c&&lS(o,a.target)){var l=o.selection,u=a.inputType,s=a.dataTransfer||a.data||void 0;if("insertCompositionText"!==u&&"deleteCompositionText"!==u){if(a.preventDefault(),!zx(u).call(u,"delete")||zx(u).call(u,"deleteBy")){var f=a.getTargetRanges(),d=Ls(f,1)[0];if(d){var v=Km.toSlateRange(o,d,{exactMatch:!1,suppressThrow:!1});l&&n.equals(l,v)||i.select(o,v)}}if(l&&n.isExpanded(l)&&zx(u).call(u,"delete")){var h=Pv(u).call(u,"Backward")?"backward":"forward";e.deleteFragment(o,{direction:h})}else switch(u){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":e.deleteFragment(o);break;case"deleteContent":case"deleteContentForward":e.deleteForward(o);break;case"deleteContentBackward":e.deleteBackward(o);break;case"deleteEntireSoftLine":e.deleteBackward(o,{unit:"line"}),e.deleteForward(o,{unit:"line"});break;case"deleteHardLineBackward":e.deleteBackward(o,{unit:"block"});break;case"deleteSoftLineBackward":e.deleteBackward(o,{unit:"line"});break;case"deleteHardLineForward":e.deleteForward(o,{unit:"block"});break;case"deleteSoftLineForward":e.deleteForward(o,{unit:"line"});break;case"deleteWordBackward":e.deleteBackward(o,{unit:"word"});break;case"deleteWordForward":e.deleteForward(o,{unit:"word"});break;case"insertLineBreak":case"insertParagraph":e.insertBreak(o);break;case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":if("insertFromPaste"===u&&!bp.get(o))break;s instanceof DataTransfer?o.insertData(s):"string"==typeof s&&e.insertText(o,s)}}}},blur:function(e,t,n){var o=e,i=t.isUpdatingSelection,a=t.latestElement;if(!n.getConfig().readOnly&&!i&&lS(n,o.target)){var c=Km.findDocumentOrShadowRoot(n);if(a!==c.activeElement){var l=o.relatedTarget;if(!(l===Km.toDOMNode(n,n)||Tm(l)&&l.hasAttribute("data-slate-spacer"))){if(null!=l&&Nm(l)&&Km.hasDOMNode(n,l)){var u=Km.toSlateNode(n,l);if(r.isElement(u)&&!n.isVoid(u))return}if($m){var s=c.getSelection();null==s||s.removeAllRanges()}gp.delete(n)}}}},focus:function(e,t,n){var r=Km.toDOMNode(n,n),o=Km.findDocumentOrShadowRoot(n);t.latestElement=o.activeElement,_m&&e.target!==r?r.focus():gp.set(n,!0)},click:function(n,r,o){if(!o.getConfig().readOnly&&sS(o,n.target)&&Nm(n.target)){var c=Km.toSlateNode(o,n.target),l=Km.findPath(o,c);if(e.hasPath(o,l))if(t.get(o,l)===c){var u=e.start(o,l),s=e.end(o,l),f=e.void(o,{at:u}),d=e.void(o,{at:s});if(f&&d&&a.equals(f[1],d[1])){var v=e.range(o,u);i.select(o,v)}}fS(o)}},compositionstart:function(t,r,o){if(lS(o,t.target)){var i=o.selection;if(i&&n.isExpanded(i)&&(e.deleteFragment(o),Sm.resolve().then((function(){dS(r,o,!0)}))),i&&n.isCollapsed(i)){var a=Km.toDOMRange(o,i).startContainer,c=a.textContent||"";vS.set(o,c),hS.set(o,a)}r.isComposing=!0,function(e,t){var n;t.getConfig().placeholder&&t.isEmpty()&&e.showPlaceholder&&(null===(n=e.$placeholder)||void 0===n||n.hide(),e.showPlaceholder=!1)}(r,o)}},compositionend:function(t,o,i){var a=t;if(lS(i,a.target)){o.isComposing=!1;var c=i.selection;if(null!=c){(Um||_m)&&Km.cleanExposedTexNodeInSelectionBlock(i);for(var l=n.isBackward(c)?c.focus:c.anchor,u=e.node(i,[l.path[0]]),s=Ls(u,1)[0],f=0;f<l.path.length;f++){var d,v=e.node(i,Jc(d=l.path).call(d,0,f+1)),h=Ls(v,1)[0];if(r.isElement(h)&&(($m||_m)&&"link"===h.type||"code"===h.type)){Km.setNewKey(s);break}}var p=a.data;if(p){if(i.getConfig().maxLength){var g=Km.getLeftLengthOfMaxLength(i);if(g<p.length)Km.toDOMRange(i,c).startContainer.textContent=vS.get(i)||"",g>0&&e.insertText(i,Jc(p).call(p,0,g)),o.changeViewState();else e.insertText(i,p)}else e.insertText(i,p);$m||Ic((function(){var e=i.selection;if(null!=e){var t=hS.get(i);if(null!=t)Km.toDOMRange(i,e).startContainer!==t&&(t.textContent=vS.get(i)||"")}}))}}}},compositionupdate:function(e,t,n){lS(n,e.target)&&(t.isComposing=!0)},keydown:function(o,a,c){var l=o,u=c.selection,s=c.getConfig().readOnly;if(console.log(l),!s&&!a.isComposing&&lS(c,l.target)){if(function(e,t){var n=Qh.get(e),r=n&&n.getMenus(),o=ep.get(e),i=o&&o.getMenus(),a=xS(xS({},r),i);for(var c in a){var l=a[c],u=l.hotkey;if(u&&Z(u,t)&&!l.isDisabled(e)){var s=l.getValue(e);l.exec(e,s)}}}(c,l),bS.isTab(l))return SS(l),void c.handleTab();if(bS.isRedo(l))return SS(l),void("function"==typeof c.redo&&c.redo());if(bS.isUndo(l))return SS(l),void("function"==typeof c.undo&&c.undo());if(bS.isMoveLineBackward(l))return SS(l),void i.move(c,{unit:"line",reverse:!0});if(bS.isMoveLineForward(l))return SS(l),void i.move(c,{unit:"line"});if(bS.isExtendLineBackward(l))return SS(l),void i.move(c,{unit:"line",edge:"focus",reverse:!0});if(bS.isExtendLineForward(l))return SS(l),void i.move(c,{unit:"line",edge:"focus"});if(bS.isMoveBackward(l))return SS(l),void(u&&n.isCollapsed(u)?i.move(c,{reverse:!0}):i.collapse(c,{edge:"start"}));if(bS.isMoveForward(l))return SS(l),void(u&&n.isCollapsed(u)?i.move(c):i.collapse(c,{edge:"end"}));if(bS.isMoveWordBackward(l))return SS(l),u&&n.isExpanded(u)&&i.collapse(c,{edge:"focus"}),void i.move(c,{unit:"word",reverse:!0});if(bS.isMoveWordForward(l))return SS(l),u&&n.isExpanded(u)&&i.collapse(c,{edge:"focus"}),void i.move(c,{unit:"word"});if(bS.isSelectAll(l))return SS(l),void c.selectAll();if(bS.isEsc(l)){SS(l),c.formatBrush(0,null);var f=Km.getToolbar(c);f&&f.changeToolbarState()}else if(Hm){if((Um||$m)&&u&&(bS.isDeleteBackward(l)||bS.isDeleteForward(l))&&n.isCollapsed(u)){var d=t.parent(c,u.anchor.path);if(r.isElement(d)&&e.isVoid(c,d)&&e.isInline(c,d))return l.preventDefault(),void i.delete(c,{unit:"block"})}}else{if(bS.isBold(l)||bS.isItalic(l)||bS.isTransposeCharacter(l))return void SS(l);if(bS.isSplitBlock(l))return SS(l),void e.insertBreak(c);if(bS.isDeleteBackward(l))return SS(l),void(u&&n.isExpanded(u)?e.deleteFragment(c,{direction:"backward"}):e.deleteBackward(c));if(bS.isDeleteForward(l))return SS(l),void(u&&n.isExpanded(u)?e.deleteFragment(c,{direction:"forward"}):e.deleteForward(c));if(bS.isDeleteLineBackward(l))return SS(l),void(u&&n.isExpanded(u)?e.deleteFragment(c,{direction:"backward"}):e.deleteBackward(c,{unit:"line"}));if(bS.isDeleteLineForward(l))return SS(l),void(u&&n.isExpanded(u)?e.deleteFragment(c,{direction:"forward"}):e.deleteForward(c,{unit:"line"}));if(bS.isDeleteWordBackward(l))return SS(l),void(u&&n.isExpanded(u)?e.deleteFragment(c,{direction:"backward"}):e.deleteBackward(c,{unit:"word"}));if(bS.isDeleteWordForward(l))return SS(l),void(u&&n.isExpanded(u)?e.deleteFragment(c,{direction:"forward"}):e.deleteForward(c,{unit:"word"}))}}},keypress:function(t,n,r){if(fS(r),!Hm&&!r.getConfig().readOnly&&lS(r,t.target)){t.preventDefault();var o=t.key;e.insertText(r,o)}},copy:function(e,t,n){var r=e;if(lS(n,r.target)){r.preventDefault();var o=r.clipboardData;null!=o&&n.setFragmentData(o)}},cut:function(o,a,c){var l=o,u=c.selection;if(!c.getConfig().readOnly&&lS(c,l.target)){l.preventDefault();var s=l.clipboardData;if(null!=s&&(c.setFragmentData(s),u))if(n.isExpanded(u))e.deleteFragment(c);else{var f=t.parent(c,u.anchor.path);r.isElement(f)&&e.isVoid(c,f)&&i.delete(c)}}},paste:function(e,t,n){bp.set(n,!0);var r=e;if(!n.getConfig().readOnly&&lS(n,r.target)){var o=n.getConfig().customPaste;if(o)if(!1===o(n,r))return void bp.set(n,!1);if(!Hm||function(e){return e.clipboardData&&""!==e.clipboardData.getData("text/plain")&&1===e.clipboardData.types.length}(r)){r.preventDefault();var i=r.clipboardData;null!=i&&n.insertData(i)}}},dragover:function(t,n,o){if(sS(o,t.target)){var i=Km.toSlateNode(o,t.target);r.isElement(i)&&e.isVoid(o,i)&&t.preventDefault()}},dragstart:function(t,n,o){var a=t;if(sS(o,a.target)&&!o.getConfig().readOnly){var c=Km.toSlateNode(o,a.target),l=Km.findPath(o,c);if(r.isElement(c)&&e.isVoid(o,c)||e.void(o,{at:l,voids:!0})){var u=e.range(o,l);i.select(o,u)}var s=a.dataTransfer;null!=s&&(n.isDraggingInternally=!0,o.setFragmentData(s))}},dragend:function(e,t,n){var r=e;n.getConfig().readOnly||t.isDraggingInternally&&sS(n,r.target)&&(t.isDraggingInternally=!1)},drop:function(e,t,n){var r=e,o=r.dataTransfer;if(!n.getConfig().readOnly&&sS(n,r.target)&&null!=o&&!(Hm&&$m&&o.files.length>0)){r.preventDefault();var a=n.selection,c=Km.findEventRange(n,r);i.select(n,c),t.isDraggingInternally&&(a&&i.delete(n,{at:a}),t.isDraggingInternally=!1),n.insertData(o),n.isFocused()||n.focus()}}};var OS=1,kS=function(){function e(t){var n=this;Yv(this,e),sb(this,"id",OS++),sb(this,"$textArea",null),sb(this,"$progressBar",d('<div class="k-e-progress-bar"></div>')),sb(this,"$maxLengthInfo",d('<div class="k-e-max-length-info"></div>')),sb(this,"isComposing",!1),sb(this,"isUpdatingSelection",!1),sb(this,"isDraggingInternally",!1),sb(this,"latestElement",null),sb(this,"showPlaceholder",!1),sb(this,"$placeholder",null),sb(this,"latestEditorSelection",null),sb(this,"onDOMSelectionChange",z((function(){var e=n.editorInstance;!function(e,t){var n=e.isComposing,r=e.isUpdatingSelection,o=e.isDraggingInternally;if(!(t.getConfig().readOnly||n||r||o)){var a=Km.findDocumentOrShadowRoot(t),c=a.activeElement,l=Km.toDOMNode(t,t),u=a.getSelection();if(c===l?(e.latestElement=c,gp.set(t,!0)):gp.delete(t),!u)return i.deselect(t);var s=u.anchorNode,f=u.focusNode,d=lS(t,s)||uS(t,s),v=lS(t,f)||uS(t,f);if(d&&v){var h=Km.toSlateRange(t,u,{exactMatch:!1,suppressThrow:!1});i.select(t,h),t.emit("selectionchange")}else i.deselect(t)}}(n,e)}),100));var r=d(t);if(0===r.length)throw new Error("Cannot find textarea DOM by selector '".concat(t,"'"));this.$box=r;var o=d('<div class="k-e-text-container"></div>');o.append(this.$progressBar),o.append(this.$maxLengthInfo),r.append(o);var a=d('<div class="k-e-scroll"></div>');o.append(a),this.$scroll=a,this.$textAreaContainer=o,Em((function(){var e,t,r=n.editorInstance,i=Km.getWindow(r);i.document.addEventListener("selectionchange",n.onDOMSelectionChange),r.on("destroyed",(function(){i.document.removeEventListener("selectionchange",n.onDOMSelectionChange)})),o.on("click",(function(){return r.hidePanelOrModal()})),r.on("change",Ix(e=n.changeViewState).call(e,n));var a=r.getConfig(),c=a.containerId,l=a.onChange,u=a.h5Mode,s=a.MENU_CONF,f=(void 0===s?{}:s).lineHeight.lineHeight;l&&r.on("change",(function(){return l(r)})),u&&o.addClass("k-e-h5"),d("#".concat(c," .k-e-text-placeholder")).css({lineHeight:f}),n.onFocusAndOnBlur(),r.on("change",Ix(t=n.changeMaxLengthInfo).call(t,n)),n.bindEvent()}))}return Kv(e,[{key:"editorInstance",get:function(){var e=Xh.get(this);if(null==e)throw new Error("Can not get editor instance");return e}},{key:"bindEvent",value:function(){var e=this,t=this.$textArea,n=this.$scroll,r=this.editorInstance;null!=t&&(_(ES,(function(n,o){t.on(o,(function(t){n(t,e,r)}))})),t.on("mouseup",(function(e){!function(e,t,n){1===n.formatBrushStatus&&n.formatBrush(0,null)}(0,0,r)})),r.getConfig().scroll&&(n.css("overflow-y","auto"),n.on("scroll",z((function(){r.emit("scroll")}),100))))}},{key:"onFocusAndOnBlur",value:function(){var e=this,t=this.editorInstance,n=t.getConfig(),r=n.onBlur,o=n.onFocus;this.latestEditorSelection=t.selection,t.on("change",(function(){null==e.latestEditorSelection&&null!=t.selection?o&&o(t):null!=e.latestEditorSelection&&null==t.selection&&r&&r(t),e.latestEditorSelection=t.selection}))}},{key:"changeMaxLengthInfo",value:function(){var e=this.editorInstance,t=e.getConfig().maxLength;if(t){var n,r=t-Km.getLeftLengthOfMaxLength(e);this.$maxLengthInfo[0].innerHTML=Sv(n="".concat(r,"/")).call(n,t)}}},{key:"changeProgress",value:function(e){var t=this.$progressBar;t.css("width","".concat(e,"%")),e>=100&&Ic((function(){t.hide(),t.css("width","0"),t.show()}),1e3)}},{key:"changeViewState",value:function(){var e=this,t=this.editorInstance;cS(this,t),function(e,t){var n=t.getConfig().placeholder;if(n){var r,o=t.isEmpty();if(o&&!e.showPlaceholder&&!e.isComposing){if(null==e.$placeholder){var i=d('<div class="k-e-text-placeholder">'.concat(n,"</div>"));e.$textAreaContainer.append(i),e.$placeholder=i}return e.$placeholder.show(),void(e.showPlaceholder=!0)}if(!o&&e.showPlaceholder)null===(r=e.$placeholder)||void 0===r||r.hide(),e.showPlaceholder=!1}}(this,t),Em((function(){dS(e,t)}))}},{key:"destroy",value:function(){this.$textAreaContainer.remove()}}]),e}();yd("match",(function(e,t,n){return[function(t){var n=Ti(this),r=ki(t)?void 0:Sa(t,e);return r?va(r,t,n):new RegExp(t)[e](hc(n))},function(e){var r=fa(this),o=hc(e),i=n(t,r,o);if(i.done)return i.value;if(!r.global)return Dd(r,o);var a=r.unicode;r.lastIndex=0;for(var c,l=[],u=0;null!==(c=Dd(r,o));){var s=hc(c[0]);l[u]=s,""===s&&(r.lastIndex=Ed(o,nf(r.lastIndex),a)),u++}return 0===u?null:l}]}));var CS=dt("Reflect","construct"),TS=Object.prototype,NS=[].push,PS=ie((function(){function e(){}return!(CS((function(){}),[],e)instanceof e)})),MS=!ie((function(){CS((function(){}))})),AS=PS||MS;uo({target:"Reflect",stat:!0,forced:AS,sham:AS},{construct:function(e,t){Ag(e),Qt(t);var n=arguments.length<3?e:Ag(arguments[2]);if(MS&&!PS)return CS(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return Wn(NS,r,t),new(Wn(Mx,e,r))}var o=n.prototype,i=Lr(_e(o)?o:TS),a=Wn(e,i,t);return _e(a)?a:i}});var DS=Xe.Reflect.construct;uo({target:"Object",stat:!0,sham:!We},{create:Lr});var jS=Xe.Object,IS=function(e,t){return jS.create(e,t)};uo({target:"Object",stat:!0},{setPrototypeOf:vo});var RS=Xe.Object.setPrototypeOf,FS=jx,LS=Oe((function(e){function t(n,r){var o;return e.exports=t=RS?FS(o=RS).call(o):function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})),BS=IS,_S=Ee(Oe((function(e){e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=BS(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Vv(e,"prototype",{writable:!1}),t&&LS(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports}))),$S=Oe((function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports})),zS=Ee($S),WS=Oe((function(e){var t=$v.default;e.exports=function(e,n){if(n&&("object"===t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return $S(e)},e.exports.__esModule=!0,e.exports.default=e.exports})),US=Ee(WS),HS=ie((function(){Br(1)}));uo({target:"Object",stat:!0,forced:HS,sham:!Dr},{getPrototypeOf:function(e){return Br(At(e))}});var VS=Xe.Object.getPrototypeOf,GS=Oe((function(e){function t(n){var r;return e.exports=t=RS?FS(r=VS).call(r):function(e){return e.__proto__||VS(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})),KS=Ee(GS);function qS(e){e.removeAttr("width"),e.removeAttr("height"),e.removeAttr("fill"),e.removeAttr("t"),e.removeAttr("p-id");var t=e.children();t.length&&qS(t)}function YS(){var e=d('<svg viewBox="0 0 1024 1024"><path d="M498.7 655.8l-197.6-268c-8.1-10.9-0.3-26.4 13.3-26.4h395.2c13.6 0 21.4 15.4 13.3 26.4l-197.6 268c-6.6 9-20 9-26.6 0z"></path></svg>');return e.addClass("k-e-bar-item-dropdown"),e}function XS(){return d('<div class="k-e-bar-divider"></div>')}function JS(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(t){if(r){var i=Bm?"cmd":"ctrl";r=r.replace("mod",i)}if(o)r&&(e.attr("data-tooltip",r),e.addClass("k-e-menu-tooltip-v5"),e.addClass("tooltip-right"));else{var a,c=r?Sv(a="".concat(n,"\n")).call(a,r):n;c&&(e.attr("data-tooltip",c),e.addClass("k-e-menu-tooltip-v5"))}}}var QS=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Yv(this,t),sb(this,"$elem",d('<div class="k-e-bar-item"></div>')),sb(this,"$button",d('<button type="button"></button>')),sb(this,"disabled",!1),this.menu=e,this.inGroup=r,this.$svg=null;var o=e.title,i=e.hotkey,a=void 0===i?"":i,c=e.iconSvg,l=void 0===c?"":c,u=e.tag,s=e.width,f=e.alwaysShowTitle,v=void 0!==f&&f;if("button"!==u)throw new Error("Invalid tag '".concat(u,"', expected 'button'"));var h=this.$button;if(l){if(this.$svg=d(l),qS(this.$svg),h.append(this.$svg),v){var p=d('<span class="k-e-bar-item-text">'.concat(o,"</span>"));h.append(p)}}else h.text(o);JS(h,l,o,a,r),r&&l&&h.append(d('<span class="title">'.concat(o,"</span>"))),s&&h.css("width","".concat(s,"px")),this.$elem.append(h),Em((function(){return n.init()}))}return Kv(t,[{key:"init",value:function(){var e,t;this.setActive(),this.setDisabled(),this.setColor(),null!==(e=this.$svg)&&void 0!==e&&e.is(".k-e-svg-font-colors-fill")?(this.onBarItemSplitClick(".k-e-svg-font-colors-fill","color"),this.onBarItemClick(".k-e-bar-item-dropdown")):null!==(t=this.$svg)&&void 0!==t&&t.is(".k-e-svg-high-light-fill")?(this.onBarItemSplitClick(".k-e-svg-high-light-fill","backgroundColor"),this.onBarItemClick(".k-e-bar-item-dropdown")):this.onBarItemClick()}},{key:"onBarItemSplitClick",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0;this.$button.on("click",n,(function(o){o.preventDefault();var i=TE(t);if(t.customHidePanelOrModal||i.hidePanelOrModal(),!t.disabled){var a=e.marks(i),c=Kx({},(null==a?void 0:a.style)||{},sb({},r,d(n).css("color")));e.addMark(i,"style",c)}}))}},{key:"onBarItemClick",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.$button.on("click",t,(function(t){t.preventDefault();var n=TE(e);e.customHidePanelOrModal||n.hidePanelOrModal(),e.disabled||(e.exec(),e.onButtonClick())}))}},{key:"exec",value:function(){var e=TE(this),t=this.menu,n=t.getValue(e);t.exec(e,n)}},{key:"setActive",value:function(){var e=TE(this),t=this.$button,n=this.menu.isActive(e),r=this.menu,o=r.title,i=r.hotkey,a=void 0===i?"":i,c=r.iconSvg,l=void 0===c?"":c,u=r.activeTitle,s=void 0===u?"":u,f="active";n?(s&&JS(t,l,s,a,this.inGroup),t.addClass(f)):(s&&JS(t,l,o,a,this.inGroup),t.removeClass(f))}},{key:"setColor",value:function(){var t=TE(this),n=t.getConfig().containerId;if(e.marks(t)){var r=d("#".concat(n," .k-e-svg-font-colors-fill")).css("color"),o=d("#".concat(n," .k-e-svg-high-light-fill")).css("color"),i=[{s:"#".concat(n," .k-e-svg-font-colors-fill"),key:r},{s:"#".concat(n," .k-e-svg-high-light-fill"),key:o}];ci(i).call(i,(function(e){e.key&&(d(e.s).css("color",e.key),d(e.s).children().each((function(e,t){1==t&&d(e).attr({fill:"currentColor"})})))}))}}},{key:"setDisabled",value:function(){var e,t,n=TE(this),r=n.getConfig().sourceEditor,o=this.$button,i="disabled",a=!1;(n.isDisabled()||r)&&(a=!0);var c=this.menu.key||"";!r&&Tp(e=["undo","redo"]).call(e,c)>-1&&(a=this.menu.isDisabled(n)),r&&Tp(t=["codeBlock"]).call(t,c)>-1&&(a=this.menu.isDisabled(n)),a?(a=!0,o.addClass(i)):(a=!1,o.removeClass(i)),this.disabled=a}},{key:"changeMenuState",value:function(){this.setActive(),this.setDisabled(),this.setColor()}}]),t}();function ZS(e){var t=function(){if("undefined"==typeof Reflect||!DS)return!1;if(DS.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(DS(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=KS(e);if(t){var o=KS(this).constructor;n=DS(r,arguments,o)}else n=r.apply(this,arguments);return US(this,n)}}var eE=function(e){_S(n,QS);var t=ZS(n);function n(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Yv(this,n),t.call(this,e,r)}return Kv(n,[{key:"onButtonClick",value:function(){}}]),n}(),tE=Date,nE=fe(tE.prototype.getTime);uo({target:"Date",stat:!0},{now:function(){return nE(new tE)}});var rE=Xe.Date.now,oE=function(){function e(t){Yv(this,e),sb(this,"isShow",!1),sb(this,"showTime",0),this.record(t)}return Kv(e,[{key:"record",value:function(e){var t=np.get(e);null==t&&(t=new Jb,np.set(e,t)),t.add(this),rp.set(this,e)}},{key:"renderContent",value:function(e){var t=this.$elem;t.empty(),t.append(e);var n=this.genSelfElem();n&&t.append(n)}},{key:"appendTo",value:function(e){var t=this.$elem;e.append(t)}},{key:"show",value:function(){if(!this.isShow){this.showTime=rE(),this.$elem.show(),this.isShow=!0;var e=rp.get(this);e&&e.emit("modalOrPanelShow",this)}}},{key:"hide",value:function(){if(this.isShow){var e=rE();if(!("selectList"!==this.type&&e-this.showTime<1e3||"selectList"===this.type&&e-this.showTime<200)){this.$elem.hide(),this.isShow=!1;var t=rp.get(this);t&&t.emit("modalOrPanelHide")}}}}]),e}();function iE(e){var t=function(){if("undefined"==typeof Reflect||!DS)return!1;if(DS.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(DS(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=KS(e);if(t){var o=KS(this).constructor;n=DS(r,arguments,o)}else n=r.apply(this,arguments);return US(this,n)}}var aE=function(e){_S(n,oE);var t=iE(n);function n(e,r){var o;return Yv(this,n),o=t.call(this,e),sb(zS(o),"type","dropPanel"),sb(zS(o),"$elem",d('<div class="k-e-drop-panel"></div>')),null!=r&&r.dropPanelMinWidth&&o.$elem.css("min-width","".concat(null==r?void 0:r.dropPanelMinWidth,"px")),null!=r&&r.dropPanelClassName&&o.$elem.addClass(null==r?void 0:r.dropPanelClassName),o}return Kv(n,[{key:"genSelfElem",value:function(){return null}}]),n}();function cE(e){var t=function(){if("undefined"==typeof Reflect||!DS)return!1;if(DS.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(DS(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=KS(e);if(t){var o=KS(this).constructor;n=DS(r,arguments,o)}else n=r.apply(this,arguments);return US(this,n)}}var lE=function(e){_S(n,QS);var t=cE(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Yv(this,n),r=t.call(this,e,o),sb(zS(r),"dropPanel",null),r.menu=e,r.customHidePanelOrModal=!0,e.showDropPanel){var i=YS();r.$button.append(i)}return r}return Kv(n,[{key:"onButtonClick",value:function(){this.menu.showDropPanel&&this.handleDropPanel()}},{key:"handleDropPanel",value:function(){var e=this.menu;if(null!=e.getPanelContentElem){var t=TE(this);if(null==this.dropPanel){t.hidePanelOrModal();var n=new aE(t,e),r=e.getPanelContentElem(t);n.renderContent(r),n.appendTo(this.$elem),n.show(),this.dropPanel=n}else{var o=this.dropPanel;if(o.isShow)o.hide();else{t.hidePanelOrModal();var i=e.getPanelContentElem(t);o.renderContent(i),o.show()}}var a=this.dropPanel;if(a.isShow){var c=this.$elem,l=c.offset().left,u=c.parents(".k-e-bar");l-u.offset().left>=u.width()/2?a.$elem.css({left:"none",right:"0"}):a.$elem.css({left:"0",right:"none"})}}}}]),n}();function uE(e){var t=function(){if("undefined"==typeof Reflect||!DS)return!1;if(DS.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(DS(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=KS(e);if(t){var o=KS(this).constructor;n=DS(r,arguments,o)}else n=r.apply(this,arguments);return US(this,n)}}var sE=function(e){_S(n,oE);var t=uE(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Yv(this,n),r=t.call(this,e),sb(zS(r),"type","modal"),sb(zS(r),"$elem",d('<div class="k-e-modal"></div>')),sb(zS(r),"width",0),o&&(r.width=o);var i=zS(r).$elem;return i.on("click",(function(e){return e.stopPropagation()})),i.on("keyup",(function(t){"Escape"===t.code&&(r.hide(),e.restoreSelection())})),r}return Kv(n,[{key:"genSelfElem",value:function(){var e=this,t=d('<span class="btn-close">'.concat('<svg viewBox="0 0 1024 1024"><path d="M1024 896.1024l-128 128L512 640 128 1024 0 896 384 512 0 128 128 0 512 384 896.1024 0l128 128L640 512z"></path></svg>',"</span>")),n=rp.get(this);return t.on("click",(function(){e.hide(),null==n||n.restoreSelection()})),t}},{key:"setStyle",value:function(e){var t=this.width,n=this.$elem;n.attr("style",""),t&&n.css("width","".concat(t,"px")),n.css(e)}}]),n}();function fE(e,t,n){var r,o=d('<label class="babel-container"></label>');o.append("<span>".concat(e,"</span>"));var i=d(Sv(r='<input type="text" id="'.concat(t,'" placeholder="')).call(r,n||"",'">'));return o.append(i),[o[0],i[0]]}function dE(e,t,n){var r,o=d('<label class="babel-container"></label>');o.append("<span>".concat(e,"</span>"));var i=d(Sv(r='<textarea type="text" id="'.concat(t,'" placeholder="')).call(r,n||"",'"></textarea>'));return o.append(i),[o[0],i[0]]}function vE(e,t){var n,r=d('<div class="button-container"></div>'),o=d(Sv(n='<button type="button" id="'.concat(e,'">')).call(n,t,"</button>"));return r.append(o),[r[0],o[0]]}function hE(e){var t=function(){if("undefined"==typeof Reflect||!DS)return!1;if(DS.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(DS(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=KS(e);if(t){var o=KS(this).constructor;n=DS(r,arguments,o)}else n=r.apply(this,arguments);return US(this,n)}}var pE=function(e){_S(n,QS);var t=hE(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Yv(this,n),r=t.call(this,e,o),sb(zS(r),"$body",d("body")),sb(zS(r),"modal",null),r.menu=e,r}return Kv(n,[{key:"onButtonClick",value:function(){this.menu.showModal&&this.handleModal()}},{key:"getPosition",value:function(){var e=TE(this),t=this.menu.getModalPositionNode(e);return r.isElement(t)?Ex(e,t,"modal"):Sx(e)}},{key:"handleModal",value:function(){var e=TE(this),t=this.menu;if(null==this.modal){var n=new sE(e,t.modalWidth);this.renderAndShowModal(n,!0),this.modal=n}else{var r=this.modal;r.isShow?r.hide():this.renderAndShowModal(r,!1)}}},{key:"renderAndShowModal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=TE(this),r=this.menu;if(null!=r.getModalContentElem){var o=Km.getTextarea(n),i=Km.getToolbar(n),a=((null==i?void 0:i.getConfig())||{}).modalAppendToBody,c=r.getModalContentElem(n);if(e.renderContent(c),a)e.setStyle({left:"0",right:"0"});else{var l=this.getPosition();e.setStyle(l)}t&&(a?e.appendTo(this.$body):e.appendTo(o.$textAreaContainer)),e.show(),a||Ox(n,e.$elem),Ic((function(){n.blur()}))}}}]),n}();function gE(e){var t=function(){if("undefined"==typeof Reflect||!DS)return!1;if(DS.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(DS(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=KS(e);if(t){var o=KS(this).constructor;n=DS(r,arguments,o)}else n=r.apply(this,arguments);return US(this,n)}}var yE=function(e){_S(n,oE);var t=gE(n);function n(e,r,o){var i;return Yv(this,n),i=t.call(this,e),sb(zS(i),"type","selectList"),sb(zS(i),"$elem",d('<div class="k-e-select-list"></div>')),r&&i.$elem.css("width","".concat(r,"px")),null!=o&&o.wide&&i.$elem.addClass("k-e-select-list-wide"),i.$elem.on("click",(function(e){e.stopPropagation()})),i}return Kv(n,[{key:"renderList",value:function(e){var t=this.$elem;t.empty();var n=d("<ul></ul>");ci(e).call(e,(function(e){var t=e.value,r=e.text,o=e.selected,i=e.styleForRenderMenuList,a=e.line,c=e.title,l=e.textIsTag,u=e.showSelectedIcon,s=void 0===u||u;if((t||r)&&"-"!==r&&"-"!==t){var f=d('<li data-value="'.concat(t,'"></li>'));if(i&&f.css(i),a&&f.addClass("k-e-select-list-line"),o){if(s){var v=d('<svg viewBox="0 0 1446 1024"><path d="M574.116299 786.736392 1238.811249 48.517862C1272.390222 11.224635 1329.414799 7.827718 1366.75664 41.450462 1403.840015 74.840484 1406.731043 132.084741 1373.10189 169.433699L655.118888 966.834607C653.072421 969.716875 650.835807 972.514337 648.407938 975.210759 615.017957 1012.29409 558.292155 1015.652019 521.195664 982.250188L72.778218 578.493306C35.910826 545.297758 32.859041 488.584019 66.481825 451.242134 99.871807 414.158803 156.597563 410.800834 193.694055 444.202665L574.116299 786.736392Z"></path></svg>');v.addClass("k-e-select-list-selected"),f.append(v)}f.addClass("selected")}if(l){var h=d(r).attr("data-value",t);f.append(h)}else{var p;f.append(d(Sv(p='<span data-value="'.concat(t,'">')).call(p,r,"</span>")))}f.attr("title",null!=c?c:r),n.append(f)}})),t.append(n)}},{key:"genSelfElem",value:function(){return null}}]),n}();var mE=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Yv(this,e),sb(this,"$elem",d('<div class="k-e-bar-item"></div>')),sb(this,"$button",d('<button type="button" class="select-button"></button>')),sb(this,"disabled",!1),sb(this,"selectList",null);var o=t.tag,i=t.title,a=t.width,c=t.iconSvg,l=void 0===c?"":c,u=t.hotkey,s=void 0===u?"":u;if("select"!==o)throw new Error("Invalid tag '".concat(o,"', expected 'select'"));var f=this.$button;if(a&&f.css("width","".concat(a,"px")),JS(f,l,i,s,r),l){var v=d(l),h=YS();f.append(v),f.append(h)}this.$elem.append(f),this.menu=t,Em((function(){return n.init()}))}return Kv(e,[{key:"init",value:function(){var e=this;this.menu.iconSvg||this.setSelectedValue(),this.$button.on("click",(function(t){t.preventDefault(),e.trigger()}))}},{key:"trigger",value:function(){var e=this,t=TE(this),n=t.getConfig().sourceEditor;if(!t.isDisabled()&&!n&&!this.disabled){var r=this.menu;if(null==this.selectList){t.hidePanelOrModal(),this.selectList=new yE(t,r.selectPanelWidth,r);var o=this.selectList,i=r.getOptions(t);o.renderList(i),o.appendTo(this.$elem),o.show(),o.$elem.on("click","li",(function(t){var n=t.target;if(null!=n){t.preventDefault();for(var r=d(n),o=r.attr("data-value"),i=r;i&&null==o;)o=(i=i.parent()).attr("data-value");"line"!==o&&e.onChange(o)}}))}else{var a=this.selectList;if(a.isShow)a.hide();else{t.hidePanelOrModal();var c=r.getOptions(t);a.renderList(c),a.show()}}}}},{key:"onChange",value:function(e){var t=this,n=TE(this),r=this.menu;r.exec&&r.exec(n,e),r.setValue&&Em((function(){return t.setSelectedValue()}))}},{key:"setSelectedValue",value:function(){var e=TE(this),t=this.menu,n=t.getValue(e);if(void 0!==n){var r=this.$button,o=t.getOptions(e),i=YS(),a=function(e,t){for(var n,r=e.length,o=0;o<r;o++){var i=e[o];if(i.value===t){n=i;break}}return n}(o,n.toString());"fontSize"===this.menu.key&&(a={text:n.toString(),value:n.toString()}),a&&(r.empty(),a.textIsTag?r.append(a.text):r.text(a.text),r.append(i))}}},{key:"setDisabled",value:function(){var e=TE(this),t=e.isDisabled(),n=e.getConfig().sourceEditor,r=this.$button,o="disabled";t||n?r.addClass(o):r.removeClass(o),this.disabled=t}},{key:"changeMenuState",value:function(){this.setSelectedValue(),this.setDisabled()}}]),e}(),bE=Zo.find,wE="find",xE=!0;wE in[]&&Array(1)[wE]((function(){xE=!1})),uo({target:"Array",proto:!0,forced:xE},{find:function(e){return bE(this,e,arguments.length>1?arguments[1]:void 0)}}),xo();var SE=ri("Array").find,EE=Array.prototype,OE=function(e){var t=e.find;return e===EE||vt(EE,e)&&t===EE.find?SE:t},kE=function(){function e(t){Yv(this,e),sb(this,"$elem",d('<div class="k-e-bar-item k-e-bar-item-group"></div>')),sb(this,"$container",d('<div class="k-e-bar-item-menus-container"></div>')),sb(this,"$button",d('<button type="button"></button>'));var n=t.iconSvg,r=t.title,o=this.$elem,i=this.$button;if(n){var a=d(n);qS(a),i.append(a)}else i.text(r);var c=YS();i.append(c),o.append(i);var l=this.$container;o.append(l);var u=this.createObserver();this.observe(u)}return Kv(e,[{key:"appendBarItem",value:function(e){var t=e.$elem;this.$container.append(t)}},{key:"observe",value:function(e){var t=this.$container;e.observe(t[0],{childList:!0,subtree:!0,attributes:!0})}},{key:"createObserver",value:function(){var e=this,t=this.$container,n=this.$button,r=new MutationObserver((function(){var o=OE(t).call(t,"button"),i=o.length;if(0!==i){var a=0;o.each((function(e){d(e).hasClass("disabled")&&a++})),r.disconnect(),a===i?n.addClass("disabled"):n.removeClass("disabled"),e.observe(r)}}));return r}}]),e}(),CE=new qh;function TE(e){var t=tp.get(e);if(null==t)throw new Error("Can not get editor instance");return t}function NE(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=CE.get(e);if(n)return n;var r=e.tag;if("button"===r){var o=e.showDropPanel,i=e.showModal;n=o?new lE(e,t):i?new pE(e,t):new eE(e,t)}if("select"===r&&(n=new mE(e,t)),null==n)throw new Error("Invalid tag in menu ".concat(Wd(e)));return CE.set(e,n),n}function PE(e,t){var r=e.selection;if(null==r)return!1;if(n.isCollapsed(r))return!1;var i=Km.getSelectedElems(e),a=lw(i).call(i,(function(t){var n;if(e.isVoid(t))return!0;var r=t.type;return!!ov(n=["pre","code","table"]).call(n,r)||void 0}));return!a&&!!o.isText(t)}var ME=function(){function t(){var e=this;Yv(this,t),sb(this,"$elem",d('<div class="k-e-bar k-e-bar-hidden k-e-hover-bar"></div>')),sb(this,"menus",{}),sb(this,"hoverbarItems",[]),sb(this,"prevSelectedNode",null),sb(this,"isShow",!1),sb(this,"changeHoverbarState",ee((function(){var t=e.isShow,n=e.getSelectedNodeAndMenuKeys()||{},o=n.node,i=void 0===o?null:o,a=n.menuKeys,c=void 0===a?[]:a;if((null!=i&&e.changeItemsState(),i&&r.isElement(i))&&(t&&e.isSamePath(i,e.prevSelectedNode)))return;e.hideAndClean(),null!=i&&(e.registerItems(c),e.setPosition(i),e.show()),e.prevSelectedNode=i}),200)),Em((function(){var t,n=e.getEditorInstance(),r=e.$elem;r.on("mousedown",(function(e){return e.preventDefault()})),Km.getTextarea(n).$textAreaContainer.append(r),n.on("change",e.changeHoverbarState);var o=Ix(t=e.hideAndClean).call(t,e);n.on("scroll",o),n.on("fullScreen",o),n.on("unFullScreen",o)}))}return Kv(t,[{key:"getMenus",value:function(){return this.menus}},{key:"hideAndClean",value:function(){var e=this.$elem,t=this.getEditorInstance();Km.getSelectedNodeByType(t,"custom-paste")||(e.removeClass("k-e-bar-show k-e-bar-custom-paste").addClass("k-e-bar-hidden"),this.hoverbarItems=[],this.menus.saveCustomPasteFormat&&delete this.menus.saveCustomPasteFormat,e.empty(),this.isShow=!1)}},{key:"checkPositionBottom",value:function(){var e=this.$elem,t=!1,n=window.innerHeight;n&&n>=360&&(n-e[0].getBoundingClientRect().bottom<360&&(t=!0));t?e.addClass("k-e-bar-bottom"):e.removeClass("k-e-bar-bottom")}},{key:"show",value:function(){var e=this.getEditorInstance(),t=e.getConfig().sourceEditor;if(!e.isDisabled()&&!t){var n=this.menus.saveCustomPasteFormat?"k-e-bar-custom-paste k-e-bar-show":"k-e-bar-show";this.$elem.removeClass("k-e-bar-hidden").addClass(n),this.isShow=!0,this.checkPositionBottom()}}},{key:"changeItemsState",value:function(){var e=this;Em((function(){var t;ci(t=e.hoverbarItems).call(t,(function(e){e.changeMenuState()}))}))}},{key:"registerItems",value:function(e){var t=this,n=this.$elem;ci(e).call(e,(function(e){if("|"!==e)t.registerSingleItem(e);else{var r=XS();n.append(r)}}))}},{key:"registerSingleItem",value:function(e){var t=this.getEditorInstance(),n=this.menus,r=n[e];if(null==r){var o=hb[e];if(null==o)throw new Error("Not found menu item factory by key '".concat(e,"'"));if("function"!=typeof o)throw new Error("Menu item factory (key='".concat(e,"') is not a function"));r=o(),n[e]=r}var i=NE(r);this.hoverbarItems.push(i),tp.set(i,t),this.$elem.append(i.$elem)}},{key:"setPosition",value:function(e){var t=this.getEditorInstance(),n=this.$elem;if(n.attr("style",""),r.isElement(e)){var i=Ex(t,e,"bar");return n.css(i),void Ox(t,n)}if(o.isText(e)){var a=Sx(t);return n.css(a),void Ox(t,n)}throw new Error("hoverbar.setPosition error, current selected node is not elem nor text")}},{key:"getSelectedNodeAndMenuKeys",value:function(){var t=this.getEditorInstance();if(null==t.selection)return null;var n=this.getHoverbarKeysConf(),r=null,o=[],i=function(i){var a=n[i],c=a.match,l=a.menuKeys,u=void 0===l?[]:l,s=c||function(e,t){return Km.checkNodeType(t,i)},f=e.nodes(t,{match:function(e){return s(t,e)},universal:!0}),d=Ls(f,1)[0];if(null!=d)return r=d[0],o=u,"break"};for(var a in n){if("break"===i(a))break}return null==r||0===o.length?null:{node:r,menuKeys:o}}},{key:"getEditorInstance",value:function(){var e=Zh.get(this);if(null==e)throw new Error("Can not get editor instance");return e}},{key:"getHoverbarKeysConf",value:function(){var e=this.getEditorInstance().getConfig().hoverbarKeys,t=void 0===e?{}:e,n=t.text;return n&&null==n.match&&(n.match=PE),t}},{key:"isSamePath",value:function(e,t){if(null==e||null==t)return!1;var n=Km.findPath(null,e),r=Km.findPath(null,t);return a.equals(n,r)}},{key:"destroy",value:function(){this.changeHoverbarState.cancel(),this.$elem.remove(),this.menus={},this.hoverbarItems=[],this.prevSelectedNode=null}}]),t}();function AE(e,t){var n=fi(e);if(Ym){var r=Ym(e);t&&(r=eb(r).call(r,(function(t){return ob(e,t).enumerable}))),n.push.apply(n,r)}return n}function DE(e){for(var t=1;t<arguments.length;t++){var n,r,o=null!=arguments[t]?arguments[t]:{};t%2?ci(n=AE(Object(o),!0)).call(n,(function(t){sb(e,t,o[t])})):ib?lb(e,ib(o)):ci(r=AE(Object(o))).call(r,(function(t){ub(e,t,ob(o,t))}))}return e}function jE(n,o,i,a){if(lp.set(n,o),up.set(n,i),r.isElement(n)){var c=n.children,l=void 0===c?[]:c;if(ci(l).call(l,(function(e,t){return jE(e,t,n,a)})),e.isVoid(a,n)){var u=t.texts(n),s=Ls(u,1),f=Ls(s[0],1)[0];lp.set(f,0),up.set(f,n)}}}function IE(r){var o=r.selector,a=void 0===o?"":o,s=r.config,f=void 0===s?{}:s,v=r.content,h=r.html,p=r.plugins,g=void 0===p?[]:p,y=u(function(e){var n=e,r=n.insertText,o=n.insertNode,i=n.insertFragment;return n.insertText=function(e){if(n.getConfig().maxLength){var t=Km.getLeftLengthOfMaxLength(n);t<=0||(t<e.length?r(Jc(e).call(e,0,t)):r(e))}else r(e)},n.insertNode=function(e){if(n.getConfig().maxLength){var r=Km.getLeftLengthOfMaxLength(n);r<=0||r<t.string(e).length||o(e)}else o(e)},n.insertFragment=function(e){n.getConfig().maxLength?ci(e).call(e,(function(e){n.insertNode(e)})):i(e)},n}(wx(function(t){var r=t;return r.select=function(e){i.select(r,e)},r.deselect=function(){var e=r.selection,n=Km.findDocumentOrShadowRoot(r).getSelection();n&&n.rangeCount>0&&n.removeAllRanges(),e&&i.deselect(t)},r.moveToEnd=function(){r.focus();var t=e.end(r,[]);i.select(r,{anchor:t,focus:t})},r.restoreSelection=function(){var e=yp.get(r);null!=e&&(r.focus(),i.select(r,e))},r.getStoreSelection=function(){return yp.get(r)},r.getSelectionPosition=function(){return Sx(r)},r.getNodePosition=function(e){return Ex(r,e)},r.isSelectedAll=function(){var t=r.selection;if(null==t)return!1;var o=n.edges(t),i=Ls(o,2),a=i[0],l=i[1],u=e.edges(r,[]),s=Ls(u,2),f=s[0],d=s[1];return!(!c.equals(a,f)||!c.equals(l,d))},r.selectAll=function(){var t=e.start(r,[]),n=e.end(r,[]);i.select(r,{anchor:t,focus:n})},r}(vx(function(e){var t=e;return t.getMenuItemFactories=function(){return hb},t.getAllMenuKeys=function(){var e=[];for(var t in hb)e.push(t);return e},t.getConfig=function(){var e=op.get(t);if(null==e)throw new Error("Can not get editor config");return e},t.getMenuConfig=function(e){var n=t.getConfig().MENU_CONF;return(void 0===n?{}:n)[e]||{}},t.alert=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",r=t.getConfig().customAlert;r&&r(e,n)},t}(function(t){var n=t;return n.id="wangEditor-".concat(qm++),n.isDestroyed=!1,n.isFullScreen=!1,n.focus=function(t){if(Km.toDOMNode(n,n).focus({preventScroll:!0}),gp.set(n,!0),t){var r=e.end(n,[]);i.select(n,r)}else{var o=yp.get(n);o?i.select(n,o):i.select(n,e.start(n,[]))}},n.isFocused=function(){return!!gp.get(n)},n.blur=function(){Km.toDOMNode(n,n).blur(),i.deselect(n),gp.set(n,!1)},n.updateView=function(){Km.getTextarea(n).changeViewState();var e=Km.getToolbar(n);e&&e.changeToolbarState();var t=Km.getHoverbar(n);t&&t.changeHoverbarState()},n.destroy=function(){if(!n.isDestroyed){var e=Km.getTextarea(n);e.destroy(),Yh.delete(n),Xh.delete(e);var t=Km.getToolbar(n);t&&(t.destroy(),Qh.delete(n),Jh.delete(t));var r=Km.getHoverbar(n);r&&(r.destroy(),ep.delete(n),Zh.delete(r)),n.isDestroyed=!0,n.emit("destroyed")}},n.scrollToElem=function(e){if(n.getConfig().scroll){var t=d("#".concat(e));if(0!==t.length){var r=t[0];if(!Km.hasDOMNode(n,r)){var o="Element (found by id is '".concat(e,"') is not in editor DOM");return o+="\n éè¿ id '".concat(e,"' æ¾å°ç element ä¸å¨ editor DOM ä¹å"),void console.error(o,r)}var i=Km.getTextarea(n),a=i.$textAreaContainer,c=i.$scroll,l=t.offset().top,u=a.offset().top;c[0].scrollBy({top:l-u,behavior:"smooth"})}}else console.warn("ç¼è¾å¨ç¦ç¨äº scroll ï¼ç¼è¾å¨åå®¹æ æ³æ»å¨ï¼è¯·èªè¡å®ç°è¯¥åè½\nYou has disabled editor scroll, please do this yourself")},n.showProgressBar=function(e){e<1||Km.getTextarea(n).changeProgress(e)},n.hidePanelOrModal=function(){var e=np.get(n);null!=e&&ci(e).call(e,(function(e){return e.hide()}))},n.enable=function(){n.getConfig().readOnly=!1,n.updateView()},n.disable=function(){n.getConfig().readOnly=!0,n.updateView()},n.isDisabled=function(){return n.getConfig().readOnly},n.toDOMNode=function(e){return Km.toDOMNode(n,e)},n.fullScreen=function(e){if(!n.isFullScreen){var t=null,r=Km.getToolbar(n);r&&(t=r.$box);var o=Km.getTextarea(n).$box.parent();if(t&&t.parent()[0]!==o[0])throw new Error("Can not set full screen, cause toolbar DOM parent is not equal to textarea DOM parent\nä¸è½è®¾ç½®å¨å±ï¼å ä¸º toolbar DOM ç¶èç¹å textarea DOM ç¶èç¹ä¸ä¸è´");o.addClass("k-e-full-screen-container");var i=e||o.css("z-index");o.attr("data-z-index",i.toString()),e&&o.css("z-index",e),n.isFullScreen=!0,n.emit("fullScreen")}},n.unFullScreen=function(){if(n.isFullScreen){var e=Km.getTextarea(n).$box.parent();Ic((function(){e.removeClass("k-e-full-screen-container"),e.removeAttr("data-z-index"),e.css("z-index",""),n.isFullScreen=!1,n.emit("unFullScreen")}),200)}},n.getEditableContainer=function(){return Km.getTextarea(n).$textAreaContainer[0]},n.formatBrushStatus=0,n.formatBrush=function(e,t){n.formatBrushStatus=e||0,n.formatBrushStyle=t,n.emit("formatBrush")},n.toggleSource=function(e){var t=n.getConfig();return t.sourceEditor=e,t},n}(gx(l()))))))));if(a&&function(e,t){return ox(e,"data-k-e-textarea",t)}(y,a))throw new Error("Repeated create editor by selector '".concat(a,"'"));var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=te(fb),n={},r=e.MENU_CONF,o=void 0===r?{}:r;return _(t,(function(e,t){n[t]=DE(DE({},e),o[t]||{})})),delete e.MENU_CONF,DE({scroll:!0,readOnly:!1,autoFocus:!0,decorate:function(){return[]},maxLength:0,MENU_CONF:n,hoverbarKeys:{},customAlert:function(e,t){var n;window.alert(Sv(n="".concat(t,":\n")).call(n,e))}},e)}(f);op.set(y,m);var b=m.hoverbarKeys,w=void 0===b?{}:b;if(ci(g).call(g,(function(e){y=e(y)})),null!=h&&(y.children=cx(y,h)),v&&v.length&&(y.children=v),0===y.children.length&&(y.children=function(e){return[Km.genEmptyParagraph(e)]}(y)),Km.normalizeContent(y),a){var x,S=new kS(a);Yh.set(y,S),Xh.set(S,y),S.changeViewState(),Em((function(){var e=S.$scroll;if(null!=e&&e.height()<300){"\nTextarea height < 300px . This may be cause modal and hoverbar position error",console.warn("ç¼è¾åºåé«åº¦ < 300px è¿å¯è½ä¼å¯¼è´ modal hoverbar å®ä½å¼å¸¸\nTextarea height < 300px . This may be cause modal and hoverbar position error",e)}})),fi(w).length>0&&(x=new ME,Zh.set(x,y),ep.set(y,x)),y.on("change",(function(){y.hidePanelOrModal()})),y.on("scroll",(function(){y.hidePanelOrModal()}))}else{var E;ci(E=y.children).call(E,(function(e,t){return jE(e,t,y,y)}))}var O=m.onCreated,k=m.onDestroyed,C=m.onEvent;return O&&y.on("created",(function(){return O(y)})),k&&y.on("destroyed",(function(){return k(y)})),C&&y.on("event",(function(e){return C(y,e)})),Em((function(){return y.emit("created")})),y}var RE,FE,LE,BE={},_E=!bi((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),$E=Ya("IE_PROTO"),zE=Object,WE=zE.prototype,UE=_E?zE.getPrototypeOf:function(e){var t=Pi(e);if(Ai(t,$E))return t[$E];var n=t.constructor;return ea(n)&&t instanceof n?n.prototype:t instanceof zE?WE:null},HE=qi("iterator"),VE=!1;[].keys&&("next"in(LE=[].keys())?(FE=UE(UE(LE)))!==Object.prototype&&(RE=FE):VE=!0);var GE=!ra(RE)||bi((function(){var e={};return RE[HE].call(e)!==e}));GE&&(RE={}),ea(RE[HE])||oc(RE,HE,(function(){return this}));var KE={IteratorPrototype:RE,BUGGY_SAFARI_ITERATORS:VE},qE=Ia.f,YE=qi("toStringTag"),XE=function(e,t,n){e&&!n&&(e=e.prototype),e&&!Ai(e,YE)&&qE(e,YE,{configurable:!0,value:t})},JE=KE.IteratorPrototype,QE=function(){return this},ZE=Ba.PROPER,eO=Ba.CONFIGURABLE,tO=KE.IteratorPrototype,nO=KE.BUGGY_SAFARI_ITERATORS,rO=qi("iterator"),oO="keys",iO="values",aO="entries",cO=function(){return this},lO=function(e,t){return{value:e,done:t}},uO=Ia.f,sO="Array Iterator",fO=nc.set,dO=nc.getterFor(sO),vO=function(e,t,n,r,o,i,a){!function(e,t,n,r){var o=t+" Iterator";e.prototype=Kf(JE,{next:Ga(+!r,n)}),XE(e,o,!1),BE[o]=QE}(n,t,r);var c,l,u,s=function(e){if(e===o&&p)return p;if(!nO&&e in v)return v[e];switch(e){case oO:case iO:case aO:return function(){return new n(this,e)}}return function(){return new n(this)}},f=t+" Iterator",d=!1,v=e.prototype,h=v[rO]||v["@@iterator"]||o&&v[o],p=!nO&&h||s(o),g="Array"==t&&v.entries||h;if(g&&(c=UE(g.call(new e)))!==Object.prototype&&c.next&&(UE(c)!==tO&&(bb?bb(c,tO):ea(c[rO])||oc(c,rO,cO)),XE(c,f,!0)),ZE&&o==iO&&h&&h.name!==iO&&(eO?Ka(v,"name",iO):(d=!0,p=function(){return va(h,this)})),o)if(l={values:s(iO),keys:i?p:s(oO),entries:s(aO)},a)for(u in l)(nO||d||!(u in v))&&oc(v,u,l[u]);else Of({target:t,proto:!0,forced:nO||d},l);return v[rO]!==p&&oc(v,rO,p,{name:o}),BE[t]=p,l}(Array,"Array",(function(e,t){fO(this,{type:sO,target:Vs(e),index:0,kind:t})}),(function(){var e=dO(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,lO(void 0,!0)):lO("keys"==n?r:"values"==n?t[r]:[r,t[r]],!1)}),"values"),hO=BE.Arguments=BE.Array;if(Zp("keys"),Zp("values"),Zp("entries"),ta&&"values"!==hO.name)try{uO(hO,"name",{value:"values"})}catch(e){}var pO={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},gO=aa("span").classList,yO=gO&&gO.constructor&&gO.constructor.prototype,mO=yO===Object.prototype?void 0:yO,bO=qi("iterator"),wO=qi("toStringTag"),xO=vO.values,SO=function(e,t){if(e){if(e[bO]!==xO)try{Ka(e,bO,xO)}catch(t){e[bO]=xO}if(e[wO]||Ka(e,wO,t),pO[t])for(var n in vO)if(e[n]!==vO[n])try{Ka(e,n,vO[n])}catch(t){e[n]=vO[n]}}};for(var EO in pO)SO(vi[EO]&&vi[EO].prototype,EO);SO(mO,"DOMTokenList");var OO,kO=ri("Array").keys,CO=Array.prototype,TO={DOMTokenList:!0,NodeList:!0},NO=function(e){var t=e.keys;return e===CO||vt(CO,e)&&t===CO.keys||Bt(TO,Yr(e))?kO:t},PO=function(){function e(t,n){var r=this;Yv(this,e),sb(this,"$toolbar",d('<div class="k-e-bar k-e-bar-show k-e-toolbar"></div>')),sb(this,"menus",{}),sb(this,"toolbarItems",[]),sb(this,"config",{}),sb(this,"changeToolbarState",ee((function(){var e;ci(e=r.toolbarItems).call(e,(function(e){e.changeMenuState()}))}),200)),this.config=n;var o=d(t);if(0===o.length)throw new Error("Cannot find toolbar DOM by selector '".concat(t,"'"));this.$box=o;var i=this.$toolbar;n.h5Mode&&i.addClass("k-e-h5"),n.compact&&i.addClass("k-e-compact"),i.on("mousedown",(function(e){return e.preventDefault()})),o.append(i),Em((function(){r.registerItems(),r.changeToolbarState();var e=r.getEditorInstance();e.on("change",r.changeToolbarState),i.on("click",".k-e-bar-item",(function(){e.isDisabled()||(e.getStoreSelection()?e.restoreSelection():e.moveToEnd())}))}))}return Kv(e,[{key:"getMenus",value:function(){return this.menus}},{key:"getConfig",value:function(){return this.config}},{key:"registerItems",value:function(){var e,t=this,n="",r=this.$toolbar,o=this.config,i=o.toolbarKeys,a=void 0===i?[]:i,c=o.insertKeys,l=void 0===c?{index:0,keys:[]}:c,u=o.excludeKeys,s=void 0===u?[]:u,f=te(a);NO(l).length>0&&("string"==typeof NO(l)&&(l.keys=[NO(l)]),ci(e=NO(l)).call(e,(function(e,t){Nw(f).call(f,l.index+t,0,e)})));var d=eb(f).call(f,(function(e){if("string"==typeof e){if(ov(s).call(s,e))return!1}else if(ov(s).call(s,e.key))return!1;return!0})),v=d.length;ci(d).call(d,(function(e,o){if("|"===e){if(0===o)return;if(o+1===v)return;if("|"===n)return;var i=XS();return r.append(i),void(n=e)}if("string"==typeof e)return t.registerSingleItem(e,t),void(n=e);t.registerGroup(e),n="group"}))}},{key:"registerGroup",value:function(e){var t=this,n=this.$toolbar,r=function(e){return new kE(e)}(e),o=e.menuKeys,i=void 0===o?[]:o,a=this.config.excludeKeys,c=void 0===a?[]:a;ci(i).call(i,(function(e){ov(c).call(c,e)||t.registerSingleItem(e,r)})),n.append(r.$elem)}},{key:"registerSingleItem",value:function(e,t){var n=this.getEditorInstance(),r=t instanceof kE,o=this.menus,i=o[e];if(null==i){var a=hb[e];if(null==a)throw new Error("Not found menu item factory by key '".concat(e,"'"));if("function"!=typeof a)throw new Error("Menu item factory (key='".concat(e,"') is not a function"));i=a(),o[e]=i}else{var c;console.warn(Sv(c="Duplicated toolbar menu key '".concat(e,"'\néå¤æ³¨åäºèåæ  menu '")).call(c,e,"'"))}var l=NE(i,r);(this.toolbarItems.push(l),tp.set(l,n),r)?t.appendBarItem(l):t.$toolbar.append(l.$elem)}},{key:"getEditorInstance",value:function(){var e=Jh.get(this);if(null==e)throw new Error("Can not get editor instance");return e}},{key:"destroy",value:function(){this.$toolbar.remove(),this.menus={},this.toolbarItems=[]}}]),e}();function MO(e,t){if(null==e)throw new Error("Cannot create toolbar, because editor is null");var n=t.selector,r=t.config,o=void 0===r?{}:r;if(function(e,t){return ox(e,"data-k-e-toolbar",t)}(e,n))throw new Error("Repeated create toolbar by selector '".concat(n,"'"));var i=DE({toolbarKeys:[],excludeKeys:[],insertKeys:{index:0,keys:[]},modalAppendToBody:!1},o||{}),a=new PO(n,i);return Jh.set(a,e),Qh.set(e,a),a}function AO(e){var t=e.server,n=void 0===t?"":t,r=e.fieldName,o=void 0===r?"":r,i=e.maxFileSize,a=void 0===i?10485760:i,c=e.maxNumberOfFiles,l=void 0===c?100:c,u=e.meta,s=void 0===u?{}:u,f=e.metaWithUrl,d=void 0!==f&&f,v=e.headers,h=void 0===v?{}:v,p=e.withCredentials,g=void 0!==p&&p,y=e.timeout,m=void 0===y?1e4:y,b=e.onBeforeUpload,w=void 0===b?function(e){return e}:b,x=e.onSuccess,S=void 0===x?function(e,t){}:x,E=e.onError,O=void 0===E?function(e,t,n){console.error("".concat(e.name," upload error"),t,n)}:E,k=e.onProgress,C=void 0===k?function(e){}:k;if(!n)throw new Error("Cannot get upload server address\næ²¡æéç½®ä¸ä¼ å°å");if(!o)throw new Error("Cannot get fieldName\næ²¡æéç½® fieldName");var T=n;d&&(T=function(e,t){var n=e.split("#"),r=Ls(n,2),o=r[0],i=r[1],a=[];_(t,(function(e,t){var n;a.push(Sv(n="".concat(t,"=")).call(n,e))}));var c,l,u,s=a.join("&");return o=Tp(o).call(o,"?")>0?Sv(c="".concat(o,"&")).call(c,s):Sv(l="".concat(o,"?")).call(l,s),i?Sv(u="".concat(o,"#")).call(u,i):o}(T,s));var N=new ne({onBeforeUpload:w,restrictions:{maxFileSize:a,maxNumberOfFiles:l},meta:s}).use(re,{endpoint:T,headers:h,formData:!0,fieldName:o,bundle:!0,withCredentials:g,timeout:m});return N.on("upload-success",(function(e,t){var n=t.body,r=void 0===n?{}:n;try{S(e,r)}catch(e){console.error("wangEditor upload file - onSuccess error",e)}N.removeFile(e.id)})),N.on("progress",(function(e){e<1||C(e)})),N.on("error",(function(e){console.error("wangEditor file upload error",e.stack)})),N.on("upload-error",(function(e,t,n){try{O(e,t,n)}catch(e){console.error("wangEditor upload file - onError error",e)}N.removeFile(e.id)})),N.on("restriction-failed",(function(e,t){try{e&&O(e,t)}catch(e){console.error("wangEditor upload file - onError error",e)}e&&N.removeFile(e.id)})),N}var DO="translation";function jO(e,t){oe.addResourceBundle(e,DO,t,!0,!0)}function IO(e){oe.changeLanguage(e)}function RO(e){return oe.getResourceBundle(e,DO)}oe.init({lng:"zh-CN",resources:{}});var FO=Ix(OO=oe.t).call(OO,oe);export{ww as DISPLAY_FLEX_GRID,Km as DomEditor,ew as ELEM_TO_HTML_CONF,mw as PARSE_ELEM_HTML_CONF,gw as PARSE_STYLE_HTML_FN_LIST,hw as PRE_PARSE_HTML_CONF_LIST,Qx as RENDER_ELEM_CONF,Xx as RENDER_STYLE_HANDLER_LIST,Qb as STYLE_TO_HTML_FN_LIST,vw as TEXT_TAGS,PO as Toolbar,IE as coreCreateEditor,MO as coreCreateToolbar,AO as createUploader,vE as genModalButtonElems,fE as genModalInputElems,dE as genModalTextareaElems,jO as i18nAddResources,IO as i18nChangeLanguage,RO as i18nGetResources,tw as registerElemToHtmlConf,pb as registerMenu,bw as registerParseElemHtmlConf,yw as registerParseStyleHtmlHandler,pw as registerPreParseHtmlConf,Zx as registerRenderElemConf,Jx as registerStyleHandler,Zb as registerStyleToHtmlHandler,FO as t};
//# sourceMappingURL=index.esm.js.map
